import 'package:flutter/material.dart';
import 'package:flutter_rating_bar/flutter_rating_bar.dart';
import 'package:hire_app/Dashboard.dart';
import 'package:intl/intl.dart';

import 'Candidate.dart';

final GlobalKey<FormState> _formKey = GlobalKey<FormState>();

final GlobalKey<FormState> _formKey2 = GlobalKey<FormState>();
class seeall extends StatefulWidget {
  //const seeall({Key? key}) : super(key: key);

  int k;
  seeall(this.k);

  @override
  _seeallState createState() => _seeallState(k);
}

String _dropDownValueNot = "";
String _dropDownValueNot1 = "";
String _dropDownValuectc = "";
String _dropDownValueexp = "";
String title="";

class _seeallState extends State<seeall> {
  int k;
  int e=0;
  List<String> Notice=[];
  List<String> Ctc=[];
  List<String> Exp=[];
  List<bool> isSelected1 = List.generate(2, (index) => false);
  String _dropDownValue="";
  _seeallState(this.k);

  @override
  Widget build(BuildContext context) {
    if(k==1) {
      title = "Shortlisted";
    }
    else if(k==2){
      title="Interviewed";
    }
    else{
      title="Hired";
    }
    Size size = MediaQuery.of(context).size;
    return Scaffold(
      backgroundColor:Color.fromARGB(244,244, 239, 235),
      body: FutureBuilder(
                  future: getDashboardApi(),
                  builder: (context,AsyncSnapshot<Dashboard1> snapshot) {
                    print("fetched");
                    if (snapshot.hasData){

                      if(Notice.isEmpty && k==1) {
                        for (var i = 0; i < snapshot.data!.data.data.shortListCandidates.length; i++) {
                          String not = snapshot.data!.data.data.shortListCandidates[i].notice.toString();
                          String ct = snapshot.data!.data.data.shortListCandidates[i].ctc.toString();
                          String ex = snapshot.data!.data.data.shortListCandidates[i].exp.toString();

                          if(!Notice.contains("${not} days") && not!="0")
                            Notice.add("${not} days");
                          if(!Notice.contains("Immediate") && not=="0")
                            Notice.add("Immediate");
                          if(!Ctc.contains("${ct} LPA")!)
                            Ctc.add("${ct} LPA");
                          if(!Exp.contains("${ex} yrs") && ex!="1")
                            Exp.add("${ex} yrs");
                          if(!Exp.contains("${ex} yr") && ex=="1")
                            Exp.add("${ex} yr");
                        }
                      }
                      if(Notice.isEmpty && k==2) {
                        for (var i = 0; i < snapshot.data!.data.data.intetviewListCandidates.length; i++) {
                          String not = snapshot.data!.data.data.intetviewListCandidates[i].notice.toString();
                          String ct = snapshot.data!.data.data.intetviewListCandidates[i].ctc.toString();
                          String ex = snapshot.data!.data.data.intetviewListCandidates[i].exp.toString();

                          if(!Notice.contains("${not} days") && not!="0")
                            Notice.add("${not} days");
                          if(!Notice.contains("Immediate") && not=="0")
                            Notice.add("Immediate");
                          if(!Ctc.contains("${ct} LPA")!)
                            Ctc.add("${ct} LPA");
                          if(!Exp.contains("${ex} yrs") && ex!="1")
                            Exp.add("${ex} yrs");
                          if(!Exp.contains("${ex} yr") && ex=="1")
                            Exp.add("${ex} yr");
                        }
                      }
                      else if(Notice.isEmpty) {
                        for (var i = 0; i < snapshot.data!.data.data.selectedListCandidates.length; i++) {
                          String not = snapshot.data!.data.data.selectedListCandidates[i].notice.toString();
                          String ct = snapshot.data!.data.data.selectedListCandidates[i].ctc.toString();
                          String ex = snapshot.data!.data.data.selectedListCandidates[i].exp.toString();

                          if(!Notice.contains("${not} days") && not!="0")
                            Notice.add("${not} days");
                          if(!Notice.contains("Immediate") && not=="0")
                            Notice.add("Immediate");
                          if(!Ctc.contains("${ct} LPA")!)
                            Ctc.add("${ct} LPA");
                          if(!Exp.contains("${ex} yrs") && ex!="1")
                            Exp.add("${ex} yrs");
                          if(!Exp.contains("${ex} yr") && ex=="1")
                            Exp.add("${ex} yr");
                        }
                      }

                      return SafeArea(
                        child: Container(
                            height: size.height,
                            width: size.width,
                            decoration: new BoxDecoration(
                                image: new DecorationImage(
                                  image: new AssetImage("images/gradient1.png"),
                                  fit: BoxFit.cover,
                                )),
                            child: Padding(
                              padding: const EdgeInsets.only(left: 20.0, right: 20),
                              child: SingleChildScrollView(
                                child: Padding(
                                  padding: const EdgeInsets.only(top: 15.0),
                                  child: Column(
                                    children: [

                                      Row(
                                        children: [
                                          GestureDetector(
                                            onTap: (){

                                              Navigator.pushReplacement(
                                                  context, MaterialPageRoute(
                                                  builder: (context) => Dashboard()));
                                            },
                                            child: Icon(Icons.arrow_back_ios,color: Colors.black,size: 25,),
                                          ),

                                          Text(title,style:TextStyle(fontSize: 30,fontWeight: FontWeight.bold)),
                                          Text(" Candidates",style:TextStyle(fontSize: 30,fontWeight: FontWeight.bold,color: Colors.blue[800])),
                                        ],
                                      ),
                                      SizedBox(height: 20,),


                                      Row(
                                        mainAxisAlignment: MainAxisAlignment.spaceEvenly,
                                        children: [
                                          FormField<String>(
                                            builder: (FormFieldState<String> state) {
                                              String _currentSelectedValue='';
                                              return Card(
                                                shape: RoundedRectangleBorder(
                                                    borderRadius: BorderRadius.circular(10)
                                                ),
                                                child: Container(
                                                  height: 55,
                                                  width: size.width/3.7,
                                                  //padding: EdgeInsets.only(left: 10,right: 10),
                                                  child: InputDecorator(
                                                    decoration: InputDecoration(
                                                      //labelText: 'CLASS',
                                                      //hintText: "Notice",
                                                        labelStyle: TextStyle(fontFamily: "Candara",fontSize: 14),
                                                        errorStyle: TextStyle(fontFamily:"Candara",color: Colors.redAccent, fontSize: 16.0),
                                                        //hintText: 'Please select expense',,
                                                        enabledBorder:OutlineInputBorder(
                                                            borderSide: const BorderSide(color: Colors.grey, width: 0),
                                                            borderRadius: BorderRadius.circular(10)),
                                                        focusedBorder: OutlineInputBorder(
                                                            borderSide: const BorderSide(color: Colors.teal,width: 2.0),
                                                            borderRadius: BorderRadius.circular(10)
                                                        )),
                                                    //border: OutlineInputBorder(borderRadius: BorderRadius.circular(5.0))),
                                                    isEmpty: _currentSelectedValue == '',
                                                    child: DropdownButtonHideUnderline(
                                                        child: DropdownButton(
                                                          menuMaxHeight: 200,
                                                          hint: _dropDownValueNot == ""
                                                              ? Text('Notice',)
                                                              : Text(
                                                            _dropDownValueNot,
                                                            style: TextStyle(fontFamily: "Candara",color: Colors.black,fontSize: 14),
                                                          ),
                                                          isExpanded: false,
                                                          iconSize: 20,
                                                          style: TextStyle(color: Colors.black),
                                                          items: Notice.map(
                                                                (val) {
                                                              return DropdownMenuItem<String>(
                                                                value: val,
                                                                child: Text(val),
                                                              );
                                                            },
                                                          ).toList(),
                                                          onChanged: (String? val) {
                                                            _dropDownValueNot = val!;
                                                            _dropDownValueNot1= val!;
                                                            if(val=="Immediate")
                                                              _dropDownValueNot1="0 days";
                                                            (context as Element).markNeedsBuild();

                                                          },
                                                        )
                                                    ),
                                                  ),
                                                ),
                                              );
                                            },
                                          ),
                                          FormField<String>(
                                            builder: (FormFieldState<String> state) {
                                              String _currentSelectedValue='';
                                              return Card(
                                                shape: RoundedRectangleBorder(
                                                    borderRadius: BorderRadius.circular(10)
                                                ),
                                                child: Container(
                                                  height: 55,
                                                  width: size.width/3.7,
                                                  //padding: EdgeInsets.only(left: 10,right: 10),
                                                  child: InputDecorator(
                                                    decoration: InputDecoration(
                                                      //labelText: 'CLASS',
                                                      // hintText: "CTC",
                                                        labelStyle: TextStyle(fontFamily: "Candara"),
                                                        errorStyle: TextStyle(fontFamily:"Candara",color: Colors.redAccent, fontSize: 16.0),
                                                        //hintText: 'Please select expense',,
                                                        enabledBorder:OutlineInputBorder(
                                                            borderSide: const BorderSide(color: Colors.grey, width: 0),
                                                            borderRadius: BorderRadius.circular(10)),
                                                        focusedBorder: OutlineInputBorder(
                                                            borderSide: const BorderSide(color: Colors.teal,width: 0),
                                                            borderRadius: BorderRadius.circular(10)
                                                        )),
                                                    //border: OutlineInputBorder(borderRadius: BorderRadius.circular(5.0))),
                                                    isEmpty: _currentSelectedValue == '',
                                                    child: DropdownButtonHideUnderline(
                                                        child: DropdownButton(
                                                          menuMaxHeight: 200,
                                                          hint: _dropDownValuectc == ""
                                                              ? Text('CTC')
                                                              : Text(
                                                            _dropDownValuectc,
                                                            style: TextStyle(fontFamily: "Candara",color: Colors.black,fontSize: 16),
                                                          ),
                                                          isExpanded: false,
                                                          iconSize: 20,
                                                          style: TextStyle(color: Colors.black),
                                                          items: Ctc.map(
                                                                (val) {
                                                              return DropdownMenuItem<String>(
                                                                value: val,
                                                                child: Text(val),
                                                              );
                                                            },
                                                          ).toList(),
                                                          onChanged: (String? val) {
                                                            _dropDownValuectc = val!;
                                                            (context as Element).markNeedsBuild();

                                                          },
                                                        )
                                                    ),
                                                  ),
                                                ),
                                              );
                                            },
                                          ),
                                          FormField<String>(
                                            builder: (FormFieldState<String> state) {
                                              String _currentSelectedValue='';
                                              return Card(
                                                shape: RoundedRectangleBorder(
                                                    borderRadius: BorderRadius.circular(10)
                                                ),
                                                child: Container(
                                                  height: 55,
                                                  width: size.width/3.7,
                                                  //padding: EdgeInsets.only(left: 10,right: 10),
                                                  child: InputDecorator(
                                                    decoration: InputDecoration(
                                                      //labelText: 'CLASS',
                                                      //hintText: "Exp",
                                                        labelStyle: TextStyle(fontFamily: "Candara"),
                                                        errorStyle: TextStyle(fontFamily:"Candara",color: Colors.redAccent, fontSize: 16.0),
                                                        //hintText: 'Please select expense',,
                                                        enabledBorder:OutlineInputBorder(
                                                            borderSide: const BorderSide(color: Colors.grey, width: 0),
                                                            borderRadius: BorderRadius.circular(10)),
                                                        focusedBorder: OutlineInputBorder(
                                                            borderSide: const BorderSide(color: Colors.teal,width: 2.0),
                                                            borderRadius: BorderRadius.circular(10)
                                                        )),
                                                    //border: OutlineInputBorder(borderRadius: BorderRadius.circular(5.0))),
                                                    isEmpty: _currentSelectedValue == '',
                                                    child: DropdownButtonHideUnderline(
                                                        child: DropdownButton(
                                                          menuMaxHeight: 200,
                                                          hint: _dropDownValueexp == ""
                                                              ? Text('Exp')
                                                              : Text(
                                                            _dropDownValueexp,
                                                            style: TextStyle(fontFamily: "Candara",color: Colors.black,fontSize: 16),
                                                          ),
                                                          isExpanded: false,
                                                          iconSize: 20,
                                                          style: TextStyle(color: Colors.black),
                                                          items: Exp.map(
                                                                (val) {
                                                              return DropdownMenuItem<String>(
                                                                value: val,
                                                                child: Text(val),
                                                              );
                                                            },
                                                          ).toList(),
                                                          onChanged: (String? val) {
                                                            _dropDownValueexp = val!;
                                                            if(val=="1 yr")
                                                              _dropDownValueexp="1 yrs";
                                                            (context as Element).markNeedsBuild();

                                                          },
                                                        )
                                                    ),
                                                  ),
                                                ),
                                              );
                                            },
                                          ),

                                        ],
                                      ),
                                      Row(
                                        mainAxisAlignment: MainAxisAlignment.end,
                                        children: [
                                          if(_dropDownValuectc!=""||_dropDownValueNot!=""||_dropDownValueexp!="")
                                            GestureDetector(
                                              onTap: (){
                                                setState(() {
                                                  _dropDownValueNot="";
                                                  _dropDownValueNot1="";
                                                  _dropDownValueexp="";
                                                  _dropDownValuectc="";
                                                });
                                              },
                                              child: Card(
                                                color: Colors.blue.shade700,
                                                shape: RoundedRectangleBorder(
                                                    borderRadius: BorderRadius.circular(4)
                                                ),
                                                child: Container(
                                                  padding: EdgeInsets.all(4),
                                                  child: Text("Reset Filter",style: TextStyle(color: Colors.white),),
                                                ),
                                              ),
                                            )

                                        ],
                                      ),




                                      //Recently Hired
                                      SizedBox(height: 20,),

                                      //Shortlisted
                                      if(k==1)
                                        Column(
                                          children: [
                                            if(_dropDownValueNot1==""&&_dropDownValuectc==""&&_dropDownValueexp=="")
                                              for(var i=0;i<snapshot.data!.data.data.shortListCandidates.length;i++)
                                                Column(
                                                  children: [
                                                    GestureDetector(
                                                      onTap:(){
                                                        Navigator.push(
                                                            context, MaterialPageRoute(
                                                            builder: (context) => Candidate(snapshot.data!.data.data.shortListCandidates[i].userId.toString())));


                                                      },
                                                      child: Card(
                                                        elevation: 5,
                                                        shape: RoundedRectangleBorder(
                                                            borderRadius: BorderRadius.all(Radius.circular(10))),
                                                        child: Container(
                                                          padding: EdgeInsets.all(8),
                                                          child: Column(
                                                            children: [
                                                              Row(
                                                                mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                crossAxisAlignment: CrossAxisAlignment.center,
                                                                children: [
                                                                  Row(
                                                                    children: [
                                                                      Column(
                                                                        children: [
                                                                          Center(
                                                                            child: CircleAvatar(
                                                                              backgroundColor: Colors.transparent,
                                                                              backgroundImage: snapshot.data!.data.data.shortListCandidates[i].profileImage==null?
                                                                              NetworkImage("http://kobl.ai/img/profile.png")
                                                                                  :             NetworkImage("${snapshot.data!.data.data.shortListCandidates[i].profileImage}")
                                                                              ,
                                                                              radius: 28,
                                                                            ),
                                                                          ),
                                                                          SizedBox(height: 5,),
                                                                          RatingBarIndicator(
                                                                            rating: 2.75,
                                                                            itemBuilder: (context, index) => Icon(
                                                                              Icons.star,
                                                                              color: Colors.amber,
                                                                            ),
                                                                            itemCount: 5,
                                                                            itemSize: 15,
                                                                            direction: Axis.horizontal,
                                                                          ),
                                                                        ],
                                                                      ),
                                                                      SizedBox(width: 20,),
                                                                      Column(
                                                                        crossAxisAlignment: CrossAxisAlignment.start,
                                                                        children: [
                                                                          Text(
                                                                            "${snapshot.data!.data.data.shortListCandidates[i].name.toString()}",
                                                                            style: TextStyle(
                                                                              fontWeight: FontWeight.bold,
                                                                              fontFamily: 'Candara',
                                                                              fontSize: 18,
                                                                            ),
                                                                          ),
                                                                          SizedBox(height:5),
                                                                          Text(
                                                                              '${snapshot.data!.data.data.shortListCandidates[i].designation.toString()}',
                                                                              style: TextStyle(

                                                                                fontFamily: 'Candara',
                                                                                color: Colors.blue,
                                                                                fontSize: 15,
                                                                              ),
                                                                              maxLines: 5,
                                                                              overflow: TextOverflow.ellipsis),

                                                                          SizedBox(
                                                                            height: 10,
                                                                          ),
                                                                          if(snapshot.data!.data.data.shortListCandidates[i].notice.toString()!="0")
                                                                            Text("Notice : ${snapshot.data!.data.data.shortListCandidates[i].notice.toString()} days",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                          if(snapshot.data!.data.data.shortListCandidates[i].notice.toString()=="0")
                                                                            Text("Notice : Immediate",style: TextStyle(fontFamily: "Candara",fontSize: 14 ),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                          SizedBox(height: 5,),
                                                                          Row(
                                                                            children: [
                                                                              Text("CTC : ${snapshot.data!.data.data.shortListCandidates[i].ctc.toString()} LPA",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                              if(snapshot.data!.data.data.shortListCandidates[i].exp.toString()!="1")
                                                                                Text("     Exp : ${snapshot.data!.data.data.shortListCandidates[i].exp.toString()} yrs",style: TextStyle(fontFamily: "Candara",fontSize: 14,),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                              if(snapshot.data!.data.data.shortListCandidates[i].exp.toString()=="1")
                                                                                Text("     Exp : ${snapshot.data!.data.data.shortListCandidates[i].exp.toString()} yr",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),

                                                                            ],
                                                                          ),
                                                                          SizedBox(
                                                                            height: 5,
                                                                          ),
                                                                        ],
                                                                      ),
                                                                    ],
                                                                  ),
                                                                  Icon(Icons.arrow_forward_ios_outlined,color: Colors.orangeAccent,size: 20,),
                                                                ],
                                                              ),
                                                              Container(
                                                                //height: 100,
                                                                padding: EdgeInsets.only(left: 10, right: 10, top: 10,bottom: 10),
                                                                child: Column(
                                                                  crossAxisAlignment: CrossAxisAlignment.start,
                                                                  children: <Widget>[
                                                                    GridView.count(
                                                                      shrinkWrap: true,
                                                                      childAspectRatio: 3.5,
                                                                      crossAxisSpacing:3,
                                                                      mainAxisSpacing: 3,
                                                                      crossAxisCount: 2,
                                                                      children: <Widget>[

                                                                        GestureDetector(
                                                                            onTap: () {
                                                                              showDialog(
                                                                                context: context,
                                                                                barrierDismissible: false, // user must tap button for close dialog!
                                                                                builder: (BuildContext context) {

                                                                                  String? _character="Video";
                                                                                  isSelected1[e]=true;
                                                                                  List<String> drop=[];
                                                                                  for(var i=0;i<snapshot.data!.data.data.stages.length-1;i++)
                                                                                  {
                                                                                    drop.add(snapshot.data!.data.data.stages[i].key.toString());
                                                                                  }


                                                                                  return AlertDialog(
                                                                                    //title: Text('Delete This Contact?'),
                                                                                    shape: RoundedRectangleBorder(
                                                                                        borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                    insetPadding: EdgeInsets.zero,
                                                                                    content: Container(
                                                                                      width: double.infinity,
                                                                                      //height: Wrap(),
                                                                                      child: SingleChildScrollView(
                                                                                        child: Column(
                                                                                          mainAxisSize: MainAxisSize.min,
                                                                                          children: [
                                                                                            Column(
                                                                                              children: [
                                                                                                Row(
                                                                                                  children: [
                                                                                                    GestureDetector(
                                                                                                      onTap: (){
                                                                                                        Navigator.pop(context);
                                                                                                      },
                                                                                                      child: Icon(
                                                                                                        Icons.arrow_back_ios,
                                                                                                        color: Colors.black,
                                                                                                        size: 25,
                                                                                                      ),
                                                                                                    ),
                                                                                                    Text(
                                                                                                      " Schedule an Interview    ",
                                                                                                      style: TextStyle(
                                                                                                          fontWeight: FontWeight.bold, fontSize: 25),
                                                                                                    )
                                                                                                  ],
                                                                                                ),
                                                                                                SizedBox(
                                                                                                  height: 20,
                                                                                                ),
                                                                                                Form(
                                                                                                    key: _formKey,
                                                                                                    child: Column(
                                                                                                      mainAxisSize: MainAxisSize.max,
                                                                                                      crossAxisAlignment: CrossAxisAlignment.stretch,
                                                                                                      children: <Widget>[
                                                                                                        Text(
                                                                                                          "  Select Round",
                                                                                                          style: TextStyle(
                                                                                                            color: Colors.grey,
                                                                                                            fontFamily: 'Candara',
                                                                                                          ),
                                                                                                        ),

                                                                                                        FormField<String>(
                                                                                                          builder: (FormFieldState<String> state) {
                                                                                                            String _currentSelectedValue='';
                                                                                                            return Container(
                                                                                                              height: 60,
                                                                                                              padding: EdgeInsets.only(left: 0,right: 0),
                                                                                                              child: InputDecorator(
                                                                                                                decoration: InputDecoration(
                                                                                                                  //labelText: 'CLASS',
                                                                                                                    prefixIcon: Icon(Icons.leaderboard,color: Colors.grey),
                                                                                                                    labelStyle: TextStyle(fontFamily: "Candara"),
                                                                                                                    errorStyle: TextStyle(fontFamily:"Candara",color: Colors.redAccent, fontSize: 16.0),
                                                                                                                    //hintText: 'Please select expense',
                                                                                                                    enabledBorder:OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(color: Colors.grey, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    focusedBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(color: Colors.orangeAccent,width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)
                                                                                                                    )),
                                                                                                                //border: OutlineInputBorder(borderRadius: BorderRadius.circular(5.0))),
                                                                                                                isEmpty: _currentSelectedValue == '',
                                                                                                                child: DropdownButtonHideUnderline(
                                                                                                                    child: DropdownButton(
                                                                                                                      menuMaxHeight: 200,
                                                                                                                      hint: _dropDownValue == null
                                                                                                                          ? Text('Dropdown')
                                                                                                                          : Text(
                                                                                                                        _dropDownValue,
                                                                                                                        style: TextStyle(fontFamily: "Candara",color: Colors.black,fontSize: 16),
                                                                                                                      ),
                                                                                                                      isExpanded: false,
                                                                                                                      iconSize: 30.0,
                                                                                                                      style: TextStyle(color: Colors.black),
                                                                                                                      items: drop.map(
                                                                                                                            (val) {
                                                                                                                          return DropdownMenuItem<String>(
                                                                                                                            value: val,
                                                                                                                            child: Text(val),
                                                                                                                          );
                                                                                                                        },
                                                                                                                      ).toList(),
                                                                                                                      onChanged: (String? val) {
                                                                                                                        setState(() {
                                                                                                                          _dropDownValue = val!;
                                                                                                                        });

                                                                                                                        (context as Element).markNeedsBuild();

                                                                                                                      },
                                                                                                                    )
                                                                                                                ),
                                                                                                              ),
                                                                                                            );
                                                                                                          },
                                                                                                        ),
                                                                                                        SizedBox(height: 20),
                                                                                                        Container(
                                                                                                          //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                          child: TextFormField(
                                                                                                            readOnly: true,
                                                                                                            validator: (input) {
                                                                                                              if (dateController.text.isEmpty) return 'Enter date from list';
                                                                                                            },
                                                                                                            controller: dateController,
                                                                                                            decoration: InputDecoration(
                                                                                                              //fillColor: Colors.white,
                                                                                                              prefixIcon: GestureDetector(
                                                                                                                  onTap: (){
                                                                                                                    _selectDate(context);
                                                                                                                  },
                                                                                                                  child: Icon(Icons.date_range,color: Colors.grey,)),
                                                                                                              enabledBorder: OutlineInputBorder(
                                                                                                                  borderSide: const BorderSide(
                                                                                                                      color: Colors.grey, width: 2.0),
                                                                                                                  borderRadius: BorderRadius.circular(15)),
                                                                                                              focusedBorder: OutlineInputBorder(
                                                                                                                  borderSide: const BorderSide(
                                                                                                                      color: Colors.orangeAccent, width: 2.0),
                                                                                                                  borderRadius: BorderRadius.circular(15)),
                                                                                                              labelText: 'Enter Date',
                                                                                                              labelStyle: TextStyle(
                                                                                                                  fontFamily: "Candara", color: Colors.grey),
                                                                                                              //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                              fillColor: Colors.grey,
                                                                                                              focusColor: Colors.orangeAccent,
                                                                                                            ),
                                                                                                            // onSaved: (input) => _name = input!
                                                                                                          ),
                                                                                                        ),
                                                                                                        SizedBox(height: 20),
                                                                                                        Container(
                                                                                                          //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                          child: TextFormField(
                                                                                                            readOnly: true,
                                                                                                            validator: (input) {
                                                                                                              if (input!.isEmpty) return 'Please select time';
                                                                                                            },
                                                                                                            controller: timeController,
                                                                                                            decoration: InputDecoration(
                                                                                                              prefixIcon: GestureDetector(
                                                                                                                  onTap: (){
                                                                                                                    _selectTime(context);
                                                                                                                  },
                                                                                                                  child: Icon(Icons.access_time,color: Colors.grey,)),
                                                                                                              //fillColor: Colors.white,
                                                                                                              enabledBorder: OutlineInputBorder(
                                                                                                                  borderSide: const BorderSide(
                                                                                                                      color: Colors.grey, width: 2.0),
                                                                                                                  borderRadius: BorderRadius.circular(15)),
                                                                                                              focusedBorder: OutlineInputBorder(
                                                                                                                  borderSide: const BorderSide(
                                                                                                                      color: Colors.orangeAccent, width: 2.0),
                                                                                                                  borderRadius: BorderRadius.circular(15)),
                                                                                                              labelText: 'Select time',
                                                                                                              labelStyle: TextStyle(
                                                                                                                  fontFamily: "Candara", color: Colors.grey),
                                                                                                              //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                              fillColor: Colors.grey,
                                                                                                              focusColor: Colors.orangeAccent,
                                                                                                            ),
                                                                                                            // onSaved: (input) => _name = input!
                                                                                                          ),
                                                                                                        ),
                                                                                                        SizedBox(height: 20,),
                                                                                                        Container(
                                                                                                          //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                          child: TextFormField(
                                                                                                            validator: (input) {
                                                                                                              if (input!.isEmpty) return 'Enter Interviewer Name';
                                                                                                            },
                                                                                                            controller: intnameController,
                                                                                                            decoration: InputDecoration(
                                                                                                              //fillColor: Colors.white,
                                                                                                              enabledBorder: OutlineInputBorder(
                                                                                                                  borderSide: const BorderSide(
                                                                                                                      color: Colors.grey, width: 2.0),
                                                                                                                  borderRadius: BorderRadius.circular(15)),
                                                                                                              focusedBorder: OutlineInputBorder(
                                                                                                                  borderSide: const BorderSide(
                                                                                                                      color: Colors.orangeAccent, width: 2.0),
                                                                                                                  borderRadius: BorderRadius.circular(15)),
                                                                                                              labelText: 'Enter interviewer name',
                                                                                                              labelStyle: TextStyle(
                                                                                                                  fontFamily: "Candara", color: Colors.grey),
                                                                                                              prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                              fillColor: Colors.grey,
                                                                                                              focusColor: Colors.orangeAccent,
                                                                                                            ),
                                                                                                            // onSaved: (input) => _name = input!
                                                                                                          ),
                                                                                                        ),
                                                                                                        SizedBox(height: 20),
                                                                                                        Container(
                                                                                                          //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                          child: TextFormField(
                                                                                                            validator: (input) {
                                                                                                              if (input!.isEmpty) return 'Enter interviewer E-mail';
                                                                                                            },
                                                                                                            controller: intmailController,
                                                                                                            decoration: InputDecoration(
                                                                                                              //fillColor: Colors.white,
                                                                                                              enabledBorder: OutlineInputBorder(
                                                                                                                  borderSide: const BorderSide(
                                                                                                                      color: Colors.grey, width: 2.0),
                                                                                                                  borderRadius: BorderRadius.circular(15)),
                                                                                                              focusedBorder: OutlineInputBorder(
                                                                                                                  borderSide: const BorderSide(
                                                                                                                      color: Colors.orangeAccent, width: 2.0),
                                                                                                                  borderRadius: BorderRadius.circular(15)),
                                                                                                              labelText: 'Interviewer E-mail ',
                                                                                                              labelStyle: TextStyle(
                                                                                                                  fontFamily: "Candara", color: Colors.grey),
                                                                                                              prefixIcon: Icon(Icons.mail_outline, color: Colors.grey),
                                                                                                              fillColor: Colors.grey,
                                                                                                              focusColor: Colors.orangeAccent,
                                                                                                            ),
                                                                                                            // onSaved: (input) => _name = input!
                                                                                                          ),
                                                                                                        ),
                                                                                                        SizedBox(
                                                                                                          height: 20,
                                                                                                        ),
                                                                                                        Center(
                                                                                                          child: SingleChildScrollView(
                                                                                                            scrollDirection: Axis.horizontal,
                                                                                                            child: Center(
                                                                                                              child: ToggleButtons(
                                                                                                                children: <Widget>[
                                                                                                                  Text("  Video  ",
                                                                                                                      style: TextStyle(
                                                                                                                        fontSize: 20,
                                                                                                                        fontFamily: "Candara",
                                                                                                                      )),
                                                                                                                  Text("  Phone  ",
                                                                                                                      style: TextStyle(
                                                                                                                        fontSize: 20,
                                                                                                                        fontFamily: "Candara",
                                                                                                                      )),

                                                                                                                ],
                                                                                                                selectedBorderColor: Colors.blue[800],
                                                                                                                selectedColor: Colors.white,
                                                                                                                borderColor: Colors.blue,
                                                                                                                borderRadius: BorderRadius.circular(10),
                                                                                                                disabledColor: Colors.transparent,
                                                                                                                disabledBorderColor: Colors.transparent,
                                                                                                                focusColor: Colors.blue[800],
                                                                                                                fillColor: Colors.blue[800],
                                                                                                                onPressed: (int index) {
                                                                                                                  setState(() {
                                                                                                                    e=index;
                                                                                                                    for (int buttonIndex = 0;
                                                                                                                    buttonIndex < isSelected1.length;
                                                                                                                    buttonIndex++) {
                                                                                                                      if (buttonIndex == index) {
                                                                                                                        isSelected1[buttonIndex] = true;
                                                                                                                      } else {
                                                                                                                        isSelected1[buttonIndex] = false;
                                                                                                                      }

                                                                                                                    }


                                                                                                                  });
                                                                                                                  (context as Element).markNeedsBuild();
                                                                                                                },
                                                                                                                isSelected: isSelected1,
                                                                                                              ),
                                                                                                            ),
                                                                                                          ),
                                                                                                        ),
                                                                                                        SizedBox(height: 20,),
                                                                                                        if(e==0)
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              //readOnly: true,
                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty && e==0) return 'Please enter meetlink';
                                                                                                              },
                                                                                                              controller: meetlink,
                                                                                                              decoration: InputDecoration(
                                                                                                                prefixIcon: Icon(Icons.video_call,color: Colors.grey,),
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Enter meet link',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                        if(e==1)
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              //readOnly: true,
                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty && e==1) return 'Please enter phone';
                                                                                                              },
                                                                                                              controller: phonelink,
                                                                                                              keyboardType: TextInputType.phone,
                                                                                                              decoration: InputDecoration(
                                                                                                                prefixIcon: Icon(Icons.phone,color: Colors.grey,),
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Enter phone no.',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                        SizedBox(
                                                                                                          height: 15,
                                                                                                        ),
                                                                                                        Container(
                                                                                                          height: 160,
                                                                                                          //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                          child: TextFormField(
                                                                                                            expands: true,
                                                                                                            maxLines: null,

                                                                                                            validator: (input) {
                                                                                                              if (input!.isEmpty) return 'Add comments';
                                                                                                            },
                                                                                                            controller: comments,
                                                                                                            decoration: InputDecoration(
                                                                                                              //fillColor: Colors.white,
                                                                                                              enabledBorder: OutlineInputBorder(
                                                                                                                  borderSide: const BorderSide(
                                                                                                                      color: Colors.grey, width: 2.0),
                                                                                                                  borderRadius: BorderRadius.circular(15)),
                                                                                                              focusedBorder: OutlineInputBorder(
                                                                                                                  borderSide: const BorderSide(
                                                                                                                      color: Colors.orangeAccent, width: 2.0),
                                                                                                                  borderRadius: BorderRadius.circular(15)),

                                                                                                              labelText: 'Add comments',
                                                                                                              labelStyle: TextStyle(
                                                                                                                  fontFamily: "Candara", color: Colors.grey),
                                                                                                              //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                              fillColor: Colors.grey,
                                                                                                              focusColor: Colors.orangeAccent,
                                                                                                            ),
                                                                                                            // onSaved: (input) => _name = input!
                                                                                                          ),
                                                                                                        ),
                                                                                                      ],
                                                                                                    )),


                                                                                                //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                              ],
                                                                                            ),
                                                                                          ],
                                                                                        ),
                                                                                      ),
                                                                                    ),
                                                                                    actions: <Widget>[
                                                                                      Center(
                                                                                        child: Row(
                                                                                          mainAxisAlignment: MainAxisAlignment.center,
                                                                                          children: [
                                                                                            ElevatedButton(
                                                                                              style: ButtonStyle(
                                                                                                  backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                      Color.fromARGB(255, 59, 48, 214))),
                                                                                              child: Row(
                                                                                                children: [
                                                                                                  Icon(Icons.access_time,color: Colors.white,size: 20,),
                                                                                                  Text(
                                                                                                    '  Schedule',
                                                                                                    style: TextStyle(
                                                                                                      fontFamily: 'Candara',
                                                                                                    ),
                                                                                                  ),
                                                                                                ],
                                                                                              ),
                                                                                              onPressed: () async {
                                                                                                if(_formKey.currentState!.validate()&& _dropDownValue!="")
                                                                                                {
                                                                                                  String date= dateController.text;
                                                                                                  String time= timeController.text;
                                                                                                  String link;
                                                                                                  String commet= comments.text;
                                                                                                  String type;
                                                                                                  if(e==0) {
                                                                                                    type = "Video";
                                                                                                    link=meetlink.text;
                                                                                                  }
                                                                                                  else
                                                                                                  {
                                                                                                    type="Audio";
                                                                                                    link=phonelink.text;
                                                                                                  }


                                                                                                  Interview log = await INTERVIEWapi(snapshot.data!.data.data.shortListCandidates[i].userId.toString(),_dropDownValue,intnameController.text,intmailController.text,type,date,time,link,commet);

                                                                                                  if(interview_code==200) {
                                                                                                    Navigator.pop(context);
                                                                                                    final Future<ConfirmAction7?> action =
                                                                                                    await _asyncConfirmDialog7(context, "${snapshot.data!.data.data.shortListCandidates[i].name.toString()}");
                                                                                                  }

                                                                                                  if(interview_code==401){
                                                                                                    Navigator.pop(context);
                                                                                                    showDialog<String>(
                                                                                                        context: context,
                                                                                                        builder: (BuildContext context) => AlertDialog(
                                                                                                          title: const Text("Try Again"),
                                                                                                          content: const Text("Couldn't schedule interview"),
                                                                                                          actions: <Widget>[
                                                                                                            TextButton(
                                                                                                                onPressed: () => Navigator.pop(context, 'OK'),
                                                                                                                child: const Text('OK',style: TextStyle(color: Colors.teal))
                                                                                                            ),
                                                                                                          ],
                                                                                                        ));
                                                                                                  }
                                                                                                }


                                                                                              },
                                                                                            ),
                                                                                          ],
                                                                                        ),
                                                                                      ),
                                                                                    ],
                                                                                  );
                                                                                },
                                                                              );


                                                                            },
                                                                            child: Card(
                                                                              color: Colors.blue.shade200,
                                                                              child: Padding(
                                                                                padding: const EdgeInsets.all(5.0),
                                                                                child: Row(
                                                                                  mainAxisAlignment: MainAxisAlignment.center,
                                                                                  children: [
                                                                                    Icon(Icons.upgrade,color:Colors.white,size: 18,),
                                                                                    //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                    SizedBox(width: 5,),
                                                                                    Text("Move next round",style: TextStyle(color: Colors.white,fontSize: 14),),
                                                                                  ],
                                                                                ),
                                                                              ),
                                                                            )
                                                                        ),
                                                                        GestureDetector(
                                                                            onTap: () async {
                                                                              Shortlist B= await shortlistapi(snapshot.data!.data.data.shortListCandidates[i].userId.toString());
                                                                              if(shortlist_code==200){
                                                                                showDialog(
                                                                                  context: context,
                                                                                  barrierDismissible: false, // user must tap button for close dialog!
                                                                                  builder: (BuildContext context) {
                                                                                    return AlertDialog(
                                                                                      //title: Text('Delete This Contact?'),
                                                                                      shape: RoundedRectangleBorder(
                                                                                          borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                      title: Center(
                                                                                        child: Text(
                                                                                          "Released ${snapshot.data!.data.data.shortListCandidates[i].name.toString()}",
                                                                                          style: TextStyle(
                                                                                              fontWeight: FontWeight.bold,
                                                                                              fontFamily: 'Candara',
                                                                                              color: Colors.blue[800]),
                                                                                        ),
                                                                                      ),
                                                                                      content: Container(
                                                                                        width: double.infinity,
                                                                                        //height: Wrap(),
                                                                                        child: Column(
                                                                                          mainAxisSize: MainAxisSize.min,
                                                                                          children: [
                                                                                            Column(
                                                                                              children: [

                                                                                                Text(
                                                                                                  "You Have successfully ",
                                                                                                  style: TextStyle(fontSize: 20),
                                                                                                ),
                                                                                                Text(
                                                                                                  "released ${snapshot.data!.data.data.shortListCandidates[i].name.toString()}",
                                                                                                  style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),
                                                                                                )
                                                                                                //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                              ],
                                                                                            ),
                                                                                          ],
                                                                                        ),
                                                                                      ),
                                                                                      actions: <Widget>[
                                                                                        Center(
                                                                                          child: Row(
                                                                                            mainAxisAlignment: MainAxisAlignment.center,
                                                                                            children: [
                                                                                              ElevatedButton(
                                                                                                style: ButtonStyle(
                                                                                                    backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                        Color.fromARGB(255, 59, 48, 214))),
                                                                                                child: Text(
                                                                                                  'Okay',
                                                                                                  style: TextStyle(
                                                                                                    fontFamily: 'Candara',
                                                                                                  ),
                                                                                                ),
                                                                                                onPressed: () {
                                                                                                  Navigator.pop(context);
                                                                                                  setState(() {

                                                                                                  });
                                                                                                },
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                      ],
                                                                                    );
                                                                                  },
                                                                                );
                                                                              }
                                                                            },
                                                                            child: Card(
                                                                              color: Colors.redAccent,
                                                                              child: Padding(
                                                                                padding: const EdgeInsets.all(5.0),
                                                                                child: Row(
                                                                                  mainAxisAlignment: MainAxisAlignment.center,
                                                                                  children: [
                                                                                    Icon(Icons.remove_circle_outline,color: Colors.white,size: 18,),
                                                                                    //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                    SizedBox(width: 5,),
                                                                                    Text("Release",style: TextStyle(color: Colors.white,fontSize: 15),),
                                                                                  ],
                                                                                ),
                                                                              ),
                                                                            )
                                                                        )


                                                                      ],
                                                                    ),

                                                                  ],
                                                                ),
                                                              ),
                                                            ],
                                                          ),
                                                        ),
                                                      ),
                                                    ),
                                                    SizedBox(height: 10,)
                                                  ],
                                                ),

                                            //notice filter
                                            if(_dropDownValueNot1!=""&&_dropDownValuectc==""&&_dropDownValueexp=="")
                                              for(var i=0;i<snapshot.data!.data.data.shortListCandidates.length;i++)
                                                if("${snapshot.data!.data.data.shortListCandidates[i].notice} days" == _dropDownValueNot1)
                                                  Column(
                                                    children: [
                                                      GestureDetector(
                                                        onTap:(){
                                                          Navigator.push(
                                                              context, MaterialPageRoute(
                                                              builder: (context) => Candidate(snapshot.data!.data.data.shortListCandidates[i].userId.toString())));


                                                        },
                                                        child: Card(
                                                          elevation: 5,
                                                          shape: RoundedRectangleBorder(
                                                              borderRadius: BorderRadius.all(Radius.circular(10))),
                                                          child: Container(
                                                            padding: EdgeInsets.all(8),
                                                            child: Column(
                                                              children: [
                                                                Row(
                                                                  mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                  crossAxisAlignment: CrossAxisAlignment.center,
                                                                  children: [
                                                                    Row(
                                                                      children: [
                                                                        Column(
                                                                          children: [
                                                                            Center(
                                                                              child: CircleAvatar(
                                                                                backgroundColor: Colors.transparent,
                                                                                backgroundImage: snapshot.data!.data.data.shortListCandidates[i].profileImage==null?
                                                                                NetworkImage("http://kobl.ai/img/profile.png")
                                                                                    :             NetworkImage("${snapshot.data!.data.data.shortListCandidates[i].profileImage}")
                                                                                ,
                                                                                radius: 28,
                                                                              ),
                                                                            ),
                                                                            SizedBox(height: 5,),
                                                                            RatingBarIndicator(
                                                                              rating: 2.75,
                                                                              itemBuilder: (context, index) => Icon(
                                                                                Icons.star,
                                                                                color: Colors.amber,
                                                                              ),
                                                                              itemCount: 5,
                                                                              itemSize: 15,
                                                                              direction: Axis.horizontal,
                                                                            ),
                                                                          ],
                                                                        ),
                                                                        SizedBox(width: 20,),
                                                                        Column(
                                                                          crossAxisAlignment: CrossAxisAlignment.start,
                                                                          children: [
                                                                            Text(
                                                                              "${snapshot.data!.data.data.shortListCandidates[i].name.toString()}",
                                                                              style: TextStyle(
                                                                                fontWeight: FontWeight.bold,
                                                                                fontFamily: 'Candara',
                                                                                fontSize: 18,
                                                                              ),
                                                                            ),
                                                                            SizedBox(height:5),
                                                                            Text(
                                                                                '${snapshot.data!.data.data.shortListCandidates[i].designation.toString()}',
                                                                                style: TextStyle(

                                                                                  fontFamily: 'Candara',
                                                                                  color: Colors.blue,
                                                                                  fontSize: 15,
                                                                                ),
                                                                                maxLines: 5,
                                                                                overflow: TextOverflow.ellipsis),

                                                                            SizedBox(
                                                                              height: 10,
                                                                            ),
                                                                            if(snapshot.data!.data.data.shortListCandidates[i].notice.toString()!="0")
                                                                              Text("Notice : ${snapshot.data!.data.data.shortListCandidates[i].notice.toString()} days",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                            if(snapshot.data!.data.data.shortListCandidates[i].notice.toString()=="0")
                                                                              Text("Notice : Immediate",style: TextStyle(fontFamily: "Candara",fontSize: 14 ),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                            SizedBox(height: 5,),
                                                                            Row(
                                                                              children: [
                                                                                Text("CTC : ${snapshot.data!.data.data.shortListCandidates[i].ctc.toString()} LPA",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                if(snapshot.data!.data.data.shortListCandidates[i].exp.toString()!="1")
                                                                                  Text("     Exp : ${snapshot.data!.data.data.shortListCandidates[i].exp.toString()} yrs",style: TextStyle(fontFamily: "Candara",fontSize: 14,),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                if(snapshot.data!.data.data.shortListCandidates[i].exp.toString()=="1")
                                                                                  Text("     Exp : ${snapshot.data!.data.data.shortListCandidates[i].exp.toString()} yr",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),

                                                                              ],
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                          ],
                                                                        ),
                                                                      ],
                                                                    ),
                                                                    Icon(Icons.arrow_forward_ios_outlined,color: Colors.orangeAccent,size: 20,),
                                                                  ],
                                                                ),
                                                                Container(
                                                                  //height: 100,
                                                                  padding: EdgeInsets.only(left: 10, right: 10, top: 10,bottom: 10),
                                                                  child: Column(
                                                                    crossAxisAlignment: CrossAxisAlignment.start,
                                                                    children: <Widget>[
                                                                      GridView.count(
                                                                        shrinkWrap: true,
                                                                        childAspectRatio: 3.5,
                                                                        crossAxisSpacing:3,
                                                                        mainAxisSpacing: 3,
                                                                        crossAxisCount: 2,
                                                                        children: <Widget>[

                                                                          GestureDetector(
                                                                              onTap: () {
                                                                                showDialog(
                                                                                  context: context,
                                                                                  barrierDismissible: false, // user must tap button for close dialog!
                                                                                  builder: (BuildContext context) {

                                                                                    String? _character="Video";
                                                                                    isSelected1[e]=true;
                                                                                    List<String> drop=[];
                                                                                    for(var i=0;i<snapshot.data!.data.data.stages.length-1;i++)
                                                                                    {
                                                                                      drop.add(snapshot.data!.data.data.stages[i].key.toString());
                                                                                    }


                                                                                    return AlertDialog(
                                                                                      //title: Text('Delete This Contact?'),
                                                                                      shape: RoundedRectangleBorder(
                                                                                          borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                      insetPadding: EdgeInsets.zero,
                                                                                      content: Container(
                                                                                        width: double.infinity,
                                                                                        //height: Wrap(),
                                                                                        child: SingleChildScrollView(
                                                                                          child: Column(
                                                                                            mainAxisSize: MainAxisSize.min,
                                                                                            children: [
                                                                                              Column(
                                                                                                children: [
                                                                                                  Row(
                                                                                                    children: [
                                                                                                      GestureDetector(
                                                                                                        onTap: (){
                                                                                                          Navigator.pop(context);
                                                                                                        },
                                                                                                        child: Icon(
                                                                                                          Icons.arrow_back_ios,
                                                                                                          color: Colors.black,
                                                                                                          size: 25,
                                                                                                        ),
                                                                                                      ),
                                                                                                      Text(
                                                                                                        " Schedule an Interview    ",
                                                                                                        style: TextStyle(
                                                                                                            fontWeight: FontWeight.bold, fontSize: 25),
                                                                                                      )
                                                                                                    ],
                                                                                                  ),
                                                                                                  SizedBox(
                                                                                                    height: 20,
                                                                                                  ),
                                                                                                  Form(
                                                                                                      key: _formKey,
                                                                                                      child: Column(
                                                                                                        mainAxisSize: MainAxisSize.max,
                                                                                                        crossAxisAlignment: CrossAxisAlignment.stretch,
                                                                                                        children: <Widget>[
                                                                                                          Text(
                                                                                                            "  Select Round",
                                                                                                            style: TextStyle(
                                                                                                              color: Colors.grey,
                                                                                                              fontFamily: 'Candara',
                                                                                                            ),
                                                                                                          ),

                                                                                                          FormField<String>(
                                                                                                            builder: (FormFieldState<String> state) {
                                                                                                              String _currentSelectedValue='';
                                                                                                              return Container(
                                                                                                                height: 60,
                                                                                                                padding: EdgeInsets.only(left: 0,right: 0),
                                                                                                                child: InputDecorator(
                                                                                                                  decoration: InputDecoration(
                                                                                                                    //labelText: 'CLASS',
                                                                                                                      prefixIcon: Icon(Icons.leaderboard,color: Colors.grey),
                                                                                                                      labelStyle: TextStyle(fontFamily: "Candara"),
                                                                                                                      errorStyle: TextStyle(fontFamily:"Candara",color: Colors.redAccent, fontSize: 16.0),
                                                                                                                      //hintText: 'Please select expense',
                                                                                                                      enabledBorder:OutlineInputBorder(
                                                                                                                          borderSide: const BorderSide(color: Colors.grey, width: 2.0),
                                                                                                                          borderRadius: BorderRadius.circular(15)),
                                                                                                                      focusedBorder: OutlineInputBorder(
                                                                                                                          borderSide: const BorderSide(color: Colors.orangeAccent,width: 2.0),
                                                                                                                          borderRadius: BorderRadius.circular(15)
                                                                                                                      )),
                                                                                                                  //border: OutlineInputBorder(borderRadius: BorderRadius.circular(5.0))),
                                                                                                                  isEmpty: _currentSelectedValue == '',
                                                                                                                  child: DropdownButtonHideUnderline(
                                                                                                                      child: DropdownButton(
                                                                                                                        menuMaxHeight: 200,
                                                                                                                        hint: _dropDownValue == null
                                                                                                                            ? Text('Dropdown')
                                                                                                                            : Text(
                                                                                                                          _dropDownValue,
                                                                                                                          style: TextStyle(fontFamily: "Candara",color: Colors.black,fontSize: 16),
                                                                                                                        ),
                                                                                                                        isExpanded: false,
                                                                                                                        iconSize: 30.0,
                                                                                                                        style: TextStyle(color: Colors.black),
                                                                                                                        items: drop.map(
                                                                                                                              (val) {
                                                                                                                            return DropdownMenuItem<String>(
                                                                                                                              value: val,
                                                                                                                              child: Text(val),
                                                                                                                            );
                                                                                                                          },
                                                                                                                        ).toList(),
                                                                                                                        onChanged: (String? val) {
                                                                                                                          setState(() {
                                                                                                                            _dropDownValue = val!;
                                                                                                                          });

                                                                                                                          (context as Element).markNeedsBuild();

                                                                                                                        },
                                                                                                                      )
                                                                                                                  ),
                                                                                                                ),
                                                                                                              );
                                                                                                            },
                                                                                                          ),
                                                                                                          SizedBox(height: 20),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              readOnly: true,
                                                                                                              validator: (input) {
                                                                                                                if (dateController.text.isEmpty) return 'Enter date from list';
                                                                                                              },
                                                                                                              controller: dateController,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                prefixIcon: GestureDetector(
                                                                                                                    onTap: (){
                                                                                                                      _selectDate(context);
                                                                                                                    },
                                                                                                                    child: Icon(Icons.date_range,color: Colors.grey,)),
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Enter Date',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              readOnly: true,
                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Please select time';
                                                                                                              },
                                                                                                              controller: timeController,
                                                                                                              decoration: InputDecoration(
                                                                                                                prefixIcon: GestureDetector(
                                                                                                                    onTap: (){
                                                                                                                      _selectTime(context);
                                                                                                                    },
                                                                                                                    child: Icon(Icons.access_time,color: Colors.grey,)),
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Select time',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20,),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Enter Interviewer Name';
                                                                                                              },
                                                                                                              controller: intnameController,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Enter interviewer name',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Enter interviewer E-mail';
                                                                                                              },
                                                                                                              controller: intmailController,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Interviewer E-mail ',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                prefixIcon: Icon(Icons.mail_outline, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(
                                                                                                            height: 20,
                                                                                                          ),
                                                                                                          Center(
                                                                                                            child: SingleChildScrollView(
                                                                                                              scrollDirection: Axis.horizontal,
                                                                                                              child: Center(
                                                                                                                child: ToggleButtons(
                                                                                                                  children: <Widget>[
                                                                                                                    Text("  Video  ",
                                                                                                                        style: TextStyle(
                                                                                                                          fontSize: 20,
                                                                                                                          fontFamily: "Candara",
                                                                                                                        )),
                                                                                                                    Text("  Phone  ",
                                                                                                                        style: TextStyle(
                                                                                                                          fontSize: 20,
                                                                                                                          fontFamily: "Candara",
                                                                                                                        )),

                                                                                                                  ],
                                                                                                                  selectedBorderColor: Colors.blue[800],
                                                                                                                  selectedColor: Colors.white,
                                                                                                                  borderColor: Colors.blue,
                                                                                                                  borderRadius: BorderRadius.circular(10),
                                                                                                                  disabledColor: Colors.transparent,
                                                                                                                  disabledBorderColor: Colors.transparent,
                                                                                                                  focusColor: Colors.blue[800],
                                                                                                                  fillColor: Colors.blue[800],
                                                                                                                  onPressed: (int index) {
                                                                                                                    setState(() {
                                                                                                                      e=index;
                                                                                                                      for (int buttonIndex = 0;
                                                                                                                      buttonIndex < isSelected1.length;
                                                                                                                      buttonIndex++) {
                                                                                                                        if (buttonIndex == index) {
                                                                                                                          isSelected1[buttonIndex] = true;
                                                                                                                        } else {
                                                                                                                          isSelected1[buttonIndex] = false;
                                                                                                                        }

                                                                                                                      }


                                                                                                                    });
                                                                                                                    (context as Element).markNeedsBuild();
                                                                                                                  },
                                                                                                                  isSelected: isSelected1,
                                                                                                                ),
                                                                                                              ),
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20,),
                                                                                                          if(e==0)
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                //readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty && e==0) return 'Please enter meetlink';
                                                                                                                },
                                                                                                                controller: meetlink,
                                                                                                                decoration: InputDecoration(
                                                                                                                  prefixIcon: Icon(Icons.video_call,color: Colors.grey,),
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter meet link',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                          if(e==1)
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                //readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty && e==1) return 'Please enter phone';
                                                                                                                },
                                                                                                                controller: phonelink,
                                                                                                                keyboardType: TextInputType.phone,
                                                                                                                decoration: InputDecoration(
                                                                                                                  prefixIcon: Icon(Icons.phone,color: Colors.grey,),
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter phone no.',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                          SizedBox(
                                                                                                            height: 15,
                                                                                                          ),
                                                                                                          Container(
                                                                                                            height: 160,
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              expands: true,
                                                                                                              maxLines: null,

                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Add comments';
                                                                                                              },
                                                                                                              controller: comments,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),

                                                                                                                labelText: 'Add comments',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                        ],
                                                                                                      )),


                                                                                                  //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                ],
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                      ),
                                                                                      actions: <Widget>[
                                                                                        Center(
                                                                                          child: Row(
                                                                                            mainAxisAlignment: MainAxisAlignment.center,
                                                                                            children: [
                                                                                              ElevatedButton(
                                                                                                style: ButtonStyle(
                                                                                                    backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                        Color.fromARGB(255, 59, 48, 214))),
                                                                                                child: Row(
                                                                                                  children: [
                                                                                                    Icon(Icons.access_time,color: Colors.white,size: 20,),
                                                                                                    Text(
                                                                                                      '  Schedule',
                                                                                                      style: TextStyle(
                                                                                                        fontFamily: 'Candara',
                                                                                                      ),
                                                                                                    ),
                                                                                                  ],
                                                                                                ),
                                                                                                onPressed: () async {
                                                                                                  if(_formKey.currentState!.validate()&& _dropDownValue!="")
                                                                                                  {
                                                                                                    String date= dateController.text;
                                                                                                    String time= timeController.text;
                                                                                                    String link;
                                                                                                    String commet= comments.text;
                                                                                                    String type;
                                                                                                    if(e==0) {
                                                                                                      type = "Video";
                                                                                                      link=meetlink.text;
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                      type="Audio";
                                                                                                      link=phonelink.text;
                                                                                                    }


                                                                                                    Interview log = await INTERVIEWapi(snapshot.data!.data.data.shortListCandidates[i].userId.toString(),_dropDownValue,intnameController.text,intmailController.text,type,date,time,link,commet);

                                                                                                    if(interview_code==200) {
                                                                                                      Navigator.pop(context);
                                                                                                      final Future<ConfirmAction7?> action =
                                                                                                      await _asyncConfirmDialog7(context, "${snapshot.data!.data.data.shortListCandidates[i].name.toString()}");
                                                                                                    }

                                                                                                    if(interview_code==401){
                                                                                                      Navigator.pop(context);
                                                                                                      showDialog<String>(
                                                                                                          context: context,
                                                                                                          builder: (BuildContext context) => AlertDialog(
                                                                                                            title: const Text("Try Again"),
                                                                                                            content: const Text("Couldn't schedule interview"),
                                                                                                            actions: <Widget>[
                                                                                                              TextButton(
                                                                                                                  onPressed: () => Navigator.pop(context, 'OK'),
                                                                                                                  child: const Text('OK',style: TextStyle(color: Colors.teal))
                                                                                                              ),
                                                                                                            ],
                                                                                                          ));
                                                                                                    }
                                                                                                  }


                                                                                                },
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                      ],
                                                                                    );
                                                                                  },
                                                                                );


                                                                              },
                                                                              child: Card(
                                                                                color: Colors.blue.shade200,
                                                                                child: Padding(
                                                                                  padding: const EdgeInsets.all(5.0),
                                                                                  child: Row(
                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                    children: [
                                                                                      Icon(Icons.upgrade,color:Colors.white,size: 18,),
                                                                                      //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                      SizedBox(width: 5,),
                                                                                      Text("Move next round",style: TextStyle(color: Colors.white,fontSize: 14),),
                                                                                    ],
                                                                                  ),
                                                                                ),
                                                                              )
                                                                          ),
                                                                          GestureDetector(
                                                                              onTap: () async {
                                                                                Shortlist B= await shortlistapi(snapshot.data!.data.data.shortListCandidates[i].userId.toString());
                                                                                if(shortlist_code==200){
                                                                                  showDialog(
                                                                                    context: context,
                                                                                    barrierDismissible: false, // user must tap button for close dialog!
                                                                                    builder: (BuildContext context) {
                                                                                      return AlertDialog(
                                                                                        //title: Text('Delete This Contact?'),
                                                                                        shape: RoundedRectangleBorder(
                                                                                            borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                        title: Center(
                                                                                          child: Text(
                                                                                            "Released ${snapshot.data!.data.data.shortListCandidates[i].name.toString()}",
                                                                                            style: TextStyle(
                                                                                                fontWeight: FontWeight.bold,
                                                                                                fontFamily: 'Candara',
                                                                                                color: Colors.blue[800]),
                                                                                          ),
                                                                                        ),
                                                                                        content: Container(
                                                                                          width: double.infinity,
                                                                                          //height: Wrap(),
                                                                                          child: Column(
                                                                                            mainAxisSize: MainAxisSize.min,
                                                                                            children: [
                                                                                              Column(
                                                                                                children: [

                                                                                                  Text(
                                                                                                    "You Have successfully ",
                                                                                                    style: TextStyle(fontSize: 20),
                                                                                                  ),
                                                                                                  Text(
                                                                                                    "released ${snapshot.data!.data.data.shortListCandidates[i].name.toString()}",
                                                                                                    style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),
                                                                                                  )
                                                                                                  //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                ],
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                        actions: <Widget>[
                                                                                          Center(
                                                                                            child: Row(
                                                                                              mainAxisAlignment: MainAxisAlignment.center,
                                                                                              children: [
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Text(
                                                                                                    'Okay',
                                                                                                    style: TextStyle(
                                                                                                      fontFamily: 'Candara',
                                                                                                    ),
                                                                                                  ),
                                                                                                  onPressed: () {
                                                                                                    Navigator.pop(context);
                                                                                                    setState(() {

                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ],
                                                                                      );
                                                                                    },
                                                                                  );
                                                                                }
                                                                              },
                                                                              child: Card(
                                                                                color: Colors.redAccent,
                                                                                child: Padding(
                                                                                  padding: const EdgeInsets.all(5.0),
                                                                                  child: Row(
                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                    children: [
                                                                                      Icon(Icons.remove_circle_outline,color: Colors.white,size: 18,),
                                                                                      //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                      SizedBox(width: 5,),
                                                                                      Text("Release",style: TextStyle(color: Colors.white,fontSize: 15),),
                                                                                    ],
                                                                                  ),
                                                                                ),
                                                                              )
                                                                          )


                                                                        ],
                                                                      ),

                                                                    ],
                                                                  ),
                                                                ),
                                                              ],
                                                            ),
                                                          ),
                                                        ),
                                                      ),
                                                      SizedBox(height: 10,)
                                                    ],
                                                  ),


                                            //ctcfilter
                                            if(_dropDownValueNot1==""&&_dropDownValuectc!=""&&_dropDownValueexp=="")
                                              for(var i=0;i<snapshot.data!.data.data.shortListCandidates.length;i++)
                                                if("${snapshot.data!.data.data.shortListCandidates[i].ctc} LPA" == _dropDownValuectc)
                                                  Column(
                                                    children: [
                                                      GestureDetector(
                                                        onTap:(){
                                                          Navigator.push(
                                                              context, MaterialPageRoute(
                                                              builder: (context) => Candidate(snapshot.data!.data.data.shortListCandidates[i].userId.toString())));


                                                        },
                                                        child: Card(
                                                          elevation: 5,
                                                          shape: RoundedRectangleBorder(
                                                              borderRadius: BorderRadius.all(Radius.circular(10))),
                                                          child: Container(
                                                            padding: EdgeInsets.all(8),
                                                            child: Column(
                                                              children: [
                                                                Row(
                                                                  mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                  crossAxisAlignment: CrossAxisAlignment.center,
                                                                  children: [
                                                                    Row(
                                                                      children: [
                                                                        Column(
                                                                          children: [
                                                                            Center(
                                                                              child: CircleAvatar(
                                                                                backgroundColor: Colors.transparent,
                                                                                backgroundImage: snapshot.data!.data.data.shortListCandidates[i].profileImage==null?
                                                                                NetworkImage("http://kobl.ai/img/profile.png")
                                                                                    :             NetworkImage("${snapshot.data!.data.data.shortListCandidates[i].profileImage}")
                                                                                ,
                                                                                radius: 28,
                                                                              ),
                                                                            ),
                                                                            SizedBox(height: 5,),
                                                                            RatingBarIndicator(
                                                                              rating: 2.75,
                                                                              itemBuilder: (context, index) => Icon(
                                                                                Icons.star,
                                                                                color: Colors.amber,
                                                                              ),
                                                                              itemCount: 5,
                                                                              itemSize: 15,
                                                                              direction: Axis.horizontal,
                                                                            ),
                                                                          ],
                                                                        ),
                                                                        SizedBox(width: 20,),
                                                                        Column(
                                                                          crossAxisAlignment: CrossAxisAlignment.start,
                                                                          children: [
                                                                            Text(
                                                                              "${snapshot.data!.data.data.shortListCandidates[i].name.toString()}",
                                                                              style: TextStyle(
                                                                                fontWeight: FontWeight.bold,
                                                                                fontFamily: 'Candara',
                                                                                fontSize: 18,
                                                                              ),
                                                                            ),
                                                                            SizedBox(height:5),
                                                                            Text(
                                                                                '${snapshot.data!.data.data.shortListCandidates[i].designation.toString()}',
                                                                                style: TextStyle(

                                                                                  fontFamily: 'Candara',
                                                                                  color: Colors.blue,
                                                                                  fontSize: 15,
                                                                                ),
                                                                                maxLines: 5,
                                                                                overflow: TextOverflow.ellipsis),

                                                                            SizedBox(
                                                                              height: 10,
                                                                            ),
                                                                            if(snapshot.data!.data.data.shortListCandidates[i].notice.toString()!="0")
                                                                              Text("Notice : ${snapshot.data!.data.data.shortListCandidates[i].notice.toString()} days",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                            if(snapshot.data!.data.data.shortListCandidates[i].notice.toString()=="0")
                                                                              Text("Notice : Immediate",style: TextStyle(fontFamily: "Candara",fontSize: 14 ),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                            SizedBox(height: 5,),
                                                                            Row(
                                                                              children: [
                                                                                Text("CTC : ${snapshot.data!.data.data.shortListCandidates[i].ctc.toString()} LPA",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                if(snapshot.data!.data.data.shortListCandidates[i].exp.toString()!="1")
                                                                                  Text("     Exp : ${snapshot.data!.data.data.shortListCandidates[i].exp.toString()} yrs",style: TextStyle(fontFamily: "Candara",fontSize: 14,),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                if(snapshot.data!.data.data.shortListCandidates[i].exp.toString()=="1")
                                                                                  Text("     Exp : ${snapshot.data!.data.data.shortListCandidates[i].exp.toString()} yr",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),

                                                                              ],
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                          ],
                                                                        ),
                                                                      ],
                                                                    ),
                                                                    Icon(Icons.arrow_forward_ios_outlined,color: Colors.orangeAccent,size: 20,),
                                                                  ],
                                                                ),
                                                                Container(
                                                                  //height: 100,
                                                                  padding: EdgeInsets.only(left: 10, right: 10, top: 10,bottom: 10),
                                                                  child: Column(
                                                                    crossAxisAlignment: CrossAxisAlignment.start,
                                                                    children: <Widget>[
                                                                      GridView.count(
                                                                        shrinkWrap: true,
                                                                        childAspectRatio: 3.5,
                                                                        crossAxisSpacing:3,
                                                                        mainAxisSpacing: 3,
                                                                        crossAxisCount: 2,
                                                                        children: <Widget>[

                                                                          GestureDetector(
                                                                              onTap: () {
                                                                                showDialog(
                                                                                  context: context,
                                                                                  barrierDismissible: false, // user must tap button for close dialog!
                                                                                  builder: (BuildContext context) {

                                                                                    String? _character="Video";
                                                                                    isSelected1[e]=true;
                                                                                    List<String> drop=[];
                                                                                    for(var i=0;i<snapshot.data!.data.data.stages.length-1;i++)
                                                                                    {
                                                                                      drop.add(snapshot.data!.data.data.stages[i].key.toString());
                                                                                    }


                                                                                    return AlertDialog(
                                                                                      //title: Text('Delete This Contact?'),
                                                                                      shape: RoundedRectangleBorder(
                                                                                          borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                      insetPadding: EdgeInsets.zero,
                                                                                      content: Container(
                                                                                        width: double.infinity,
                                                                                        //height: Wrap(),
                                                                                        child: SingleChildScrollView(
                                                                                          child: Column(
                                                                                            mainAxisSize: MainAxisSize.min,
                                                                                            children: [
                                                                                              Column(
                                                                                                children: [
                                                                                                  Row(
                                                                                                    children: [
                                                                                                      GestureDetector(
                                                                                                        onTap: (){
                                                                                                          Navigator.pop(context);
                                                                                                        },
                                                                                                        child: Icon(
                                                                                                          Icons.arrow_back_ios,
                                                                                                          color: Colors.black,
                                                                                                          size: 25,
                                                                                                        ),
                                                                                                      ),
                                                                                                      Text(
                                                                                                        " Schedule an Interview    ",
                                                                                                        style: TextStyle(
                                                                                                            fontWeight: FontWeight.bold, fontSize: 25),
                                                                                                      )
                                                                                                    ],
                                                                                                  ),
                                                                                                  SizedBox(
                                                                                                    height: 20,
                                                                                                  ),
                                                                                                  Form(
                                                                                                      key: _formKey,
                                                                                                      child: Column(
                                                                                                        mainAxisSize: MainAxisSize.max,
                                                                                                        crossAxisAlignment: CrossAxisAlignment.stretch,
                                                                                                        children: <Widget>[
                                                                                                          Text(
                                                                                                            "  Select Round",
                                                                                                            style: TextStyle(
                                                                                                              color: Colors.grey,
                                                                                                              fontFamily: 'Candara',
                                                                                                            ),
                                                                                                          ),

                                                                                                          FormField<String>(
                                                                                                            builder: (FormFieldState<String> state) {
                                                                                                              String _currentSelectedValue='';
                                                                                                              return Container(
                                                                                                                height: 60,
                                                                                                                padding: EdgeInsets.only(left: 0,right: 0),
                                                                                                                child: InputDecorator(
                                                                                                                  decoration: InputDecoration(
                                                                                                                    //labelText: 'CLASS',
                                                                                                                      prefixIcon: Icon(Icons.leaderboard,color: Colors.grey),
                                                                                                                      labelStyle: TextStyle(fontFamily: "Candara"),
                                                                                                                      errorStyle: TextStyle(fontFamily:"Candara",color: Colors.redAccent, fontSize: 16.0),
                                                                                                                      //hintText: 'Please select expense',
                                                                                                                      enabledBorder:OutlineInputBorder(
                                                                                                                          borderSide: const BorderSide(color: Colors.grey, width: 2.0),
                                                                                                                          borderRadius: BorderRadius.circular(15)),
                                                                                                                      focusedBorder: OutlineInputBorder(
                                                                                                                          borderSide: const BorderSide(color: Colors.orangeAccent,width: 2.0),
                                                                                                                          borderRadius: BorderRadius.circular(15)
                                                                                                                      )),
                                                                                                                  //border: OutlineInputBorder(borderRadius: BorderRadius.circular(5.0))),
                                                                                                                  isEmpty: _currentSelectedValue == '',
                                                                                                                  child: DropdownButtonHideUnderline(
                                                                                                                      child: DropdownButton(
                                                                                                                        menuMaxHeight: 200,
                                                                                                                        hint: _dropDownValue == null
                                                                                                                            ? Text('Dropdown')
                                                                                                                            : Text(
                                                                                                                          _dropDownValue,
                                                                                                                          style: TextStyle(fontFamily: "Candara",color: Colors.black,fontSize: 16),
                                                                                                                        ),
                                                                                                                        isExpanded: false,
                                                                                                                        iconSize: 30.0,
                                                                                                                        style: TextStyle(color: Colors.black),
                                                                                                                        items: drop.map(
                                                                                                                              (val) {
                                                                                                                            return DropdownMenuItem<String>(
                                                                                                                              value: val,
                                                                                                                              child: Text(val),
                                                                                                                            );
                                                                                                                          },
                                                                                                                        ).toList(),
                                                                                                                        onChanged: (String? val) {
                                                                                                                          setState(() {
                                                                                                                            _dropDownValue = val!;
                                                                                                                          });

                                                                                                                          (context as Element).markNeedsBuild();

                                                                                                                        },
                                                                                                                      )
                                                                                                                  ),
                                                                                                                ),
                                                                                                              );
                                                                                                            },
                                                                                                          ),
                                                                                                          SizedBox(height: 20),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              readOnly: true,
                                                                                                              validator: (input) {
                                                                                                                if (dateController.text.isEmpty) return 'Enter date from list';
                                                                                                              },
                                                                                                              controller: dateController,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                prefixIcon: GestureDetector(
                                                                                                                    onTap: (){
                                                                                                                      _selectDate(context);
                                                                                                                    },
                                                                                                                    child: Icon(Icons.date_range,color: Colors.grey,)),
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Enter Date',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              readOnly: true,
                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Please select time';
                                                                                                              },
                                                                                                              controller: timeController,
                                                                                                              decoration: InputDecoration(
                                                                                                                prefixIcon: GestureDetector(
                                                                                                                    onTap: (){
                                                                                                                      _selectTime(context);
                                                                                                                    },
                                                                                                                    child: Icon(Icons.access_time,color: Colors.grey,)),
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Select time',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20,),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Enter Interviewer Name';
                                                                                                              },
                                                                                                              controller: intnameController,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Enter interviewer name',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Enter interviewer E-mail';
                                                                                                              },
                                                                                                              controller: intmailController,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Interviewer E-mail ',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                prefixIcon: Icon(Icons.mail_outline, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(
                                                                                                            height: 20,
                                                                                                          ),
                                                                                                          Center(
                                                                                                            child: SingleChildScrollView(
                                                                                                              scrollDirection: Axis.horizontal,
                                                                                                              child: Center(
                                                                                                                child: ToggleButtons(
                                                                                                                  children: <Widget>[
                                                                                                                    Text("  Video  ",
                                                                                                                        style: TextStyle(
                                                                                                                          fontSize: 20,
                                                                                                                          fontFamily: "Candara",
                                                                                                                        )),
                                                                                                                    Text("  Phone  ",
                                                                                                                        style: TextStyle(
                                                                                                                          fontSize: 20,
                                                                                                                          fontFamily: "Candara",
                                                                                                                        )),

                                                                                                                  ],
                                                                                                                  selectedBorderColor: Colors.blue[800],
                                                                                                                  selectedColor: Colors.white,
                                                                                                                  borderColor: Colors.blue,
                                                                                                                  borderRadius: BorderRadius.circular(10),
                                                                                                                  disabledColor: Colors.transparent,
                                                                                                                  disabledBorderColor: Colors.transparent,
                                                                                                                  focusColor: Colors.blue[800],
                                                                                                                  fillColor: Colors.blue[800],
                                                                                                                  onPressed: (int index) {
                                                                                                                    setState(() {
                                                                                                                      e=index;
                                                                                                                      for (int buttonIndex = 0;
                                                                                                                      buttonIndex < isSelected1.length;
                                                                                                                      buttonIndex++) {
                                                                                                                        if (buttonIndex == index) {
                                                                                                                          isSelected1[buttonIndex] = true;
                                                                                                                        } else {
                                                                                                                          isSelected1[buttonIndex] = false;
                                                                                                                        }

                                                                                                                      }


                                                                                                                    });
                                                                                                                    (context as Element).markNeedsBuild();
                                                                                                                  },
                                                                                                                  isSelected: isSelected1,
                                                                                                                ),
                                                                                                              ),
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20,),
                                                                                                          if(e==0)
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                //readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty && e==0) return 'Please enter meetlink';
                                                                                                                },
                                                                                                                controller: meetlink,
                                                                                                                decoration: InputDecoration(
                                                                                                                  prefixIcon: Icon(Icons.video_call,color: Colors.grey,),
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter meet link',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                          if(e==1)
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                //readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty && e==1) return 'Please enter phone';
                                                                                                                },
                                                                                                                controller: phonelink,
                                                                                                                keyboardType: TextInputType.phone,
                                                                                                                decoration: InputDecoration(
                                                                                                                  prefixIcon: Icon(Icons.phone,color: Colors.grey,),
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter phone no.',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                          SizedBox(
                                                                                                            height: 15,
                                                                                                          ),
                                                                                                          Container(
                                                                                                            height: 160,
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              expands: true,
                                                                                                              maxLines: null,

                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Add comments';
                                                                                                              },
                                                                                                              controller: comments,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),

                                                                                                                labelText: 'Add comments',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                        ],
                                                                                                      )),


                                                                                                  //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                ],
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                      ),
                                                                                      actions: <Widget>[
                                                                                        Center(
                                                                                          child: Row(
                                                                                            mainAxisAlignment: MainAxisAlignment.center,
                                                                                            children: [
                                                                                              ElevatedButton(
                                                                                                style: ButtonStyle(
                                                                                                    backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                        Color.fromARGB(255, 59, 48, 214))),
                                                                                                child: Row(
                                                                                                  children: [
                                                                                                    Icon(Icons.access_time,color: Colors.white,size: 20,),
                                                                                                    Text(
                                                                                                      '  Schedule',
                                                                                                      style: TextStyle(
                                                                                                        fontFamily: 'Candara',
                                                                                                      ),
                                                                                                    ),
                                                                                                  ],
                                                                                                ),
                                                                                                onPressed: () async {
                                                                                                  if(_formKey.currentState!.validate()&& _dropDownValue!="")
                                                                                                  {
                                                                                                    String date= dateController.text;
                                                                                                    String time= timeController.text;
                                                                                                    String link;
                                                                                                    String commet= comments.text;
                                                                                                    String type;
                                                                                                    if(e==0) {
                                                                                                      type = "Video";
                                                                                                      link=meetlink.text;
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                      type="Audio";
                                                                                                      link=phonelink.text;
                                                                                                    }


                                                                                                    Interview log = await INTERVIEWapi(snapshot.data!.data.data.shortListCandidates[i].userId.toString(),_dropDownValue,intnameController.text,intmailController.text,type,date,time,link,commet);

                                                                                                    if(interview_code==200) {
                                                                                                      Navigator.pop(context);
                                                                                                      final Future<ConfirmAction7?> action =
                                                                                                      await _asyncConfirmDialog7(context, "${snapshot.data!.data.data.shortListCandidates[i].name.toString()}");
                                                                                                    }

                                                                                                    if(interview_code==401){
                                                                                                      Navigator.pop(context);
                                                                                                      showDialog<String>(
                                                                                                          context: context,
                                                                                                          builder: (BuildContext context) => AlertDialog(
                                                                                                            title: const Text("Try Again"),
                                                                                                            content: const Text("Couldn't schedule interview"),
                                                                                                            actions: <Widget>[
                                                                                                              TextButton(
                                                                                                                  onPressed: () => Navigator.pop(context, 'OK'),
                                                                                                                  child: const Text('OK',style: TextStyle(color: Colors.teal))
                                                                                                              ),
                                                                                                            ],
                                                                                                          ));
                                                                                                    }
                                                                                                  }


                                                                                                },
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                      ],
                                                                                    );
                                                                                  },
                                                                                );


                                                                              },
                                                                              child: Card(
                                                                                color: Colors.blue.shade200,
                                                                                child: Padding(
                                                                                  padding: const EdgeInsets.all(5.0),
                                                                                  child: Row(
                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                    children: [
                                                                                      Icon(Icons.upgrade,color:Colors.white,size: 18,),
                                                                                      //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                      SizedBox(width: 5,),
                                                                                      Text("Move next round",style: TextStyle(color: Colors.white,fontSize: 14),),
                                                                                    ],
                                                                                  ),
                                                                                ),
                                                                              )
                                                                          ),
                                                                          GestureDetector(
                                                                              onTap: () async {
                                                                                Shortlist B= await shortlistapi(snapshot.data!.data.data.shortListCandidates[i].userId.toString());
                                                                                if(shortlist_code==200){
                                                                                  showDialog(
                                                                                    context: context,
                                                                                    barrierDismissible: false, // user must tap button for close dialog!
                                                                                    builder: (BuildContext context) {
                                                                                      return AlertDialog(
                                                                                        //title: Text('Delete This Contact?'),
                                                                                        shape: RoundedRectangleBorder(
                                                                                            borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                        title: Center(
                                                                                          child: Text(
                                                                                            "Released ${snapshot.data!.data.data.shortListCandidates[i].name.toString()}",
                                                                                            style: TextStyle(
                                                                                                fontWeight: FontWeight.bold,
                                                                                                fontFamily: 'Candara',
                                                                                                color: Colors.blue[800]),
                                                                                          ),
                                                                                        ),
                                                                                        content: Container(
                                                                                          width: double.infinity,
                                                                                          //height: Wrap(),
                                                                                          child: Column(
                                                                                            mainAxisSize: MainAxisSize.min,
                                                                                            children: [
                                                                                              Column(
                                                                                                children: [

                                                                                                  Text(
                                                                                                    "You Have successfully ",
                                                                                                    style: TextStyle(fontSize: 20),
                                                                                                  ),
                                                                                                  Text(
                                                                                                    "released ${snapshot.data!.data.data.shortListCandidates[i].name.toString()}",
                                                                                                    style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),
                                                                                                  )
                                                                                                  //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                ],
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                        actions: <Widget>[
                                                                                          Center(
                                                                                            child: Row(
                                                                                              mainAxisAlignment: MainAxisAlignment.center,
                                                                                              children: [
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Text(
                                                                                                    'Okay',
                                                                                                    style: TextStyle(
                                                                                                      fontFamily: 'Candara',
                                                                                                    ),
                                                                                                  ),
                                                                                                  onPressed: () {
                                                                                                    Navigator.pop(context);
                                                                                                    setState(() {

                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ],
                                                                                      );
                                                                                    },
                                                                                  );
                                                                                }
                                                                              },
                                                                              child: Card(
                                                                                color: Colors.redAccent,
                                                                                child: Padding(
                                                                                  padding: const EdgeInsets.all(5.0),
                                                                                  child: Row(
                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                    children: [
                                                                                      Icon(Icons.remove_circle_outline,color: Colors.white,size: 18,),
                                                                                      //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                      SizedBox(width: 5,),
                                                                                      Text("Release",style: TextStyle(color: Colors.white,fontSize: 15),),
                                                                                    ],
                                                                                  ),
                                                                                ),
                                                                              )
                                                                          )


                                                                        ],
                                                                      ),

                                                                    ],
                                                                  ),
                                                                ),
                                                              ],
                                                            ),
                                                          ),
                                                        ),
                                                      ),
                                                      SizedBox(height: 10,)
                                                    ],
                                                  ),


                                            //expfilter
                                            if(_dropDownValueNot1==""&&_dropDownValuectc==""&&_dropDownValueexp!="")
                                              for(var i=0;i<snapshot.data!.data.data.shortListCandidates.length;i++)
                                                if("${snapshot.data!.data.data.shortListCandidates[i].exp} yrs" == _dropDownValueexp)
                                                  Column(
                                                    children: [
                                                      GestureDetector(
                                                        onTap:(){
                                                          Navigator.push(
                                                              context, MaterialPageRoute(
                                                              builder: (context) => Candidate(snapshot.data!.data.data.shortListCandidates[i].userId.toString())));


                                                        },
                                                        child: Card(
                                                          elevation: 5,
                                                          shape: RoundedRectangleBorder(
                                                              borderRadius: BorderRadius.all(Radius.circular(10))),
                                                          child: Container(
                                                            padding: EdgeInsets.all(8),
                                                            child: Column(
                                                              children: [
                                                                Row(
                                                                  mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                  crossAxisAlignment: CrossAxisAlignment.center,
                                                                  children: [
                                                                    Row(
                                                                      children: [
                                                                        Column(
                                                                          children: [
                                                                            Center(
                                                                              child: CircleAvatar(
                                                                                backgroundColor: Colors.transparent,
                                                                                backgroundImage: snapshot.data!.data.data.shortListCandidates[i].profileImage==null?
                                                                                NetworkImage("http://kobl.ai/img/profile.png")
                                                                                    :             NetworkImage("${snapshot.data!.data.data.shortListCandidates[i].profileImage}")
                                                                                ,
                                                                                radius: 28,
                                                                              ),
                                                                            ),
                                                                            SizedBox(height: 5,),
                                                                            RatingBarIndicator(
                                                                              rating: 2.75,
                                                                              itemBuilder: (context, index) => Icon(
                                                                                Icons.star,
                                                                                color: Colors.amber,
                                                                              ),
                                                                              itemCount: 5,
                                                                              itemSize: 15,
                                                                              direction: Axis.horizontal,
                                                                            ),
                                                                          ],
                                                                        ),
                                                                        SizedBox(width: 20,),
                                                                        Column(
                                                                          crossAxisAlignment: CrossAxisAlignment.start,
                                                                          children: [
                                                                            Text(
                                                                              "${snapshot.data!.data.data.shortListCandidates[i].name.toString()}",
                                                                              style: TextStyle(
                                                                                fontWeight: FontWeight.bold,
                                                                                fontFamily: 'Candara',
                                                                                fontSize: 18,
                                                                              ),
                                                                            ),
                                                                            SizedBox(height:5),
                                                                            Text(
                                                                                '${snapshot.data!.data.data.shortListCandidates[i].designation.toString()}',
                                                                                style: TextStyle(

                                                                                  fontFamily: 'Candara',
                                                                                  color: Colors.blue,
                                                                                  fontSize: 15,
                                                                                ),
                                                                                maxLines: 5,
                                                                                overflow: TextOverflow.ellipsis),

                                                                            SizedBox(
                                                                              height: 10,
                                                                            ),
                                                                            if(snapshot.data!.data.data.shortListCandidates[i].notice.toString()!="0")
                                                                              Text("Notice : ${snapshot.data!.data.data.shortListCandidates[i].notice.toString()} days",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                            if(snapshot.data!.data.data.shortListCandidates[i].notice.toString()=="0")
                                                                              Text("Notice : Immediate",style: TextStyle(fontFamily: "Candara",fontSize: 14 ),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                            SizedBox(height: 5,),
                                                                            Row(
                                                                              children: [
                                                                                Text("CTC : ${snapshot.data!.data.data.shortListCandidates[i].ctc.toString()} LPA",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                if(snapshot.data!.data.data.shortListCandidates[i].exp.toString()!="1")
                                                                                  Text("     Exp : ${snapshot.data!.data.data.shortListCandidates[i].exp.toString()} yrs",style: TextStyle(fontFamily: "Candara",fontSize: 14,),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                if(snapshot.data!.data.data.shortListCandidates[i].exp.toString()=="1")
                                                                                  Text("     Exp : ${snapshot.data!.data.data.shortListCandidates[i].exp.toString()} yr",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),

                                                                              ],
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                          ],
                                                                        ),
                                                                      ],
                                                                    ),
                                                                    Icon(Icons.arrow_forward_ios_outlined,color: Colors.orangeAccent,size: 20,),
                                                                  ],
                                                                ),
                                                                Container(
                                                                  //height: 100,
                                                                  padding: EdgeInsets.only(left: 10, right: 10, top: 10,bottom: 10),
                                                                  child: Column(
                                                                    crossAxisAlignment: CrossAxisAlignment.start,
                                                                    children: <Widget>[
                                                                      GridView.count(
                                                                        shrinkWrap: true,
                                                                        childAspectRatio: 3.5,
                                                                        crossAxisSpacing:3,
                                                                        mainAxisSpacing: 3,
                                                                        crossAxisCount: 2,
                                                                        children: <Widget>[

                                                                          GestureDetector(
                                                                              onTap: () {
                                                                                showDialog(
                                                                                  context: context,
                                                                                  barrierDismissible: false, // user must tap button for close dialog!
                                                                                  builder: (BuildContext context) {

                                                                                    String? _character="Video";
                                                                                    isSelected1[e]=true;
                                                                                    List<String> drop=[];
                                                                                    for(var i=0;i<snapshot.data!.data.data.stages.length-1;i++)
                                                                                    {
                                                                                      drop.add(snapshot.data!.data.data.stages[i].key.toString());
                                                                                    }


                                                                                    return AlertDialog(
                                                                                      //title: Text('Delete This Contact?'),
                                                                                      shape: RoundedRectangleBorder(
                                                                                          borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                      insetPadding: EdgeInsets.zero,
                                                                                      content: Container(
                                                                                        width: double.infinity,
                                                                                        //height: Wrap(),
                                                                                        child: SingleChildScrollView(
                                                                                          child: Column(
                                                                                            mainAxisSize: MainAxisSize.min,
                                                                                            children: [
                                                                                              Column(
                                                                                                children: [
                                                                                                  Row(
                                                                                                    children: [
                                                                                                      GestureDetector(
                                                                                                        onTap: (){
                                                                                                          Navigator.pop(context);
                                                                                                        },
                                                                                                        child: Icon(
                                                                                                          Icons.arrow_back_ios,
                                                                                                          color: Colors.black,
                                                                                                          size: 25,
                                                                                                        ),
                                                                                                      ),
                                                                                                      Text(
                                                                                                        " Schedule an Interview    ",
                                                                                                        style: TextStyle(
                                                                                                            fontWeight: FontWeight.bold, fontSize: 25),
                                                                                                      )
                                                                                                    ],
                                                                                                  ),
                                                                                                  SizedBox(
                                                                                                    height: 20,
                                                                                                  ),
                                                                                                  Form(
                                                                                                      key: _formKey,
                                                                                                      child: Column(
                                                                                                        mainAxisSize: MainAxisSize.max,
                                                                                                        crossAxisAlignment: CrossAxisAlignment.stretch,
                                                                                                        children: <Widget>[
                                                                                                          Text(
                                                                                                            "  Select Round",
                                                                                                            style: TextStyle(
                                                                                                              color: Colors.grey,
                                                                                                              fontFamily: 'Candara',
                                                                                                            ),
                                                                                                          ),

                                                                                                          FormField<String>(
                                                                                                            builder: (FormFieldState<String> state) {
                                                                                                              String _currentSelectedValue='';
                                                                                                              return Container(
                                                                                                                height: 60,
                                                                                                                padding: EdgeInsets.only(left: 0,right: 0),
                                                                                                                child: InputDecorator(
                                                                                                                  decoration: InputDecoration(
                                                                                                                    //labelText: 'CLASS',
                                                                                                                      prefixIcon: Icon(Icons.leaderboard,color: Colors.grey),
                                                                                                                      labelStyle: TextStyle(fontFamily: "Candara"),
                                                                                                                      errorStyle: TextStyle(fontFamily:"Candara",color: Colors.redAccent, fontSize: 16.0),
                                                                                                                      //hintText: 'Please select expense',
                                                                                                                      enabledBorder:OutlineInputBorder(
                                                                                                                          borderSide: const BorderSide(color: Colors.grey, width: 2.0),
                                                                                                                          borderRadius: BorderRadius.circular(15)),
                                                                                                                      focusedBorder: OutlineInputBorder(
                                                                                                                          borderSide: const BorderSide(color: Colors.orangeAccent,width: 2.0),
                                                                                                                          borderRadius: BorderRadius.circular(15)
                                                                                                                      )),
                                                                                                                  //border: OutlineInputBorder(borderRadius: BorderRadius.circular(5.0))),
                                                                                                                  isEmpty: _currentSelectedValue == '',
                                                                                                                  child: DropdownButtonHideUnderline(
                                                                                                                      child: DropdownButton(
                                                                                                                        menuMaxHeight: 200,
                                                                                                                        hint: _dropDownValue == null
                                                                                                                            ? Text('Dropdown')
                                                                                                                            : Text(
                                                                                                                          _dropDownValue,
                                                                                                                          style: TextStyle(fontFamily: "Candara",color: Colors.black,fontSize: 16),
                                                                                                                        ),
                                                                                                                        isExpanded: false,
                                                                                                                        iconSize: 30.0,
                                                                                                                        style: TextStyle(color: Colors.black),
                                                                                                                        items: drop.map(
                                                                                                                              (val) {
                                                                                                                            return DropdownMenuItem<String>(
                                                                                                                              value: val,
                                                                                                                              child: Text(val),
                                                                                                                            );
                                                                                                                          },
                                                                                                                        ).toList(),
                                                                                                                        onChanged: (String? val) {
                                                                                                                          setState(() {
                                                                                                                            _dropDownValue = val!;
                                                                                                                          });

                                                                                                                          (context as Element).markNeedsBuild();

                                                                                                                        },
                                                                                                                      )
                                                                                                                  ),
                                                                                                                ),
                                                                                                              );
                                                                                                            },
                                                                                                          ),
                                                                                                          SizedBox(height: 20),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              readOnly: true,
                                                                                                              validator: (input) {
                                                                                                                if (dateController.text.isEmpty) return 'Enter date from list';
                                                                                                              },
                                                                                                              controller: dateController,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                prefixIcon: GestureDetector(
                                                                                                                    onTap: (){
                                                                                                                      _selectDate(context);
                                                                                                                    },
                                                                                                                    child: Icon(Icons.date_range,color: Colors.grey,)),
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Enter Date',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              readOnly: true,
                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Please select time';
                                                                                                              },
                                                                                                              controller: timeController,
                                                                                                              decoration: InputDecoration(
                                                                                                                prefixIcon: GestureDetector(
                                                                                                                    onTap: (){
                                                                                                                      _selectTime(context);
                                                                                                                    },
                                                                                                                    child: Icon(Icons.access_time,color: Colors.grey,)),
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Select time',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20,),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Enter Interviewer Name';
                                                                                                              },
                                                                                                              controller: intnameController,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Enter interviewer name',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Enter interviewer E-mail';
                                                                                                              },
                                                                                                              controller: intmailController,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Interviewer E-mail ',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                prefixIcon: Icon(Icons.mail_outline, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(
                                                                                                            height: 20,
                                                                                                          ),
                                                                                                          Center(
                                                                                                            child: SingleChildScrollView(
                                                                                                              scrollDirection: Axis.horizontal,
                                                                                                              child: Center(
                                                                                                                child: ToggleButtons(
                                                                                                                  children: <Widget>[
                                                                                                                    Text("  Video  ",
                                                                                                                        style: TextStyle(
                                                                                                                          fontSize: 20,
                                                                                                                          fontFamily: "Candara",
                                                                                                                        )),
                                                                                                                    Text("  Phone  ",
                                                                                                                        style: TextStyle(
                                                                                                                          fontSize: 20,
                                                                                                                          fontFamily: "Candara",
                                                                                                                        )),

                                                                                                                  ],
                                                                                                                  selectedBorderColor: Colors.blue[800],
                                                                                                                  selectedColor: Colors.white,
                                                                                                                  borderColor: Colors.blue,
                                                                                                                  borderRadius: BorderRadius.circular(10),
                                                                                                                  disabledColor: Colors.transparent,
                                                                                                                  disabledBorderColor: Colors.transparent,
                                                                                                                  focusColor: Colors.blue[800],
                                                                                                                  fillColor: Colors.blue[800],
                                                                                                                  onPressed: (int index) {
                                                                                                                    setState(() {
                                                                                                                      e=index;
                                                                                                                      for (int buttonIndex = 0;
                                                                                                                      buttonIndex < isSelected1.length;
                                                                                                                      buttonIndex++) {
                                                                                                                        if (buttonIndex == index) {
                                                                                                                          isSelected1[buttonIndex] = true;
                                                                                                                        } else {
                                                                                                                          isSelected1[buttonIndex] = false;
                                                                                                                        }

                                                                                                                      }


                                                                                                                    });
                                                                                                                    (context as Element).markNeedsBuild();
                                                                                                                  },
                                                                                                                  isSelected: isSelected1,
                                                                                                                ),
                                                                                                              ),
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20,),
                                                                                                          if(e==0)
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                //readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty && e==0) return 'Please enter meetlink';
                                                                                                                },
                                                                                                                controller: meetlink,
                                                                                                                decoration: InputDecoration(
                                                                                                                  prefixIcon: Icon(Icons.video_call,color: Colors.grey,),
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter meet link',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                          if(e==1)
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                //readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty && e==1) return 'Please enter phone';
                                                                                                                },
                                                                                                                controller: phonelink,
                                                                                                                keyboardType: TextInputType.phone,
                                                                                                                decoration: InputDecoration(
                                                                                                                  prefixIcon: Icon(Icons.phone,color: Colors.grey,),
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter phone no.',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                          SizedBox(
                                                                                                            height: 15,
                                                                                                          ),
                                                                                                          Container(
                                                                                                            height: 160,
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              expands: true,
                                                                                                              maxLines: null,

                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Add comments';
                                                                                                              },
                                                                                                              controller: comments,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),

                                                                                                                labelText: 'Add comments',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                        ],
                                                                                                      )),


                                                                                                  //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                ],
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                      ),
                                                                                      actions: <Widget>[
                                                                                        Center(
                                                                                          child: Row(
                                                                                            mainAxisAlignment: MainAxisAlignment.center,
                                                                                            children: [
                                                                                              ElevatedButton(
                                                                                                style: ButtonStyle(
                                                                                                    backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                        Color.fromARGB(255, 59, 48, 214))),
                                                                                                child: Row(
                                                                                                  children: [
                                                                                                    Icon(Icons.access_time,color: Colors.white,size: 20,),
                                                                                                    Text(
                                                                                                      '  Schedule',
                                                                                                      style: TextStyle(
                                                                                                        fontFamily: 'Candara',
                                                                                                      ),
                                                                                                    ),
                                                                                                  ],
                                                                                                ),
                                                                                                onPressed: () async {
                                                                                                  if(_formKey.currentState!.validate()&& _dropDownValue!="")
                                                                                                  {
                                                                                                    String date= dateController.text;
                                                                                                    String time= timeController.text;
                                                                                                    String link;
                                                                                                    String commet= comments.text;
                                                                                                    String type;
                                                                                                    if(e==0) {
                                                                                                      type = "Video";
                                                                                                      link=meetlink.text;
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                      type="Audio";
                                                                                                      link=phonelink.text;
                                                                                                    }


                                                                                                    Interview log = await INTERVIEWapi(snapshot.data!.data.data.shortListCandidates[i].userId.toString(),_dropDownValue,intnameController.text,intmailController.text,type,date,time,link,commet);

                                                                                                    if(interview_code==200) {
                                                                                                      Navigator.pop(context);
                                                                                                      final Future<ConfirmAction7?> action =
                                                                                                      await _asyncConfirmDialog7(context, "${snapshot.data!.data.data.shortListCandidates[i].name.toString()}");
                                                                                                    }

                                                                                                    if(interview_code==401){
                                                                                                      Navigator.pop(context);
                                                                                                      showDialog<String>(
                                                                                                          context: context,
                                                                                                          builder: (BuildContext context) => AlertDialog(
                                                                                                            title: const Text("Try Again"),
                                                                                                            content: const Text("Couldn't schedule interview"),
                                                                                                            actions: <Widget>[
                                                                                                              TextButton(
                                                                                                                  onPressed: () => Navigator.pop(context, 'OK'),
                                                                                                                  child: const Text('OK',style: TextStyle(color: Colors.teal))
                                                                                                              ),
                                                                                                            ],
                                                                                                          ));
                                                                                                    }
                                                                                                  }


                                                                                                },
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                      ],
                                                                                    );
                                                                                  },
                                                                                );


                                                                              },
                                                                              child: Card(
                                                                                color: Colors.blue.shade200,
                                                                                child: Padding(
                                                                                  padding: const EdgeInsets.all(5.0),
                                                                                  child: Row(
                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                    children: [
                                                                                      Icon(Icons.upgrade,color:Colors.white,size: 18,),
                                                                                      //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                      SizedBox(width: 5,),
                                                                                      Text("Move next round",style: TextStyle(color: Colors.white,fontSize: 14),),
                                                                                    ],
                                                                                  ),
                                                                                ),
                                                                              )
                                                                          ),
                                                                          GestureDetector(
                                                                              onTap: () async {
                                                                                Shortlist B= await shortlistapi(snapshot.data!.data.data.shortListCandidates[i].userId.toString());
                                                                                if(shortlist_code==200){
                                                                                  showDialog(
                                                                                    context: context,
                                                                                    barrierDismissible: false, // user must tap button for close dialog!
                                                                                    builder: (BuildContext context) {
                                                                                      return AlertDialog(
                                                                                        //title: Text('Delete This Contact?'),
                                                                                        shape: RoundedRectangleBorder(
                                                                                            borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                        title: Center(
                                                                                          child: Text(
                                                                                            "Released ${snapshot.data!.data.data.shortListCandidates[i].name.toString()}",
                                                                                            style: TextStyle(
                                                                                                fontWeight: FontWeight.bold,
                                                                                                fontFamily: 'Candara',
                                                                                                color: Colors.blue[800]),
                                                                                          ),
                                                                                        ),
                                                                                        content: Container(
                                                                                          width: double.infinity,
                                                                                          //height: Wrap(),
                                                                                          child: Column(
                                                                                            mainAxisSize: MainAxisSize.min,
                                                                                            children: [
                                                                                              Column(
                                                                                                children: [

                                                                                                  Text(
                                                                                                    "You Have successfully ",
                                                                                                    style: TextStyle(fontSize: 20),
                                                                                                  ),
                                                                                                  Text(
                                                                                                    "released ${snapshot.data!.data.data.shortListCandidates[i].name.toString()}",
                                                                                                    style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),
                                                                                                  )
                                                                                                  //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                ],
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                        actions: <Widget>[
                                                                                          Center(
                                                                                            child: Row(
                                                                                              mainAxisAlignment: MainAxisAlignment.center,
                                                                                              children: [
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Text(
                                                                                                    'Okay',
                                                                                                    style: TextStyle(
                                                                                                      fontFamily: 'Candara',
                                                                                                    ),
                                                                                                  ),
                                                                                                  onPressed: () {
                                                                                                    Navigator.pop(context);
                                                                                                    setState(() {

                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ],
                                                                                      );
                                                                                    },
                                                                                  );
                                                                                }
                                                                              },
                                                                              child: Card(
                                                                                color: Colors.redAccent,
                                                                                child: Padding(
                                                                                  padding: const EdgeInsets.all(5.0),
                                                                                  child: Row(
                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                    children: [
                                                                                      Icon(Icons.remove_circle_outline,color: Colors.white,size: 18,),
                                                                                      //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                      SizedBox(width: 5,),
                                                                                      Text("Release",style: TextStyle(color: Colors.white,fontSize: 15),),
                                                                                    ],
                                                                                  ),
                                                                                ),
                                                                              )
                                                                          )


                                                                        ],
                                                                      ),

                                                                    ],
                                                                  ),
                                                                ),
                                                              ],
                                                            ),
                                                          ),
                                                        ),
                                                      ),
                                                      SizedBox(height: 10,)
                                                    ],
                                                  ),


                                            //not&exp
                                            if(_dropDownValueNot1!=""&&_dropDownValuectc==""&&_dropDownValueexp!="")
                                              for(var i=0;i<snapshot.data!.data.data.shortListCandidates.length;i++)
                                                if("${snapshot.data!.data.data.shortListCandidates[i].notice} days" == _dropDownValueNot1 &&
                                                    "${snapshot.data!.data.data.shortListCandidates[i].exp} yrs" == _dropDownValueexp )
                                                  Column(
                                                    children: [
                                                      GestureDetector(
                                                        onTap:(){
                                                          Navigator.push(
                                                              context, MaterialPageRoute(
                                                              builder: (context) => Candidate(snapshot.data!.data.data.shortListCandidates[i].userId.toString())));


                                                        },
                                                        child: Card(
                                                          elevation: 5,
                                                          shape: RoundedRectangleBorder(
                                                              borderRadius: BorderRadius.all(Radius.circular(10))),
                                                          child: Container(
                                                            padding: EdgeInsets.all(8),
                                                            child: Column(
                                                              children: [
                                                                Row(
                                                                  mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                  crossAxisAlignment: CrossAxisAlignment.center,
                                                                  children: [
                                                                    Row(
                                                                      children: [
                                                                        Column(
                                                                          children: [
                                                                            Center(
                                                                              child: CircleAvatar(
                                                                                backgroundColor: Colors.transparent,
                                                                                backgroundImage: snapshot.data!.data.data.shortListCandidates[i].profileImage==null?
                                                                                NetworkImage("http://kobl.ai/img/profile.png")
                                                                                    :             NetworkImage("${snapshot.data!.data.data.shortListCandidates[i].profileImage}")
                                                                                ,
                                                                                radius: 28,
                                                                              ),
                                                                            ),
                                                                            SizedBox(height: 5,),
                                                                            RatingBarIndicator(
                                                                              rating: 2.75,
                                                                              itemBuilder: (context, index) => Icon(
                                                                                Icons.star,
                                                                                color: Colors.amber,
                                                                              ),
                                                                              itemCount: 5,
                                                                              itemSize: 15,
                                                                              direction: Axis.horizontal,
                                                                            ),
                                                                          ],
                                                                        ),
                                                                        SizedBox(width: 20,),
                                                                        Column(
                                                                          crossAxisAlignment: CrossAxisAlignment.start,
                                                                          children: [
                                                                            Text(
                                                                              "${snapshot.data!.data.data.shortListCandidates[i].name.toString()}",
                                                                              style: TextStyle(
                                                                                fontWeight: FontWeight.bold,
                                                                                fontFamily: 'Candara',
                                                                                fontSize: 18,
                                                                              ),
                                                                            ),
                                                                            SizedBox(height:5),
                                                                            Text(
                                                                                '${snapshot.data!.data.data.shortListCandidates[i].designation.toString()}',
                                                                                style: TextStyle(

                                                                                  fontFamily: 'Candara',
                                                                                  color: Colors.blue,
                                                                                  fontSize: 15,
                                                                                ),
                                                                                maxLines: 5,
                                                                                overflow: TextOverflow.ellipsis),

                                                                            SizedBox(
                                                                              height: 10,
                                                                            ),
                                                                            if(snapshot.data!.data.data.shortListCandidates[i].notice.toString()!="0")
                                                                              Text("Notice : ${snapshot.data!.data.data.shortListCandidates[i].notice.toString()} days",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                            if(snapshot.data!.data.data.shortListCandidates[i].notice.toString()=="0")
                                                                              Text("Notice : Immediate",style: TextStyle(fontFamily: "Candara",fontSize: 14 ),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                            SizedBox(height: 5,),
                                                                            Row(
                                                                              children: [
                                                                                Text("CTC : ${snapshot.data!.data.data.shortListCandidates[i].ctc.toString()} LPA",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                if(snapshot.data!.data.data.shortListCandidates[i].exp.toString()!="1")
                                                                                  Text("     Exp : ${snapshot.data!.data.data.shortListCandidates[i].exp.toString()} yrs",style: TextStyle(fontFamily: "Candara",fontSize: 14,),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                if(snapshot.data!.data.data.shortListCandidates[i].exp.toString()=="1")
                                                                                  Text("     Exp : ${snapshot.data!.data.data.shortListCandidates[i].exp.toString()} yr",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),

                                                                              ],
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                          ],
                                                                        ),
                                                                      ],
                                                                    ),
                                                                    Icon(Icons.arrow_forward_ios_outlined,color: Colors.orangeAccent,size: 20,),
                                                                  ],
                                                                ),
                                                                Container(
                                                                  //height: 100,
                                                                  padding: EdgeInsets.only(left: 10, right: 10, top: 10,bottom: 10),
                                                                  child: Column(
                                                                    crossAxisAlignment: CrossAxisAlignment.start,
                                                                    children: <Widget>[
                                                                      GridView.count(
                                                                        shrinkWrap: true,
                                                                        childAspectRatio: 3.5,
                                                                        crossAxisSpacing:3,
                                                                        mainAxisSpacing: 3,
                                                                        crossAxisCount: 2,
                                                                        children: <Widget>[

                                                                          GestureDetector(
                                                                              onTap: () {
                                                                                showDialog(
                                                                                  context: context,
                                                                                  barrierDismissible: false, // user must tap button for close dialog!
                                                                                  builder: (BuildContext context) {

                                                                                    String? _character="Video";
                                                                                    isSelected1[e]=true;
                                                                                    List<String> drop=[];
                                                                                    for(var i=0;i<snapshot.data!.data.data.stages.length-1;i++)
                                                                                    {
                                                                                      drop.add(snapshot.data!.data.data.stages[i].key.toString());
                                                                                    }


                                                                                    return AlertDialog(
                                                                                      //title: Text('Delete This Contact?'),
                                                                                      shape: RoundedRectangleBorder(
                                                                                          borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                      insetPadding: EdgeInsets.zero,
                                                                                      content: Container(
                                                                                        width: double.infinity,
                                                                                        //height: Wrap(),
                                                                                        child: SingleChildScrollView(
                                                                                          child: Column(
                                                                                            mainAxisSize: MainAxisSize.min,
                                                                                            children: [
                                                                                              Column(
                                                                                                children: [
                                                                                                  Row(
                                                                                                    children: [
                                                                                                      GestureDetector(
                                                                                                        onTap: (){
                                                                                                          Navigator.pop(context);
                                                                                                        },
                                                                                                        child: Icon(
                                                                                                          Icons.arrow_back_ios,
                                                                                                          color: Colors.black,
                                                                                                          size: 25,
                                                                                                        ),
                                                                                                      ),
                                                                                                      Text(
                                                                                                        " Schedule an Interview    ",
                                                                                                        style: TextStyle(
                                                                                                            fontWeight: FontWeight.bold, fontSize: 25),
                                                                                                      )
                                                                                                    ],
                                                                                                  ),
                                                                                                  SizedBox(
                                                                                                    height: 20,
                                                                                                  ),
                                                                                                  Form(
                                                                                                      key: _formKey,
                                                                                                      child: Column(
                                                                                                        mainAxisSize: MainAxisSize.max,
                                                                                                        crossAxisAlignment: CrossAxisAlignment.stretch,
                                                                                                        children: <Widget>[
                                                                                                          Text(
                                                                                                            "  Select Round",
                                                                                                            style: TextStyle(
                                                                                                              color: Colors.grey,
                                                                                                              fontFamily: 'Candara',
                                                                                                            ),
                                                                                                          ),

                                                                                                          FormField<String>(
                                                                                                            builder: (FormFieldState<String> state) {
                                                                                                              String _currentSelectedValue='';
                                                                                                              return Container(
                                                                                                                height: 60,
                                                                                                                padding: EdgeInsets.only(left: 0,right: 0),
                                                                                                                child: InputDecorator(
                                                                                                                  decoration: InputDecoration(
                                                                                                                    //labelText: 'CLASS',
                                                                                                                      prefixIcon: Icon(Icons.leaderboard,color: Colors.grey),
                                                                                                                      labelStyle: TextStyle(fontFamily: "Candara"),
                                                                                                                      errorStyle: TextStyle(fontFamily:"Candara",color: Colors.redAccent, fontSize: 16.0),
                                                                                                                      //hintText: 'Please select expense',
                                                                                                                      enabledBorder:OutlineInputBorder(
                                                                                                                          borderSide: const BorderSide(color: Colors.grey, width: 2.0),
                                                                                                                          borderRadius: BorderRadius.circular(15)),
                                                                                                                      focusedBorder: OutlineInputBorder(
                                                                                                                          borderSide: const BorderSide(color: Colors.orangeAccent,width: 2.0),
                                                                                                                          borderRadius: BorderRadius.circular(15)
                                                                                                                      )),
                                                                                                                  //border: OutlineInputBorder(borderRadius: BorderRadius.circular(5.0))),
                                                                                                                  isEmpty: _currentSelectedValue == '',
                                                                                                                  child: DropdownButtonHideUnderline(
                                                                                                                      child: DropdownButton(
                                                                                                                        menuMaxHeight: 200,
                                                                                                                        hint: _dropDownValue == null
                                                                                                                            ? Text('Dropdown')
                                                                                                                            : Text(
                                                                                                                          _dropDownValue,
                                                                                                                          style: TextStyle(fontFamily: "Candara",color: Colors.black,fontSize: 16),
                                                                                                                        ),
                                                                                                                        isExpanded: false,
                                                                                                                        iconSize: 30.0,
                                                                                                                        style: TextStyle(color: Colors.black),
                                                                                                                        items: drop.map(
                                                                                                                              (val) {
                                                                                                                            return DropdownMenuItem<String>(
                                                                                                                              value: val,
                                                                                                                              child: Text(val),
                                                                                                                            );
                                                                                                                          },
                                                                                                                        ).toList(),
                                                                                                                        onChanged: (String? val) {
                                                                                                                          setState(() {
                                                                                                                            _dropDownValue = val!;
                                                                                                                          });

                                                                                                                          (context as Element).markNeedsBuild();

                                                                                                                        },
                                                                                                                      )
                                                                                                                  ),
                                                                                                                ),
                                                                                                              );
                                                                                                            },
                                                                                                          ),
                                                                                                          SizedBox(height: 20),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              readOnly: true,
                                                                                                              validator: (input) {
                                                                                                                if (dateController.text.isEmpty) return 'Enter date from list';
                                                                                                              },
                                                                                                              controller: dateController,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                prefixIcon: GestureDetector(
                                                                                                                    onTap: (){
                                                                                                                      _selectDate(context);
                                                                                                                    },
                                                                                                                    child: Icon(Icons.date_range,color: Colors.grey,)),
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Enter Date',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              readOnly: true,
                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Please select time';
                                                                                                              },
                                                                                                              controller: timeController,
                                                                                                              decoration: InputDecoration(
                                                                                                                prefixIcon: GestureDetector(
                                                                                                                    onTap: (){
                                                                                                                      _selectTime(context);
                                                                                                                    },
                                                                                                                    child: Icon(Icons.access_time,color: Colors.grey,)),
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Select time',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20,),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Enter Interviewer Name';
                                                                                                              },
                                                                                                              controller: intnameController,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Enter interviewer name',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Enter interviewer E-mail';
                                                                                                              },
                                                                                                              controller: intmailController,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Interviewer E-mail ',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                prefixIcon: Icon(Icons.mail_outline, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(
                                                                                                            height: 20,
                                                                                                          ),
                                                                                                          Center(
                                                                                                            child: SingleChildScrollView(
                                                                                                              scrollDirection: Axis.horizontal,
                                                                                                              child: Center(
                                                                                                                child: ToggleButtons(
                                                                                                                  children: <Widget>[
                                                                                                                    Text("  Video  ",
                                                                                                                        style: TextStyle(
                                                                                                                          fontSize: 20,
                                                                                                                          fontFamily: "Candara",
                                                                                                                        )),
                                                                                                                    Text("  Phone  ",
                                                                                                                        style: TextStyle(
                                                                                                                          fontSize: 20,
                                                                                                                          fontFamily: "Candara",
                                                                                                                        )),

                                                                                                                  ],
                                                                                                                  selectedBorderColor: Colors.blue[800],
                                                                                                                  selectedColor: Colors.white,
                                                                                                                  borderColor: Colors.blue,
                                                                                                                  borderRadius: BorderRadius.circular(10),
                                                                                                                  disabledColor: Colors.transparent,
                                                                                                                  disabledBorderColor: Colors.transparent,
                                                                                                                  focusColor: Colors.blue[800],
                                                                                                                  fillColor: Colors.blue[800],
                                                                                                                  onPressed: (int index) {
                                                                                                                    setState(() {
                                                                                                                      e=index;
                                                                                                                      for (int buttonIndex = 0;
                                                                                                                      buttonIndex < isSelected1.length;
                                                                                                                      buttonIndex++) {
                                                                                                                        if (buttonIndex == index) {
                                                                                                                          isSelected1[buttonIndex] = true;
                                                                                                                        } else {
                                                                                                                          isSelected1[buttonIndex] = false;
                                                                                                                        }

                                                                                                                      }


                                                                                                                    });
                                                                                                                    (context as Element).markNeedsBuild();
                                                                                                                  },
                                                                                                                  isSelected: isSelected1,
                                                                                                                ),
                                                                                                              ),
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20,),
                                                                                                          if(e==0)
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                //readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty && e==0) return 'Please enter meetlink';
                                                                                                                },
                                                                                                                controller: meetlink,
                                                                                                                decoration: InputDecoration(
                                                                                                                  prefixIcon: Icon(Icons.video_call,color: Colors.grey,),
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter meet link',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                          if(e==1)
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                //readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty && e==1) return 'Please enter phone';
                                                                                                                },
                                                                                                                controller: phonelink,
                                                                                                                keyboardType: TextInputType.phone,
                                                                                                                decoration: InputDecoration(
                                                                                                                  prefixIcon: Icon(Icons.phone,color: Colors.grey,),
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter phone no.',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                          SizedBox(
                                                                                                            height: 15,
                                                                                                          ),
                                                                                                          Container(
                                                                                                            height: 160,
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              expands: true,
                                                                                                              maxLines: null,

                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Add comments';
                                                                                                              },
                                                                                                              controller: comments,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),

                                                                                                                labelText: 'Add comments',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                        ],
                                                                                                      )),


                                                                                                  //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                ],
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                      ),
                                                                                      actions: <Widget>[
                                                                                        Center(
                                                                                          child: Row(
                                                                                            mainAxisAlignment: MainAxisAlignment.center,
                                                                                            children: [
                                                                                              ElevatedButton(
                                                                                                style: ButtonStyle(
                                                                                                    backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                        Color.fromARGB(255, 59, 48, 214))),
                                                                                                child: Row(
                                                                                                  children: [
                                                                                                    Icon(Icons.access_time,color: Colors.white,size: 20,),
                                                                                                    Text(
                                                                                                      '  Schedule',
                                                                                                      style: TextStyle(
                                                                                                        fontFamily: 'Candara',
                                                                                                      ),
                                                                                                    ),
                                                                                                  ],
                                                                                                ),
                                                                                                onPressed: () async {
                                                                                                  if(_formKey.currentState!.validate()&& _dropDownValue!="")
                                                                                                  {
                                                                                                    String date= dateController.text;
                                                                                                    String time= timeController.text;
                                                                                                    String link;
                                                                                                    String commet= comments.text;
                                                                                                    String type;
                                                                                                    if(e==0) {
                                                                                                      type = "Video";
                                                                                                      link=meetlink.text;
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                      type="Audio";
                                                                                                      link=phonelink.text;
                                                                                                    }


                                                                                                    Interview log = await INTERVIEWapi(snapshot.data!.data.data.shortListCandidates[i].userId.toString(),_dropDownValue,intnameController.text,intmailController.text,type,date,time,link,commet);

                                                                                                    if(interview_code==200) {
                                                                                                      Navigator.pop(context);
                                                                                                      final Future<ConfirmAction7?> action =
                                                                                                      await _asyncConfirmDialog7(context, "${snapshot.data!.data.data.shortListCandidates[i].name.toString()}");
                                                                                                    }

                                                                                                    if(interview_code==401){
                                                                                                      Navigator.pop(context);
                                                                                                      showDialog<String>(
                                                                                                          context: context,
                                                                                                          builder: (BuildContext context) => AlertDialog(
                                                                                                            title: const Text("Try Again"),
                                                                                                            content: const Text("Couldn't schedule interview"),
                                                                                                            actions: <Widget>[
                                                                                                              TextButton(
                                                                                                                  onPressed: () => Navigator.pop(context, 'OK'),
                                                                                                                  child: const Text('OK',style: TextStyle(color: Colors.teal))
                                                                                                              ),
                                                                                                            ],
                                                                                                          ));
                                                                                                    }
                                                                                                  }


                                                                                                },
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                      ],
                                                                                    );
                                                                                  },
                                                                                );


                                                                              },
                                                                              child: Card(
                                                                                color: Colors.blue.shade200,
                                                                                child: Padding(
                                                                                  padding: const EdgeInsets.all(5.0),
                                                                                  child: Row(
                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                    children: [
                                                                                      Icon(Icons.upgrade,color:Colors.white,size: 18,),
                                                                                      //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                      SizedBox(width: 5,),
                                                                                      Text("Move next round",style: TextStyle(color: Colors.white,fontSize: 14),),
                                                                                    ],
                                                                                  ),
                                                                                ),
                                                                              )
                                                                          ),
                                                                          GestureDetector(
                                                                              onTap: () async {
                                                                                Shortlist B= await shortlistapi(snapshot.data!.data.data.shortListCandidates[i].userId.toString());
                                                                                if(shortlist_code==200){
                                                                                  showDialog(
                                                                                    context: context,
                                                                                    barrierDismissible: false, // user must tap button for close dialog!
                                                                                    builder: (BuildContext context) {
                                                                                      return AlertDialog(
                                                                                        //title: Text('Delete This Contact?'),
                                                                                        shape: RoundedRectangleBorder(
                                                                                            borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                        title: Center(
                                                                                          child: Text(
                                                                                            "Released ${snapshot.data!.data.data.shortListCandidates[i].name.toString()}",
                                                                                            style: TextStyle(
                                                                                                fontWeight: FontWeight.bold,
                                                                                                fontFamily: 'Candara',
                                                                                                color: Colors.blue[800]),
                                                                                          ),
                                                                                        ),
                                                                                        content: Container(
                                                                                          width: double.infinity,
                                                                                          //height: Wrap(),
                                                                                          child: Column(
                                                                                            mainAxisSize: MainAxisSize.min,
                                                                                            children: [
                                                                                              Column(
                                                                                                children: [

                                                                                                  Text(
                                                                                                    "You Have successfully ",
                                                                                                    style: TextStyle(fontSize: 20),
                                                                                                  ),
                                                                                                  Text(
                                                                                                    "released ${snapshot.data!.data.data.shortListCandidates[i].name.toString()}",
                                                                                                    style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),
                                                                                                  )
                                                                                                  //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                ],
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                        actions: <Widget>[
                                                                                          Center(
                                                                                            child: Row(
                                                                                              mainAxisAlignment: MainAxisAlignment.center,
                                                                                              children: [
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Text(
                                                                                                    'Okay',
                                                                                                    style: TextStyle(
                                                                                                      fontFamily: 'Candara',
                                                                                                    ),
                                                                                                  ),
                                                                                                  onPressed: () {
                                                                                                    Navigator.pop(context);
                                                                                                    setState(() {

                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ],
                                                                                      );
                                                                                    },
                                                                                  );
                                                                                }
                                                                              },
                                                                              child: Card(
                                                                                color: Colors.redAccent,
                                                                                child: Padding(
                                                                                  padding: const EdgeInsets.all(5.0),
                                                                                  child: Row(
                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                    children: [
                                                                                      Icon(Icons.remove_circle_outline,color: Colors.white,size: 18,),
                                                                                      //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                      SizedBox(width: 5,),
                                                                                      Text("Release",style: TextStyle(color: Colors.white,fontSize: 15),),
                                                                                    ],
                                                                                  ),
                                                                                ),
                                                                              )
                                                                          )


                                                                        ],
                                                                      ),

                                                                    ],
                                                                  ),
                                                                ),
                                                              ],
                                                            ),
                                                          ),
                                                        ),
                                                      ),
                                                      SizedBox(height: 10,)
                                                    ],
                                                  ),


                                            //not&ctc
                                            if(_dropDownValueNot1!=""&&_dropDownValuectc!=""&&_dropDownValueexp=="")
                                              for(var i=0;i<snapshot.data!.data.data.shortListCandidates.length;i++)
                                                if("${snapshot.data!.data.data.shortListCandidates[i].notice} days" == _dropDownValueNot1 &&
                                                    "${snapshot.data!.data.data.shortListCandidates[i].ctc} LPA" == _dropDownValuectc )
                                                  Column(
                                                    children: [
                                                      GestureDetector(
                                                        onTap:(){
                                                          Navigator.push(
                                                              context, MaterialPageRoute(
                                                              builder: (context) => Candidate(snapshot.data!.data.data.shortListCandidates[i].userId.toString())));


                                                        },
                                                        child: Card(
                                                          elevation: 5,
                                                          shape: RoundedRectangleBorder(
                                                              borderRadius: BorderRadius.all(Radius.circular(10))),
                                                          child: Container(
                                                            padding: EdgeInsets.all(8),
                                                            child: Column(
                                                              children: [
                                                                Row(
                                                                  mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                  crossAxisAlignment: CrossAxisAlignment.center,
                                                                  children: [
                                                                    Row(
                                                                      children: [
                                                                        Column(
                                                                          children: [
                                                                            Center(
                                                                              child: CircleAvatar(
                                                                                backgroundColor: Colors.transparent,
                                                                                backgroundImage: snapshot.data!.data.data.shortListCandidates[i].profileImage==null?
                                                                                NetworkImage("http://kobl.ai/img/profile.png")
                                                                                    :             NetworkImage("${snapshot.data!.data.data.shortListCandidates[i].profileImage}")
                                                                                ,
                                                                                radius: 28,
                                                                              ),
                                                                            ),
                                                                            SizedBox(height: 5,),
                                                                            RatingBarIndicator(
                                                                              rating: 2.75,
                                                                              itemBuilder: (context, index) => Icon(
                                                                                Icons.star,
                                                                                color: Colors.amber,
                                                                              ),
                                                                              itemCount: 5,
                                                                              itemSize: 15,
                                                                              direction: Axis.horizontal,
                                                                            ),
                                                                          ],
                                                                        ),
                                                                        SizedBox(width: 20,),
                                                                        Column(
                                                                          crossAxisAlignment: CrossAxisAlignment.start,
                                                                          children: [
                                                                            Text(
                                                                              "${snapshot.data!.data.data.shortListCandidates[i].name.toString()}",
                                                                              style: TextStyle(
                                                                                fontWeight: FontWeight.bold,
                                                                                fontFamily: 'Candara',
                                                                                fontSize: 18,
                                                                              ),
                                                                            ),
                                                                            SizedBox(height:5),
                                                                            Text(
                                                                                '${snapshot.data!.data.data.shortListCandidates[i].designation.toString()}',
                                                                                style: TextStyle(

                                                                                  fontFamily: 'Candara',
                                                                                  color: Colors.blue,
                                                                                  fontSize: 15,
                                                                                ),
                                                                                maxLines: 5,
                                                                                overflow: TextOverflow.ellipsis),

                                                                            SizedBox(
                                                                              height: 10,
                                                                            ),
                                                                            if(snapshot.data!.data.data.shortListCandidates[i].notice.toString()!="0")
                                                                              Text("Notice : ${snapshot.data!.data.data.shortListCandidates[i].notice.toString()} days",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                            if(snapshot.data!.data.data.shortListCandidates[i].notice.toString()=="0")
                                                                              Text("Notice : Immediate",style: TextStyle(fontFamily: "Candara",fontSize: 14 ),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                            SizedBox(height: 5,),
                                                                            Row(
                                                                              children: [
                                                                                Text("CTC : ${snapshot.data!.data.data.shortListCandidates[i].ctc.toString()} LPA",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                if(snapshot.data!.data.data.shortListCandidates[i].exp.toString()!="1")
                                                                                  Text("     Exp : ${snapshot.data!.data.data.shortListCandidates[i].exp.toString()} yrs",style: TextStyle(fontFamily: "Candara",fontSize: 14,),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                if(snapshot.data!.data.data.shortListCandidates[i].exp.toString()=="1")
                                                                                  Text("     Exp : ${snapshot.data!.data.data.shortListCandidates[i].exp.toString()} yr",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),

                                                                              ],
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                          ],
                                                                        ),
                                                                      ],
                                                                    ),
                                                                    Icon(Icons.arrow_forward_ios_outlined,color: Colors.orangeAccent,size: 20,),
                                                                  ],
                                                                ),
                                                                Container(
                                                                  //height: 100,
                                                                  padding: EdgeInsets.only(left: 10, right: 10, top: 10,bottom: 10),
                                                                  child: Column(
                                                                    crossAxisAlignment: CrossAxisAlignment.start,
                                                                    children: <Widget>[
                                                                      GridView.count(
                                                                        shrinkWrap: true,
                                                                        childAspectRatio: 3.5,
                                                                        crossAxisSpacing:3,
                                                                        mainAxisSpacing: 3,
                                                                        crossAxisCount: 2,
                                                                        children: <Widget>[

                                                                          GestureDetector(
                                                                              onTap: () {
                                                                                showDialog(
                                                                                  context: context,
                                                                                  barrierDismissible: false, // user must tap button for close dialog!
                                                                                  builder: (BuildContext context) {

                                                                                    String? _character="Video";
                                                                                    isSelected1[e]=true;
                                                                                    List<String> drop=[];
                                                                                    for(var i=0;i<snapshot.data!.data.data.stages.length-1;i++)
                                                                                    {
                                                                                      drop.add(snapshot.data!.data.data.stages[i].key.toString());
                                                                                    }


                                                                                    return AlertDialog(
                                                                                      //title: Text('Delete This Contact?'),
                                                                                      shape: RoundedRectangleBorder(
                                                                                          borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                      insetPadding: EdgeInsets.zero,
                                                                                      content: Container(
                                                                                        width: double.infinity,
                                                                                        //height: Wrap(),
                                                                                        child: SingleChildScrollView(
                                                                                          child: Column(
                                                                                            mainAxisSize: MainAxisSize.min,
                                                                                            children: [
                                                                                              Column(
                                                                                                children: [
                                                                                                  Row(
                                                                                                    children: [
                                                                                                      GestureDetector(
                                                                                                        onTap: (){
                                                                                                          Navigator.pop(context);
                                                                                                        },
                                                                                                        child: Icon(
                                                                                                          Icons.arrow_back_ios,
                                                                                                          color: Colors.black,
                                                                                                          size: 25,
                                                                                                        ),
                                                                                                      ),
                                                                                                      Text(
                                                                                                        " Schedule an Interview    ",
                                                                                                        style: TextStyle(
                                                                                                            fontWeight: FontWeight.bold, fontSize: 25),
                                                                                                      )
                                                                                                    ],
                                                                                                  ),
                                                                                                  SizedBox(
                                                                                                    height: 20,
                                                                                                  ),
                                                                                                  Form(
                                                                                                      key: _formKey,
                                                                                                      child: Column(
                                                                                                        mainAxisSize: MainAxisSize.max,
                                                                                                        crossAxisAlignment: CrossAxisAlignment.stretch,
                                                                                                        children: <Widget>[
                                                                                                          Text(
                                                                                                            "  Select Round",
                                                                                                            style: TextStyle(
                                                                                                              color: Colors.grey,
                                                                                                              fontFamily: 'Candara',
                                                                                                            ),
                                                                                                          ),

                                                                                                          FormField<String>(
                                                                                                            builder: (FormFieldState<String> state) {
                                                                                                              String _currentSelectedValue='';
                                                                                                              return Container(
                                                                                                                height: 60,
                                                                                                                padding: EdgeInsets.only(left: 0,right: 0),
                                                                                                                child: InputDecorator(
                                                                                                                  decoration: InputDecoration(
                                                                                                                    //labelText: 'CLASS',
                                                                                                                      prefixIcon: Icon(Icons.leaderboard,color: Colors.grey),
                                                                                                                      labelStyle: TextStyle(fontFamily: "Candara"),
                                                                                                                      errorStyle: TextStyle(fontFamily:"Candara",color: Colors.redAccent, fontSize: 16.0),
                                                                                                                      //hintText: 'Please select expense',
                                                                                                                      enabledBorder:OutlineInputBorder(
                                                                                                                          borderSide: const BorderSide(color: Colors.grey, width: 2.0),
                                                                                                                          borderRadius: BorderRadius.circular(15)),
                                                                                                                      focusedBorder: OutlineInputBorder(
                                                                                                                          borderSide: const BorderSide(color: Colors.orangeAccent,width: 2.0),
                                                                                                                          borderRadius: BorderRadius.circular(15)
                                                                                                                      )),
                                                                                                                  //border: OutlineInputBorder(borderRadius: BorderRadius.circular(5.0))),
                                                                                                                  isEmpty: _currentSelectedValue == '',
                                                                                                                  child: DropdownButtonHideUnderline(
                                                                                                                      child: DropdownButton(
                                                                                                                        menuMaxHeight: 200,
                                                                                                                        hint: _dropDownValue == null
                                                                                                                            ? Text('Dropdown')
                                                                                                                            : Text(
                                                                                                                          _dropDownValue,
                                                                                                                          style: TextStyle(fontFamily: "Candara",color: Colors.black,fontSize: 16),
                                                                                                                        ),
                                                                                                                        isExpanded: false,
                                                                                                                        iconSize: 30.0,
                                                                                                                        style: TextStyle(color: Colors.black),
                                                                                                                        items: drop.map(
                                                                                                                              (val) {
                                                                                                                            return DropdownMenuItem<String>(
                                                                                                                              value: val,
                                                                                                                              child: Text(val),
                                                                                                                            );
                                                                                                                          },
                                                                                                                        ).toList(),
                                                                                                                        onChanged: (String? val) {
                                                                                                                          setState(() {
                                                                                                                            _dropDownValue = val!;
                                                                                                                          });

                                                                                                                          (context as Element).markNeedsBuild();

                                                                                                                        },
                                                                                                                      )
                                                                                                                  ),
                                                                                                                ),
                                                                                                              );
                                                                                                            },
                                                                                                          ),
                                                                                                          SizedBox(height: 20),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              readOnly: true,
                                                                                                              validator: (input) {
                                                                                                                if (dateController.text.isEmpty) return 'Enter date from list';
                                                                                                              },
                                                                                                              controller: dateController,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                prefixIcon: GestureDetector(
                                                                                                                    onTap: (){
                                                                                                                      _selectDate(context);
                                                                                                                    },
                                                                                                                    child: Icon(Icons.date_range,color: Colors.grey,)),
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Enter Date',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              readOnly: true,
                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Please select time';
                                                                                                              },
                                                                                                              controller: timeController,
                                                                                                              decoration: InputDecoration(
                                                                                                                prefixIcon: GestureDetector(
                                                                                                                    onTap: (){
                                                                                                                      _selectTime(context);
                                                                                                                    },
                                                                                                                    child: Icon(Icons.access_time,color: Colors.grey,)),
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Select time',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20,),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Enter Interviewer Name';
                                                                                                              },
                                                                                                              controller: intnameController,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Enter interviewer name',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Enter interviewer E-mail';
                                                                                                              },
                                                                                                              controller: intmailController,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Interviewer E-mail ',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                prefixIcon: Icon(Icons.mail_outline, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(
                                                                                                            height: 20,
                                                                                                          ),
                                                                                                          Center(
                                                                                                            child: SingleChildScrollView(
                                                                                                              scrollDirection: Axis.horizontal,
                                                                                                              child: Center(
                                                                                                                child: ToggleButtons(
                                                                                                                  children: <Widget>[
                                                                                                                    Text("  Video  ",
                                                                                                                        style: TextStyle(
                                                                                                                          fontSize: 20,
                                                                                                                          fontFamily: "Candara",
                                                                                                                        )),
                                                                                                                    Text("  Phone  ",
                                                                                                                        style: TextStyle(
                                                                                                                          fontSize: 20,
                                                                                                                          fontFamily: "Candara",
                                                                                                                        )),

                                                                                                                  ],
                                                                                                                  selectedBorderColor: Colors.blue[800],
                                                                                                                  selectedColor: Colors.white,
                                                                                                                  borderColor: Colors.blue,
                                                                                                                  borderRadius: BorderRadius.circular(10),
                                                                                                                  disabledColor: Colors.transparent,
                                                                                                                  disabledBorderColor: Colors.transparent,
                                                                                                                  focusColor: Colors.blue[800],
                                                                                                                  fillColor: Colors.blue[800],
                                                                                                                  onPressed: (int index) {
                                                                                                                    setState(() {
                                                                                                                      e=index;
                                                                                                                      for (int buttonIndex = 0;
                                                                                                                      buttonIndex < isSelected1.length;
                                                                                                                      buttonIndex++) {
                                                                                                                        if (buttonIndex == index) {
                                                                                                                          isSelected1[buttonIndex] = true;
                                                                                                                        } else {
                                                                                                                          isSelected1[buttonIndex] = false;
                                                                                                                        }

                                                                                                                      }


                                                                                                                    });
                                                                                                                    (context as Element).markNeedsBuild();
                                                                                                                  },
                                                                                                                  isSelected: isSelected1,
                                                                                                                ),
                                                                                                              ),
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20,),
                                                                                                          if(e==0)
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                //readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty && e==0) return 'Please enter meetlink';
                                                                                                                },
                                                                                                                controller: meetlink,
                                                                                                                decoration: InputDecoration(
                                                                                                                  prefixIcon: Icon(Icons.video_call,color: Colors.grey,),
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter meet link',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                          if(e==1)
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                //readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty && e==1) return 'Please enter phone';
                                                                                                                },
                                                                                                                controller: phonelink,
                                                                                                                keyboardType: TextInputType.phone,
                                                                                                                decoration: InputDecoration(
                                                                                                                  prefixIcon: Icon(Icons.phone,color: Colors.grey,),
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter phone no.',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                          SizedBox(
                                                                                                            height: 15,
                                                                                                          ),
                                                                                                          Container(
                                                                                                            height: 160,
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              expands: true,
                                                                                                              maxLines: null,

                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Add comments';
                                                                                                              },
                                                                                                              controller: comments,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),

                                                                                                                labelText: 'Add comments',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                        ],
                                                                                                      )),


                                                                                                  //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                ],
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                      ),
                                                                                      actions: <Widget>[
                                                                                        Center(
                                                                                          child: Row(
                                                                                            mainAxisAlignment: MainAxisAlignment.center,
                                                                                            children: [
                                                                                              ElevatedButton(
                                                                                                style: ButtonStyle(
                                                                                                    backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                        Color.fromARGB(255, 59, 48, 214))),
                                                                                                child: Row(
                                                                                                  children: [
                                                                                                    Icon(Icons.access_time,color: Colors.white,size: 20,),
                                                                                                    Text(
                                                                                                      '  Schedule',
                                                                                                      style: TextStyle(
                                                                                                        fontFamily: 'Candara',
                                                                                                      ),
                                                                                                    ),
                                                                                                  ],
                                                                                                ),
                                                                                                onPressed: () async {
                                                                                                  if(_formKey.currentState!.validate()&& _dropDownValue!="")
                                                                                                  {
                                                                                                    String date= dateController.text;
                                                                                                    String time= timeController.text;
                                                                                                    String link;
                                                                                                    String commet= comments.text;
                                                                                                    String type;
                                                                                                    if(e==0) {
                                                                                                      type = "Video";
                                                                                                      link=meetlink.text;
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                      type="Audio";
                                                                                                      link=phonelink.text;
                                                                                                    }


                                                                                                    Interview log = await INTERVIEWapi(snapshot.data!.data.data.shortListCandidates[i].userId.toString(),_dropDownValue,intnameController.text,intmailController.text,type,date,time,link,commet);

                                                                                                    if(interview_code==200) {
                                                                                                      Navigator.pop(context);
                                                                                                      final Future<ConfirmAction7?> action =
                                                                                                      await _asyncConfirmDialog7(context, "${snapshot.data!.data.data.shortListCandidates[i].name.toString()}");
                                                                                                    }

                                                                                                    if(interview_code==401){
                                                                                                      Navigator.pop(context);
                                                                                                      showDialog<String>(
                                                                                                          context: context,
                                                                                                          builder: (BuildContext context) => AlertDialog(
                                                                                                            title: const Text("Try Again"),
                                                                                                            content: const Text("Couldn't schedule interview"),
                                                                                                            actions: <Widget>[
                                                                                                              TextButton(
                                                                                                                  onPressed: () => Navigator.pop(context, 'OK'),
                                                                                                                  child: const Text('OK',style: TextStyle(color: Colors.teal))
                                                                                                              ),
                                                                                                            ],
                                                                                                          ));
                                                                                                    }
                                                                                                  }


                                                                                                },
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                      ],
                                                                                    );
                                                                                  },
                                                                                );


                                                                              },
                                                                              child: Card(
                                                                                color: Colors.blue.shade200,
                                                                                child: Padding(
                                                                                  padding: const EdgeInsets.all(5.0),
                                                                                  child: Row(
                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                    children: [
                                                                                      Icon(Icons.upgrade,color:Colors.white,size: 18,),
                                                                                      //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                      SizedBox(width: 5,),
                                                                                      Text("Move next round",style: TextStyle(color: Colors.white,fontSize: 14),),
                                                                                    ],
                                                                                  ),
                                                                                ),
                                                                              )
                                                                          ),
                                                                          GestureDetector(
                                                                              onTap: () async {
                                                                                Shortlist B= await shortlistapi(snapshot.data!.data.data.shortListCandidates[i].userId.toString());
                                                                                if(shortlist_code==200){
                                                                                  showDialog(
                                                                                    context: context,
                                                                                    barrierDismissible: false, // user must tap button for close dialog!
                                                                                    builder: (BuildContext context) {
                                                                                      return AlertDialog(
                                                                                        //title: Text('Delete This Contact?'),
                                                                                        shape: RoundedRectangleBorder(
                                                                                            borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                        title: Center(
                                                                                          child: Text(
                                                                                            "Released ${snapshot.data!.data.data.shortListCandidates[i].name.toString()}",
                                                                                            style: TextStyle(
                                                                                                fontWeight: FontWeight.bold,
                                                                                                fontFamily: 'Candara',
                                                                                                color: Colors.blue[800]),
                                                                                          ),
                                                                                        ),
                                                                                        content: Container(
                                                                                          width: double.infinity,
                                                                                          //height: Wrap(),
                                                                                          child: Column(
                                                                                            mainAxisSize: MainAxisSize.min,
                                                                                            children: [
                                                                                              Column(
                                                                                                children: [

                                                                                                  Text(
                                                                                                    "You Have successfully ",
                                                                                                    style: TextStyle(fontSize: 20),
                                                                                                  ),
                                                                                                  Text(
                                                                                                    "released ${snapshot.data!.data.data.shortListCandidates[i].name.toString()}",
                                                                                                    style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),
                                                                                                  )
                                                                                                  //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                ],
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                        actions: <Widget>[
                                                                                          Center(
                                                                                            child: Row(
                                                                                              mainAxisAlignment: MainAxisAlignment.center,
                                                                                              children: [
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Text(
                                                                                                    'Okay',
                                                                                                    style: TextStyle(
                                                                                                      fontFamily: 'Candara',
                                                                                                    ),
                                                                                                  ),
                                                                                                  onPressed: () {
                                                                                                    Navigator.pop(context);
                                                                                                    setState(() {

                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ],
                                                                                      );
                                                                                    },
                                                                                  );
                                                                                }
                                                                              },
                                                                              child: Card(
                                                                                color: Colors.redAccent,
                                                                                child: Padding(
                                                                                  padding: const EdgeInsets.all(5.0),
                                                                                  child: Row(
                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                    children: [
                                                                                      Icon(Icons.remove_circle_outline,color: Colors.white,size: 18,),
                                                                                      //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                      SizedBox(width: 5,),
                                                                                      Text("Release",style: TextStyle(color: Colors.white,fontSize: 15),),
                                                                                    ],
                                                                                  ),
                                                                                ),
                                                                              )
                                                                          )


                                                                        ],
                                                                      ),

                                                                    ],
                                                                  ),
                                                                ),
                                                              ],
                                                            ),
                                                          ),
                                                        ),
                                                      ),
                                                      SizedBox(height: 10,)
                                                    ],
                                                  ),


                                            //CTC&EXP
                                            if(_dropDownValueNot1==""&&_dropDownValuectc!=""&&_dropDownValueexp!="")
                                              for(var i=0;i<snapshot.data!.data.data.shortListCandidates.length;i++)
                                                if("${snapshot.data!.data.data.shortListCandidates[i].exp} yrs" == _dropDownValueexp &&
                                                    "${snapshot.data!.data.data.shortListCandidates[i].ctc} LPA" == _dropDownValuectc )
                                                  Column(
                                                    children: [
                                                      GestureDetector(
                                                        onTap:(){
                                                          Navigator.push(
                                                              context, MaterialPageRoute(
                                                              builder: (context) => Candidate(snapshot.data!.data.data.shortListCandidates[i].userId.toString())));


                                                        },
                                                        child: Card(
                                                          elevation: 5,
                                                          shape: RoundedRectangleBorder(
                                                              borderRadius: BorderRadius.all(Radius.circular(10))),
                                                          child: Container(
                                                            padding: EdgeInsets.all(8),
                                                            child: Column(
                                                              children: [
                                                                Row(
                                                                  mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                  crossAxisAlignment: CrossAxisAlignment.center,
                                                                  children: [
                                                                    Row(
                                                                      children: [
                                                                        Column(
                                                                          children: [
                                                                            Center(
                                                                              child: CircleAvatar(
                                                                                backgroundColor: Colors.transparent,
                                                                                backgroundImage: snapshot.data!.data.data.shortListCandidates[i].profileImage==null?
                                                                                NetworkImage("http://kobl.ai/img/profile.png")
                                                                                    :             NetworkImage("${snapshot.data!.data.data.shortListCandidates[i].profileImage}")
                                                                                ,
                                                                                radius: 28,
                                                                              ),
                                                                            ),
                                                                            SizedBox(height: 5,),
                                                                            RatingBarIndicator(
                                                                              rating: 2.75,
                                                                              itemBuilder: (context, index) => Icon(
                                                                                Icons.star,
                                                                                color: Colors.amber,
                                                                              ),
                                                                              itemCount: 5,
                                                                              itemSize: 15,
                                                                              direction: Axis.horizontal,
                                                                            ),
                                                                          ],
                                                                        ),
                                                                        SizedBox(width: 20,),
                                                                        Column(
                                                                          crossAxisAlignment: CrossAxisAlignment.start,
                                                                          children: [
                                                                            Text(
                                                                              "${snapshot.data!.data.data.shortListCandidates[i].name.toString()}",
                                                                              style: TextStyle(
                                                                                fontWeight: FontWeight.bold,
                                                                                fontFamily: 'Candara',
                                                                                fontSize: 18,
                                                                              ),
                                                                            ),
                                                                            SizedBox(height:5),
                                                                            Text(
                                                                                '${snapshot.data!.data.data.shortListCandidates[i].designation.toString()}',
                                                                                style: TextStyle(

                                                                                  fontFamily: 'Candara',
                                                                                  color: Colors.blue,
                                                                                  fontSize: 15,
                                                                                ),
                                                                                maxLines: 5,
                                                                                overflow: TextOverflow.ellipsis),

                                                                            SizedBox(
                                                                              height: 10,
                                                                            ),
                                                                            if(snapshot.data!.data.data.shortListCandidates[i].notice.toString()!="0")
                                                                              Text("Notice : ${snapshot.data!.data.data.shortListCandidates[i].notice.toString()} days",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                            if(snapshot.data!.data.data.shortListCandidates[i].notice.toString()=="0")
                                                                              Text("Notice : Immediate",style: TextStyle(fontFamily: "Candara",fontSize: 14 ),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                            SizedBox(height: 5,),
                                                                            Row(
                                                                              children: [
                                                                                Text("CTC : ${snapshot.data!.data.data.shortListCandidates[i].ctc.toString()} LPA",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                if(snapshot.data!.data.data.shortListCandidates[i].exp.toString()!="1")
                                                                                  Text("     Exp : ${snapshot.data!.data.data.shortListCandidates[i].exp.toString()} yrs",style: TextStyle(fontFamily: "Candara",fontSize: 14,),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                if(snapshot.data!.data.data.shortListCandidates[i].exp.toString()=="1")
                                                                                  Text("     Exp : ${snapshot.data!.data.data.shortListCandidates[i].exp.toString()} yr",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),

                                                                              ],
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                          ],
                                                                        ),
                                                                      ],
                                                                    ),
                                                                    Icon(Icons.arrow_forward_ios_outlined,color: Colors.orangeAccent,size: 20,),
                                                                  ],
                                                                ),
                                                                Container(
                                                                  //height: 100,
                                                                  padding: EdgeInsets.only(left: 10, right: 10, top: 10,bottom: 10),
                                                                  child: Column(
                                                                    crossAxisAlignment: CrossAxisAlignment.start,
                                                                    children: <Widget>[
                                                                      GridView.count(
                                                                        shrinkWrap: true,
                                                                        childAspectRatio: 3.5,
                                                                        crossAxisSpacing:3,
                                                                        mainAxisSpacing: 3,
                                                                        crossAxisCount: 2,
                                                                        children: <Widget>[

                                                                          GestureDetector(
                                                                              onTap: () {
                                                                                showDialog(
                                                                                  context: context,
                                                                                  barrierDismissible: false, // user must tap button for close dialog!
                                                                                  builder: (BuildContext context) {

                                                                                    String? _character="Video";
                                                                                    isSelected1[e]=true;
                                                                                    List<String> drop=[];
                                                                                    for(var i=0;i<snapshot.data!.data.data.stages.length-1;i++)
                                                                                    {
                                                                                      drop.add(snapshot.data!.data.data.stages[i].key.toString());
                                                                                    }


                                                                                    return AlertDialog(
                                                                                      //title: Text('Delete This Contact?'),
                                                                                      shape: RoundedRectangleBorder(
                                                                                          borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                      insetPadding: EdgeInsets.zero,
                                                                                      content: Container(
                                                                                        width: double.infinity,
                                                                                        //height: Wrap(),
                                                                                        child: SingleChildScrollView(
                                                                                          child: Column(
                                                                                            mainAxisSize: MainAxisSize.min,
                                                                                            children: [
                                                                                              Column(
                                                                                                children: [
                                                                                                  Row(
                                                                                                    children: [
                                                                                                      GestureDetector(
                                                                                                        onTap: (){
                                                                                                          Navigator.pop(context);
                                                                                                        },
                                                                                                        child: Icon(
                                                                                                          Icons.arrow_back_ios,
                                                                                                          color: Colors.black,
                                                                                                          size: 25,
                                                                                                        ),
                                                                                                      ),
                                                                                                      Text(
                                                                                                        " Schedule an Interview    ",
                                                                                                        style: TextStyle(
                                                                                                            fontWeight: FontWeight.bold, fontSize: 25),
                                                                                                      )
                                                                                                    ],
                                                                                                  ),
                                                                                                  SizedBox(
                                                                                                    height: 20,
                                                                                                  ),
                                                                                                  Form(
                                                                                                      key: _formKey,
                                                                                                      child: Column(
                                                                                                        mainAxisSize: MainAxisSize.max,
                                                                                                        crossAxisAlignment: CrossAxisAlignment.stretch,
                                                                                                        children: <Widget>[
                                                                                                          Text(
                                                                                                            "  Select Round",
                                                                                                            style: TextStyle(
                                                                                                              color: Colors.grey,
                                                                                                              fontFamily: 'Candara',
                                                                                                            ),
                                                                                                          ),

                                                                                                          FormField<String>(
                                                                                                            builder: (FormFieldState<String> state) {
                                                                                                              String _currentSelectedValue='';
                                                                                                              return Container(
                                                                                                                height: 60,
                                                                                                                padding: EdgeInsets.only(left: 0,right: 0),
                                                                                                                child: InputDecorator(
                                                                                                                  decoration: InputDecoration(
                                                                                                                    //labelText: 'CLASS',
                                                                                                                      prefixIcon: Icon(Icons.leaderboard,color: Colors.grey),
                                                                                                                      labelStyle: TextStyle(fontFamily: "Candara"),
                                                                                                                      errorStyle: TextStyle(fontFamily:"Candara",color: Colors.redAccent, fontSize: 16.0),
                                                                                                                      //hintText: 'Please select expense',
                                                                                                                      enabledBorder:OutlineInputBorder(
                                                                                                                          borderSide: const BorderSide(color: Colors.grey, width: 2.0),
                                                                                                                          borderRadius: BorderRadius.circular(15)),
                                                                                                                      focusedBorder: OutlineInputBorder(
                                                                                                                          borderSide: const BorderSide(color: Colors.orangeAccent,width: 2.0),
                                                                                                                          borderRadius: BorderRadius.circular(15)
                                                                                                                      )),
                                                                                                                  //border: OutlineInputBorder(borderRadius: BorderRadius.circular(5.0))),
                                                                                                                  isEmpty: _currentSelectedValue == '',
                                                                                                                  child: DropdownButtonHideUnderline(
                                                                                                                      child: DropdownButton(
                                                                                                                        menuMaxHeight: 200,
                                                                                                                        hint: _dropDownValue == null
                                                                                                                            ? Text('Dropdown')
                                                                                                                            : Text(
                                                                                                                          _dropDownValue,
                                                                                                                          style: TextStyle(fontFamily: "Candara",color: Colors.black,fontSize: 16),
                                                                                                                        ),
                                                                                                                        isExpanded: false,
                                                                                                                        iconSize: 30.0,
                                                                                                                        style: TextStyle(color: Colors.black),
                                                                                                                        items: drop.map(
                                                                                                                              (val) {
                                                                                                                            return DropdownMenuItem<String>(
                                                                                                                              value: val,
                                                                                                                              child: Text(val),
                                                                                                                            );
                                                                                                                          },
                                                                                                                        ).toList(),
                                                                                                                        onChanged: (String? val) {
                                                                                                                          setState(() {
                                                                                                                            _dropDownValue = val!;
                                                                                                                          });

                                                                                                                          (context as Element).markNeedsBuild();

                                                                                                                        },
                                                                                                                      )
                                                                                                                  ),
                                                                                                                ),
                                                                                                              );
                                                                                                            },
                                                                                                          ),
                                                                                                          SizedBox(height: 20),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              readOnly: true,
                                                                                                              validator: (input) {
                                                                                                                if (dateController.text.isEmpty) return 'Enter date from list';
                                                                                                              },
                                                                                                              controller: dateController,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                prefixIcon: GestureDetector(
                                                                                                                    onTap: (){
                                                                                                                      _selectDate(context);
                                                                                                                    },
                                                                                                                    child: Icon(Icons.date_range,color: Colors.grey,)),
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Enter Date',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              readOnly: true,
                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Please select time';
                                                                                                              },
                                                                                                              controller: timeController,
                                                                                                              decoration: InputDecoration(
                                                                                                                prefixIcon: GestureDetector(
                                                                                                                    onTap: (){
                                                                                                                      _selectTime(context);
                                                                                                                    },
                                                                                                                    child: Icon(Icons.access_time,color: Colors.grey,)),
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Select time',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20,),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Enter Interviewer Name';
                                                                                                              },
                                                                                                              controller: intnameController,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Enter interviewer name',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Enter interviewer E-mail';
                                                                                                              },
                                                                                                              controller: intmailController,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Interviewer E-mail ',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                prefixIcon: Icon(Icons.mail_outline, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(
                                                                                                            height: 20,
                                                                                                          ),
                                                                                                          Center(
                                                                                                            child: SingleChildScrollView(
                                                                                                              scrollDirection: Axis.horizontal,
                                                                                                              child: Center(
                                                                                                                child: ToggleButtons(
                                                                                                                  children: <Widget>[
                                                                                                                    Text("  Video  ",
                                                                                                                        style: TextStyle(
                                                                                                                          fontSize: 20,
                                                                                                                          fontFamily: "Candara",
                                                                                                                        )),
                                                                                                                    Text("  Phone  ",
                                                                                                                        style: TextStyle(
                                                                                                                          fontSize: 20,
                                                                                                                          fontFamily: "Candara",
                                                                                                                        )),

                                                                                                                  ],
                                                                                                                  selectedBorderColor: Colors.blue[800],
                                                                                                                  selectedColor: Colors.white,
                                                                                                                  borderColor: Colors.blue,
                                                                                                                  borderRadius: BorderRadius.circular(10),
                                                                                                                  disabledColor: Colors.transparent,
                                                                                                                  disabledBorderColor: Colors.transparent,
                                                                                                                  focusColor: Colors.blue[800],
                                                                                                                  fillColor: Colors.blue[800],
                                                                                                                  onPressed: (int index) {
                                                                                                                    setState(() {
                                                                                                                      e=index;
                                                                                                                      for (int buttonIndex = 0;
                                                                                                                      buttonIndex < isSelected1.length;
                                                                                                                      buttonIndex++) {
                                                                                                                        if (buttonIndex == index) {
                                                                                                                          isSelected1[buttonIndex] = true;
                                                                                                                        } else {
                                                                                                                          isSelected1[buttonIndex] = false;
                                                                                                                        }

                                                                                                                      }


                                                                                                                    });
                                                                                                                    (context as Element).markNeedsBuild();
                                                                                                                  },
                                                                                                                  isSelected: isSelected1,
                                                                                                                ),
                                                                                                              ),
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20,),
                                                                                                          if(e==0)
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                //readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty && e==0) return 'Please enter meetlink';
                                                                                                                },
                                                                                                                controller: meetlink,
                                                                                                                decoration: InputDecoration(
                                                                                                                  prefixIcon: Icon(Icons.video_call,color: Colors.grey,),
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter meet link',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                          if(e==1)
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                //readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty && e==1) return 'Please enter phone';
                                                                                                                },
                                                                                                                controller: phonelink,
                                                                                                                keyboardType: TextInputType.phone,
                                                                                                                decoration: InputDecoration(
                                                                                                                  prefixIcon: Icon(Icons.phone,color: Colors.grey,),
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter phone no.',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                          SizedBox(
                                                                                                            height: 15,
                                                                                                          ),
                                                                                                          Container(
                                                                                                            height: 160,
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              expands: true,
                                                                                                              maxLines: null,

                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Add comments';
                                                                                                              },
                                                                                                              controller: comments,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),

                                                                                                                labelText: 'Add comments',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                        ],
                                                                                                      )),


                                                                                                  //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                ],
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                      ),
                                                                                      actions: <Widget>[
                                                                                        Center(
                                                                                          child: Row(
                                                                                            mainAxisAlignment: MainAxisAlignment.center,
                                                                                            children: [
                                                                                              ElevatedButton(
                                                                                                style: ButtonStyle(
                                                                                                    backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                        Color.fromARGB(255, 59, 48, 214))),
                                                                                                child: Row(
                                                                                                  children: [
                                                                                                    Icon(Icons.access_time,color: Colors.white,size: 20,),
                                                                                                    Text(
                                                                                                      '  Schedule',
                                                                                                      style: TextStyle(
                                                                                                        fontFamily: 'Candara',
                                                                                                      ),
                                                                                                    ),
                                                                                                  ],
                                                                                                ),
                                                                                                onPressed: () async {
                                                                                                  if(_formKey.currentState!.validate()&& _dropDownValue!="")
                                                                                                  {
                                                                                                    String date= dateController.text;
                                                                                                    String time= timeController.text;
                                                                                                    String link;
                                                                                                    String commet= comments.text;
                                                                                                    String type;
                                                                                                    if(e==0) {
                                                                                                      type = "Video";
                                                                                                      link=meetlink.text;
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                      type="Audio";
                                                                                                      link=phonelink.text;
                                                                                                    }


                                                                                                    Interview log = await INTERVIEWapi(snapshot.data!.data.data.shortListCandidates[i].userId.toString(),_dropDownValue,intnameController.text,intmailController.text,type,date,time,link,commet);

                                                                                                    if(interview_code==200) {
                                                                                                      Navigator.pop(context);
                                                                                                      final Future<ConfirmAction7?> action =
                                                                                                      await _asyncConfirmDialog7(context, "${snapshot.data!.data.data.shortListCandidates[i].name.toString()}");
                                                                                                    }

                                                                                                    if(interview_code==401){
                                                                                                      Navigator.pop(context);
                                                                                                      showDialog<String>(
                                                                                                          context: context,
                                                                                                          builder: (BuildContext context) => AlertDialog(
                                                                                                            title: const Text("Try Again"),
                                                                                                            content: const Text("Couldn't schedule interview"),
                                                                                                            actions: <Widget>[
                                                                                                              TextButton(
                                                                                                                  onPressed: () => Navigator.pop(context, 'OK'),
                                                                                                                  child: const Text('OK',style: TextStyle(color: Colors.teal))
                                                                                                              ),
                                                                                                            ],
                                                                                                          ));
                                                                                                    }
                                                                                                  }


                                                                                                },
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                      ],
                                                                                    );
                                                                                  },
                                                                                );


                                                                              },
                                                                              child: Card(
                                                                                color: Colors.blue.shade200,
                                                                                child: Padding(
                                                                                  padding: const EdgeInsets.all(5.0),
                                                                                  child: Row(
                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                    children: [
                                                                                      Icon(Icons.upgrade,color:Colors.white,size: 18,),
                                                                                      //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                      SizedBox(width: 5,),
                                                                                      Text("Move next round",style: TextStyle(color: Colors.white,fontSize: 14),),
                                                                                    ],
                                                                                  ),
                                                                                ),
                                                                              )
                                                                          ),
                                                                          GestureDetector(
                                                                              onTap: () async {
                                                                                Shortlist B= await shortlistapi(snapshot.data!.data.data.shortListCandidates[i].userId.toString());
                                                                                if(shortlist_code==200){
                                                                                  showDialog(
                                                                                    context: context,
                                                                                    barrierDismissible: false, // user must tap button for close dialog!
                                                                                    builder: (BuildContext context) {
                                                                                      return AlertDialog(
                                                                                        //title: Text('Delete This Contact?'),
                                                                                        shape: RoundedRectangleBorder(
                                                                                            borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                        title: Center(
                                                                                          child: Text(
                                                                                            "Released ${snapshot.data!.data.data.shortListCandidates[i].name.toString()}",
                                                                                            style: TextStyle(
                                                                                                fontWeight: FontWeight.bold,
                                                                                                fontFamily: 'Candara',
                                                                                                color: Colors.blue[800]),
                                                                                          ),
                                                                                        ),
                                                                                        content: Container(
                                                                                          width: double.infinity,
                                                                                          //height: Wrap(),
                                                                                          child: Column(
                                                                                            mainAxisSize: MainAxisSize.min,
                                                                                            children: [
                                                                                              Column(
                                                                                                children: [

                                                                                                  Text(
                                                                                                    "You Have successfully ",
                                                                                                    style: TextStyle(fontSize: 20),
                                                                                                  ),
                                                                                                  Text(
                                                                                                    "released ${snapshot.data!.data.data.shortListCandidates[i].name.toString()}",
                                                                                                    style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),
                                                                                                  )
                                                                                                  //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                ],
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                        actions: <Widget>[
                                                                                          Center(
                                                                                            child: Row(
                                                                                              mainAxisAlignment: MainAxisAlignment.center,
                                                                                              children: [
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Text(
                                                                                                    'Okay',
                                                                                                    style: TextStyle(
                                                                                                      fontFamily: 'Candara',
                                                                                                    ),
                                                                                                  ),
                                                                                                  onPressed: () {
                                                                                                    Navigator.pop(context);
                                                                                                    setState(() {

                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ],
                                                                                      );
                                                                                    },
                                                                                  );
                                                                                }
                                                                              },
                                                                              child: Card(
                                                                                color: Colors.redAccent,
                                                                                child: Padding(
                                                                                  padding: const EdgeInsets.all(5.0),
                                                                                  child: Row(
                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                    children: [
                                                                                      Icon(Icons.remove_circle_outline,color: Colors.white,size: 18,),
                                                                                      //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                      SizedBox(width: 5,),
                                                                                      Text("Release",style: TextStyle(color: Colors.white,fontSize: 15),),
                                                                                    ],
                                                                                  ),
                                                                                ),
                                                                              )
                                                                          )


                                                                        ],
                                                                      ),

                                                                    ],
                                                                  ),
                                                                ),
                                                              ],
                                                            ),
                                                          ),
                                                        ),
                                                      ),
                                                      SizedBox(height: 10,)
                                                    ],
                                                  ),

                                            //all filter
                                            if(_dropDownValueNot1!=""&&_dropDownValuectc!=""&&_dropDownValueexp!="")
                                              for(var i=0;i<snapshot.data!.data.data.shortListCandidates.length;i++)
                                                if("${snapshot.data!.data.data.shortListCandidates[i].notice} days" == _dropDownValueNot1 &&
                                                    "${snapshot.data!.data.data.shortListCandidates[i].ctc} LPA" == _dropDownValuectc &&
                                                    "${snapshot.data!.data.data.shortListCandidates[i].exp} yrs" == _dropDownValueexp)
                                                  Column(
                                                    children: [
                                                      GestureDetector(
                                                        onTap:(){
                                                          Navigator.push(
                                                              context, MaterialPageRoute(
                                                              builder: (context) => Candidate(snapshot.data!.data.data.shortListCandidates[i].userId.toString())));


                                                        },
                                                        child: Card(
                                                          elevation: 5,
                                                          shape: RoundedRectangleBorder(
                                                              borderRadius: BorderRadius.all(Radius.circular(10))),
                                                          child: Container(
                                                            padding: EdgeInsets.all(8),
                                                            child: Column(
                                                              children: [
                                                                Row(
                                                                  mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                  crossAxisAlignment: CrossAxisAlignment.center,
                                                                  children: [
                                                                    Row(
                                                                      children: [
                                                                        Column(
                                                                          children: [
                                                                            Center(
                                                                              child: CircleAvatar(
                                                                                backgroundColor: Colors.transparent,
                                                                                backgroundImage: snapshot.data!.data.data.shortListCandidates[i].profileImage==null?
                                                                                NetworkImage("http://kobl.ai/img/profile.png")
                                                                                    :             NetworkImage("${snapshot.data!.data.data.shortListCandidates[i].profileImage}")
                                                                                ,
                                                                                radius: 28,
                                                                              ),
                                                                            ),
                                                                            SizedBox(height: 5,),
                                                                            RatingBarIndicator(
                                                                              rating: 2.75,
                                                                              itemBuilder: (context, index) => Icon(
                                                                                Icons.star,
                                                                                color: Colors.amber,
                                                                              ),
                                                                              itemCount: 5,
                                                                              itemSize: 15,
                                                                              direction: Axis.horizontal,
                                                                            ),
                                                                          ],
                                                                        ),
                                                                        SizedBox(width: 20,),
                                                                        Column(
                                                                          crossAxisAlignment: CrossAxisAlignment.start,
                                                                          children: [
                                                                            Text(
                                                                              "${snapshot.data!.data.data.shortListCandidates[i].name.toString()}",
                                                                              style: TextStyle(
                                                                                fontWeight: FontWeight.bold,
                                                                                fontFamily: 'Candara',
                                                                                fontSize: 18,
                                                                              ),
                                                                            ),
                                                                            SizedBox(height:5),
                                                                            Text(
                                                                                '${snapshot.data!.data.data.shortListCandidates[i].designation.toString()}',
                                                                                style: TextStyle(

                                                                                  fontFamily: 'Candara',
                                                                                  color: Colors.blue,
                                                                                  fontSize: 15,
                                                                                ),
                                                                                maxLines: 5,
                                                                                overflow: TextOverflow.ellipsis),

                                                                            SizedBox(
                                                                              height: 10,
                                                                            ),
                                                                            if(snapshot.data!.data.data.shortListCandidates[i].notice.toString()!="0")
                                                                              Text("Notice : ${snapshot.data!.data.data.shortListCandidates[i].notice.toString()} days",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                            if(snapshot.data!.data.data.shortListCandidates[i].notice.toString()=="0")
                                                                              Text("Notice : Immediate",style: TextStyle(fontFamily: "Candara",fontSize: 14 ),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                            SizedBox(height: 5,),
                                                                            Row(
                                                                              children: [
                                                                                Text("CTC : ${snapshot.data!.data.data.shortListCandidates[i].ctc.toString()} LPA",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                if(snapshot.data!.data.data.shortListCandidates[i].exp.toString()!="1")
                                                                                  Text("     Exp : ${snapshot.data!.data.data.shortListCandidates[i].exp.toString()} yrs",style: TextStyle(fontFamily: "Candara",fontSize: 14,),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                if(snapshot.data!.data.data.shortListCandidates[i].exp.toString()=="1")
                                                                                  Text("     Exp : ${snapshot.data!.data.data.shortListCandidates[i].exp.toString()} yr",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),

                                                                              ],
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                          ],
                                                                        ),
                                                                      ],
                                                                    ),
                                                                    Icon(Icons.arrow_forward_ios_outlined,color: Colors.orangeAccent,size: 20,),
                                                                  ],
                                                                ),
                                                                Container(
                                                                  //height: 100,
                                                                  padding: EdgeInsets.only(left: 10, right: 10, top: 10,bottom: 10),
                                                                  child: Column(
                                                                    crossAxisAlignment: CrossAxisAlignment.start,
                                                                    children: <Widget>[
                                                                      GridView.count(
                                                                        shrinkWrap: true,
                                                                        childAspectRatio: 3.5,
                                                                        crossAxisSpacing:3,
                                                                        mainAxisSpacing: 3,
                                                                        crossAxisCount: 2,
                                                                        children: <Widget>[

                                                                          GestureDetector(
                                                                              onTap: () {
                                                                                showDialog(
                                                                                  context: context,
                                                                                  barrierDismissible: false, // user must tap button for close dialog!
                                                                                  builder: (BuildContext context) {

                                                                                    String? _character="Video";
                                                                                    isSelected1[e]=true;
                                                                                    List<String> drop=[];
                                                                                    for(var i=0;i<snapshot.data!.data.data.stages.length-1;i++)
                                                                                    {
                                                                                      drop.add(snapshot.data!.data.data.stages[i].key.toString());
                                                                                    }


                                                                                    return AlertDialog(
                                                                                      //title: Text('Delete This Contact?'),
                                                                                      shape: RoundedRectangleBorder(
                                                                                          borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                      insetPadding: EdgeInsets.zero,
                                                                                      content: Container(
                                                                                        width: double.infinity,
                                                                                        //height: Wrap(),
                                                                                        child: SingleChildScrollView(
                                                                                          child: Column(
                                                                                            mainAxisSize: MainAxisSize.min,
                                                                                            children: [
                                                                                              Column(
                                                                                                children: [
                                                                                                  Row(
                                                                                                    children: [
                                                                                                      GestureDetector(
                                                                                                        onTap: (){
                                                                                                          Navigator.pop(context);
                                                                                                        },
                                                                                                        child: Icon(
                                                                                                          Icons.arrow_back_ios,
                                                                                                          color: Colors.black,
                                                                                                          size: 25,
                                                                                                        ),
                                                                                                      ),
                                                                                                      Text(
                                                                                                        " Schedule an Interview    ",
                                                                                                        style: TextStyle(
                                                                                                            fontWeight: FontWeight.bold, fontSize: 25),
                                                                                                      )
                                                                                                    ],
                                                                                                  ),
                                                                                                  SizedBox(
                                                                                                    height: 20,
                                                                                                  ),
                                                                                                  Form(
                                                                                                      key: _formKey,
                                                                                                      child: Column(
                                                                                                        mainAxisSize: MainAxisSize.max,
                                                                                                        crossAxisAlignment: CrossAxisAlignment.stretch,
                                                                                                        children: <Widget>[
                                                                                                          Text(
                                                                                                            "  Select Round",
                                                                                                            style: TextStyle(
                                                                                                              color: Colors.grey,
                                                                                                              fontFamily: 'Candara',
                                                                                                            ),
                                                                                                          ),

                                                                                                          FormField<String>(
                                                                                                            builder: (FormFieldState<String> state) {
                                                                                                              String _currentSelectedValue='';
                                                                                                              return Container(
                                                                                                                height: 60,
                                                                                                                padding: EdgeInsets.only(left: 0,right: 0),
                                                                                                                child: InputDecorator(
                                                                                                                  decoration: InputDecoration(
                                                                                                                    //labelText: 'CLASS',
                                                                                                                      prefixIcon: Icon(Icons.leaderboard,color: Colors.grey),
                                                                                                                      labelStyle: TextStyle(fontFamily: "Candara"),
                                                                                                                      errorStyle: TextStyle(fontFamily:"Candara",color: Colors.redAccent, fontSize: 16.0),
                                                                                                                      //hintText: 'Please select expense',
                                                                                                                      enabledBorder:OutlineInputBorder(
                                                                                                                          borderSide: const BorderSide(color: Colors.grey, width: 2.0),
                                                                                                                          borderRadius: BorderRadius.circular(15)),
                                                                                                                      focusedBorder: OutlineInputBorder(
                                                                                                                          borderSide: const BorderSide(color: Colors.orangeAccent,width: 2.0),
                                                                                                                          borderRadius: BorderRadius.circular(15)
                                                                                                                      )),
                                                                                                                  //border: OutlineInputBorder(borderRadius: BorderRadius.circular(5.0))),
                                                                                                                  isEmpty: _currentSelectedValue == '',
                                                                                                                  child: DropdownButtonHideUnderline(
                                                                                                                      child: DropdownButton(
                                                                                                                        menuMaxHeight: 200,
                                                                                                                        hint: _dropDownValue == null
                                                                                                                            ? Text('Dropdown')
                                                                                                                            : Text(
                                                                                                                          _dropDownValue,
                                                                                                                          style: TextStyle(fontFamily: "Candara",color: Colors.black,fontSize: 16),
                                                                                                                        ),
                                                                                                                        isExpanded: false,
                                                                                                                        iconSize: 30.0,
                                                                                                                        style: TextStyle(color: Colors.black),
                                                                                                                        items: drop.map(
                                                                                                                              (val) {
                                                                                                                            return DropdownMenuItem<String>(
                                                                                                                              value: val,
                                                                                                                              child: Text(val),
                                                                                                                            );
                                                                                                                          },
                                                                                                                        ).toList(),
                                                                                                                        onChanged: (String? val) {
                                                                                                                          setState(() {
                                                                                                                            _dropDownValue = val!;
                                                                                                                          });

                                                                                                                          (context as Element).markNeedsBuild();

                                                                                                                        },
                                                                                                                      )
                                                                                                                  ),
                                                                                                                ),
                                                                                                              );
                                                                                                            },
                                                                                                          ),
                                                                                                          SizedBox(height: 20),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              readOnly: true,
                                                                                                              validator: (input) {
                                                                                                                if (dateController.text.isEmpty) return 'Enter date from list';
                                                                                                              },
                                                                                                              controller: dateController,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                prefixIcon: GestureDetector(
                                                                                                                    onTap: (){
                                                                                                                      _selectDate(context);
                                                                                                                    },
                                                                                                                    child: Icon(Icons.date_range,color: Colors.grey,)),
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Enter Date',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              readOnly: true,
                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Please select time';
                                                                                                              },
                                                                                                              controller: timeController,
                                                                                                              decoration: InputDecoration(
                                                                                                                prefixIcon: GestureDetector(
                                                                                                                    onTap: (){
                                                                                                                      _selectTime(context);
                                                                                                                    },
                                                                                                                    child: Icon(Icons.access_time,color: Colors.grey,)),
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Select time',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20,),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Enter Interviewer Name';
                                                                                                              },
                                                                                                              controller: intnameController,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Enter interviewer name',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Enter interviewer E-mail';
                                                                                                              },
                                                                                                              controller: intmailController,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Interviewer E-mail ',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                prefixIcon: Icon(Icons.mail_outline, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(
                                                                                                            height: 20,
                                                                                                          ),
                                                                                                          Center(
                                                                                                            child: SingleChildScrollView(
                                                                                                              scrollDirection: Axis.horizontal,
                                                                                                              child: Center(
                                                                                                                child: ToggleButtons(
                                                                                                                  children: <Widget>[
                                                                                                                    Text("  Video  ",
                                                                                                                        style: TextStyle(
                                                                                                                          fontSize: 20,
                                                                                                                          fontFamily: "Candara",
                                                                                                                        )),
                                                                                                                    Text("  Phone  ",
                                                                                                                        style: TextStyle(
                                                                                                                          fontSize: 20,
                                                                                                                          fontFamily: "Candara",
                                                                                                                        )),

                                                                                                                  ],
                                                                                                                  selectedBorderColor: Colors.blue[800],
                                                                                                                  selectedColor: Colors.white,
                                                                                                                  borderColor: Colors.blue,
                                                                                                                  borderRadius: BorderRadius.circular(10),
                                                                                                                  disabledColor: Colors.transparent,
                                                                                                                  disabledBorderColor: Colors.transparent,
                                                                                                                  focusColor: Colors.blue[800],
                                                                                                                  fillColor: Colors.blue[800],
                                                                                                                  onPressed: (int index) {
                                                                                                                    setState(() {
                                                                                                                      e=index;
                                                                                                                      for (int buttonIndex = 0;
                                                                                                                      buttonIndex < isSelected1.length;
                                                                                                                      buttonIndex++) {
                                                                                                                        if (buttonIndex == index) {
                                                                                                                          isSelected1[buttonIndex] = true;
                                                                                                                        } else {
                                                                                                                          isSelected1[buttonIndex] = false;
                                                                                                                        }

                                                                                                                      }


                                                                                                                    });
                                                                                                                    (context as Element).markNeedsBuild();
                                                                                                                  },
                                                                                                                  isSelected: isSelected1,
                                                                                                                ),
                                                                                                              ),
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20,),
                                                                                                          if(e==0)
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                //readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty && e==0) return 'Please enter meetlink';
                                                                                                                },
                                                                                                                controller: meetlink,
                                                                                                                decoration: InputDecoration(
                                                                                                                  prefixIcon: Icon(Icons.video_call,color: Colors.grey,),
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter meet link',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                          if(e==1)
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                //readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty && e==1) return 'Please enter phone';
                                                                                                                },
                                                                                                                controller: phonelink,
                                                                                                                keyboardType: TextInputType.phone,
                                                                                                                decoration: InputDecoration(
                                                                                                                  prefixIcon: Icon(Icons.phone,color: Colors.grey,),
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter phone no.',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                          SizedBox(
                                                                                                            height: 15,
                                                                                                          ),
                                                                                                          Container(
                                                                                                            height: 160,
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              expands: true,
                                                                                                              maxLines: null,

                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Add comments';
                                                                                                              },
                                                                                                              controller: comments,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),

                                                                                                                labelText: 'Add comments',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                        ],
                                                                                                      )),


                                                                                                  //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                ],
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                      ),
                                                                                      actions: <Widget>[
                                                                                        Center(
                                                                                          child: Row(
                                                                                            mainAxisAlignment: MainAxisAlignment.center,
                                                                                            children: [
                                                                                              ElevatedButton(
                                                                                                style: ButtonStyle(
                                                                                                    backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                        Color.fromARGB(255, 59, 48, 214))),
                                                                                                child: Row(
                                                                                                  children: [
                                                                                                    Icon(Icons.access_time,color: Colors.white,size: 20,),
                                                                                                    Text(
                                                                                                      '  Schedule',
                                                                                                      style: TextStyle(
                                                                                                        fontFamily: 'Candara',
                                                                                                      ),
                                                                                                    ),
                                                                                                  ],
                                                                                                ),
                                                                                                onPressed: () async {
                                                                                                  if(_formKey.currentState!.validate()&& _dropDownValue!="")
                                                                                                  {
                                                                                                    String date= dateController.text;
                                                                                                    String time= timeController.text;
                                                                                                    String link;
                                                                                                    String commet= comments.text;
                                                                                                    String type;
                                                                                                    if(e==0) {
                                                                                                      type = "Video";
                                                                                                      link=meetlink.text;
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                      type="Audio";
                                                                                                      link=phonelink.text;
                                                                                                    }


                                                                                                    Interview log = await INTERVIEWapi(snapshot.data!.data.data.shortListCandidates[i].userId.toString(),_dropDownValue,intnameController.text,intmailController.text,type,date,time,link,commet);

                                                                                                    if(interview_code==200) {
                                                                                                      Navigator.pop(context);
                                                                                                      final Future<ConfirmAction7?> action =
                                                                                                      await _asyncConfirmDialog7(context, "${snapshot.data!.data.data.shortListCandidates[i].name.toString()}");
                                                                                                    }

                                                                                                    if(interview_code==401){
                                                                                                      Navigator.pop(context);
                                                                                                      showDialog<String>(
                                                                                                          context: context,
                                                                                                          builder: (BuildContext context) => AlertDialog(
                                                                                                            title: const Text("Try Again"),
                                                                                                            content: const Text("Couldn't schedule interview"),
                                                                                                            actions: <Widget>[
                                                                                                              TextButton(
                                                                                                                  onPressed: () => Navigator.pop(context, 'OK'),
                                                                                                                  child: const Text('OK',style: TextStyle(color: Colors.teal))
                                                                                                              ),
                                                                                                            ],
                                                                                                          ));
                                                                                                    }
                                                                                                  }


                                                                                                },
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                      ],
                                                                                    );
                                                                                  },
                                                                                );


                                                                              },
                                                                              child: Card(
                                                                                color: Colors.blue.shade200,
                                                                                child: Padding(
                                                                                  padding: const EdgeInsets.all(5.0),
                                                                                  child: Row(
                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                    children: [
                                                                                      Icon(Icons.upgrade,color:Colors.white,size: 18,),
                                                                                      //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                      SizedBox(width: 5,),
                                                                                      Text("Move next round",style: TextStyle(color: Colors.white,fontSize: 14),),
                                                                                    ],
                                                                                  ),
                                                                                ),
                                                                              )
                                                                          ),
                                                                          GestureDetector(
                                                                              onTap: () async {
                                                                                Shortlist B= await shortlistapi(snapshot.data!.data.data.shortListCandidates[i].userId.toString());
                                                                                if(shortlist_code==200){
                                                                                  showDialog(
                                                                                    context: context,
                                                                                    barrierDismissible: false, // user must tap button for close dialog!
                                                                                    builder: (BuildContext context) {
                                                                                      return AlertDialog(
                                                                                        //title: Text('Delete This Contact?'),
                                                                                        shape: RoundedRectangleBorder(
                                                                                            borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                        title: Center(
                                                                                          child: Text(
                                                                                            "Released ${snapshot.data!.data.data.shortListCandidates[i].name.toString()}",
                                                                                            style: TextStyle(
                                                                                                fontWeight: FontWeight.bold,
                                                                                                fontFamily: 'Candara',
                                                                                                color: Colors.blue[800]),
                                                                                          ),
                                                                                        ),
                                                                                        content: Container(
                                                                                          width: double.infinity,
                                                                                          //height: Wrap(),
                                                                                          child: Column(
                                                                                            mainAxisSize: MainAxisSize.min,
                                                                                            children: [
                                                                                              Column(
                                                                                                children: [

                                                                                                  Text(
                                                                                                    "You Have successfully ",
                                                                                                    style: TextStyle(fontSize: 20),
                                                                                                  ),
                                                                                                  Text(
                                                                                                    "released ${snapshot.data!.data.data.shortListCandidates[i].name.toString()}",
                                                                                                    style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),
                                                                                                  )
                                                                                                  //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                ],
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                        actions: <Widget>[
                                                                                          Center(
                                                                                            child: Row(
                                                                                              mainAxisAlignment: MainAxisAlignment.center,
                                                                                              children: [
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Text(
                                                                                                    'Okay',
                                                                                                    style: TextStyle(
                                                                                                      fontFamily: 'Candara',
                                                                                                    ),
                                                                                                  ),
                                                                                                  onPressed: () {
                                                                                                    Navigator.pop(context);
                                                                                                    setState(() {

                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ],
                                                                                      );
                                                                                    },
                                                                                  );
                                                                                }
                                                                              },
                                                                              child: Card(
                                                                                color: Colors.redAccent,
                                                                                child: Padding(
                                                                                  padding: const EdgeInsets.all(5.0),
                                                                                  child: Row(
                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                    children: [
                                                                                      Icon(Icons.remove_circle_outline,color: Colors.white,size: 18,),
                                                                                      //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                      SizedBox(width: 5,),
                                                                                      Text("Release",style: TextStyle(color: Colors.white,fontSize: 15),),
                                                                                    ],
                                                                                  ),
                                                                                ),
                                                                              )
                                                                          )


                                                                        ],
                                                                      ),

                                                                    ],
                                                                  ),
                                                                ),
                                                              ],
                                                            ),
                                                          ),
                                                        ),
                                                      ),
                                                      SizedBox(height: 10,)
                                                    ],
                                                  ),


                                          ],
                                        ),


                                      //interview
                                      if(k==2)
                                        Column(
                                            children:[
                                              if(_dropDownValueNot1==""&&_dropDownValuectc==""&&_dropDownValueexp=="")
                                                for(var i=0;i<snapshot.data!.data.data.intetviewListCandidates.length;i++)
                                                  Column(
                                                    children: [
                                                      GestureDetector(
                                                        onTap:(){
                                                          Navigator.push(
                                                              context, MaterialPageRoute(
                                                              builder: (context) => Candidate(snapshot.data!.data.data.intetviewListCandidates[i].userId.toString())));


                                                        },
                                                        child: Card(
                                                          elevation: 5,
                                                          shape: RoundedRectangleBorder(
                                                              borderRadius: BorderRadius.all(Radius.circular(10))),
                                                          child: Container(
                                                            padding: EdgeInsets.all(8),
                                                            child: Column(
                                                              children: [
                                                                Row(
                                                                  mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                  crossAxisAlignment: CrossAxisAlignment.center,
                                                                  children: [
                                                                    Row(
                                                                      children: [
                                                                        Column(
                                                                          children: [
                                                                            Center(
                                                                              child: CircleAvatar(
                                                                                backgroundColor: Colors.transparent,
                                                                                backgroundImage: snapshot.data!.data.data.intetviewListCandidates[i].profileImage==null?
                                                                                NetworkImage("http://kobl.ai/img/profile.png")
                                                                                    :             NetworkImage("${snapshot.data!.data.data.intetviewListCandidates[i].profileImage}")
                                                                                ,
                                                                                radius: 28,
                                                                              ),
                                                                            ),
                                                                            SizedBox(height: 5,),
                                                                            RatingBarIndicator(
                                                                              rating: 2.75,
                                                                              itemBuilder: (context, index) => Icon(
                                                                                Icons.star,
                                                                                color: Colors.amber,
                                                                              ),
                                                                              itemCount: 5,
                                                                              itemSize: 15,
                                                                              direction: Axis.horizontal,
                                                                            ),
                                                                          ],
                                                                        ),
                                                                        SizedBox(width: 20,),
                                                                        Column(
                                                                          crossAxisAlignment: CrossAxisAlignment.start,
                                                                          children: [
                                                                            Text(
                                                                              "${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()}",
                                                                              style: TextStyle(
                                                                                fontWeight: FontWeight.bold,
                                                                                fontFamily: 'Candara',
                                                                                fontSize: 18,
                                                                              ),
                                                                            ),
                                                                            SizedBox(height:5),
                                                                            Text(
                                                                                '${snapshot.data!.data.data.intetviewListCandidates[i].designation.toString()}',
                                                                                style: TextStyle(

                                                                                  fontFamily: 'Candara',
                                                                                  color: Colors.blue,
                                                                                  fontSize: 15,
                                                                                ),
                                                                                maxLines: 5,
                                                                                overflow: TextOverflow.ellipsis),

                                                                            SizedBox(
                                                                              height: 10,
                                                                            ),
                                                                            if(snapshot.data!.data.data.intetviewListCandidates[i].notice.toString()!="0")
                                                                              Text("Notice : ${snapshot.data!.data.data.intetviewListCandidates[i].notice.toString()} days",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                            if(snapshot.data!.data.data.intetviewListCandidates[i].notice.toString()=="0")
                                                                              Text("Notice : Immediate",style: TextStyle(fontFamily: "Candara",fontSize: 14 ),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                            SizedBox(height: 5,),
                                                                            Row(
                                                                              children: [
                                                                                Text("CTC : ${snapshot.data!.data.data.intetviewListCandidates[i].ctc.toString()} LPA",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                if(snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()!="1")
                                                                                  Text("     Exp : ${snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()} yrs",style: TextStyle(fontFamily: "Candara",fontSize: 14,),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                if(snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()=="1")
                                                                                  Text("     Exp : ${snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()} yr",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),

                                                                              ],
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                          ],
                                                                        ),
                                                                      ],
                                                                    ),
                                                                    Icon(Icons.arrow_forward_ios_outlined,color: Colors.orangeAccent,size: 20,),
                                                                  ],
                                                                ),
                                                                Container(
                                                                  //height: 100,
                                                                  padding: EdgeInsets.only(left: 10, right: 10, top: 10,bottom: 10),
                                                                  child: Column(
                                                                    crossAxisAlignment: CrossAxisAlignment.start,
                                                                    children: <Widget>[
                                                                      GridView.count(
                                                                        shrinkWrap: true,
                                                                        childAspectRatio: 3.5,
                                                                        crossAxisSpacing:3,
                                                                        mainAxisSpacing: 3,
                                                                        crossAxisCount: 2,
                                                                        children: <Widget>[

                                                                          GestureDetector(
                                                                              onTap: () {

                                                                                showDialog(
                                                                                  context: context,
                                                                                  barrierDismissible: false, // user must tap button for close dialog!
                                                                                  builder: (BuildContext context) {

                                                                                    String? _character="Video";
                                                                                    isSelected1[e]=true;
                                                                                    List<String> drop=[];
                                                                                    for(var i=0;i<snapshot.data!.data.data.stages.length-1;i++)
                                                                                    {
                                                                                      drop.add(snapshot.data!.data.data.stages[i].key.toString());
                                                                                    }


                                                                                    return AlertDialog(
                                                                                      //title: Text('Delete This Contact?'),
                                                                                      shape: RoundedRectangleBorder(
                                                                                          borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                      insetPadding: EdgeInsets.zero,
                                                                                      content: Container(
                                                                                        width: double.infinity,
                                                                                        //height: Wrap(),
                                                                                        child: SingleChildScrollView(
                                                                                          child: Column(
                                                                                            mainAxisSize: MainAxisSize.min,
                                                                                            children: [
                                                                                              Column(
                                                                                                children: [
                                                                                                  Row(
                                                                                                    children: [
                                                                                                      GestureDetector(
                                                                                                        onTap: (){
                                                                                                          Navigator.pop(context);
                                                                                                        },
                                                                                                        child: Icon(
                                                                                                          Icons.arrow_back_ios,
                                                                                                          color: Colors.black,
                                                                                                          size: 25,
                                                                                                        ),
                                                                                                      ),
                                                                                                      Text(
                                                                                                        " Schedule an Interview    ",
                                                                                                        style: TextStyle(
                                                                                                            fontWeight: FontWeight.bold, fontSize: 25),
                                                                                                      )
                                                                                                    ],
                                                                                                  ),
                                                                                                  SizedBox(
                                                                                                    height: 20,
                                                                                                  ),
                                                                                                  Form(
                                                                                                      key: _formKey,
                                                                                                      child: Column(
                                                                                                        mainAxisSize: MainAxisSize.max,
                                                                                                        crossAxisAlignment: CrossAxisAlignment.stretch,
                                                                                                        children: <Widget>[
                                                                                                          Text(
                                                                                                            "  Select Round",
                                                                                                            style: TextStyle(
                                                                                                              color: Colors.grey,
                                                                                                              fontFamily: 'Candara',
                                                                                                            ),
                                                                                                          ),

                                                                                                          FormField<String>(
                                                                                                            builder: (FormFieldState<String> state) {
                                                                                                              String _currentSelectedValue='';
                                                                                                              return Container(
                                                                                                                height: 60,
                                                                                                                padding: EdgeInsets.only(left: 0,right: 0),
                                                                                                                child: InputDecorator(
                                                                                                                  decoration: InputDecoration(
                                                                                                                    //labelText: 'CLASS',
                                                                                                                      prefixIcon: Icon(Icons.leaderboard,color: Colors.grey),
                                                                                                                      labelStyle: TextStyle(fontFamily: "Candara"),
                                                                                                                      errorStyle: TextStyle(fontFamily:"Candara",color: Colors.redAccent, fontSize: 16.0),
                                                                                                                      //hintText: 'Please select expense',
                                                                                                                      enabledBorder:OutlineInputBorder(
                                                                                                                          borderSide: const BorderSide(color: Colors.grey, width: 2.0),
                                                                                                                          borderRadius: BorderRadius.circular(15)),
                                                                                                                      focusedBorder: OutlineInputBorder(
                                                                                                                          borderSide: const BorderSide(color: Colors.orangeAccent,width: 2.0),
                                                                                                                          borderRadius: BorderRadius.circular(15)
                                                                                                                      )),
                                                                                                                  //border: OutlineInputBorder(borderRadius: BorderRadius.circular(5.0))),
                                                                                                                  isEmpty: _currentSelectedValue == '',
                                                                                                                  child: DropdownButtonHideUnderline(
                                                                                                                      child: DropdownButton(
                                                                                                                        menuMaxHeight: 200,
                                                                                                                        hint: _dropDownValue == null
                                                                                                                            ? Text('Dropdown')
                                                                                                                            : Text(
                                                                                                                          _dropDownValue,
                                                                                                                          style: TextStyle(fontFamily: "Candara",color: Colors.black,fontSize: 16),
                                                                                                                        ),
                                                                                                                        isExpanded: false,
                                                                                                                        iconSize: 30.0,
                                                                                                                        style: TextStyle(color: Colors.black),
                                                                                                                        items: drop.map(
                                                                                                                              (val) {
                                                                                                                            return DropdownMenuItem<String>(
                                                                                                                              value: val,
                                                                                                                              child: Text(val),
                                                                                                                            );
                                                                                                                          },
                                                                                                                        ).toList(),
                                                                                                                        onChanged: (String? val) {
                                                                                                                          setState(() {
                                                                                                                            _dropDownValue = val!;
                                                                                                                          });

                                                                                                                          (context as Element).markNeedsBuild();

                                                                                                                        },
                                                                                                                      )
                                                                                                                  ),
                                                                                                                ),
                                                                                                              );
                                                                                                            },
                                                                                                          ),
                                                                                                          SizedBox(height: 20),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              readOnly: true,
                                                                                                              validator: (input) {
                                                                                                                if (dateController.text.isEmpty) return 'Enter date from list';
                                                                                                              },
                                                                                                              controller: dateController,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                prefixIcon: GestureDetector(
                                                                                                                    onTap: (){
                                                                                                                      _selectDate(context);
                                                                                                                    },
                                                                                                                    child: Icon(Icons.date_range,color: Colors.grey,)),
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Enter Date',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              readOnly: true,
                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Please select time';
                                                                                                              },
                                                                                                              controller: timeController,
                                                                                                              decoration: InputDecoration(
                                                                                                                prefixIcon: GestureDetector(
                                                                                                                    onTap: (){
                                                                                                                      _selectTime(context);
                                                                                                                    },
                                                                                                                    child: Icon(Icons.access_time,color: Colors.grey,)),
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Select time',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20,),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Enter Interviewer Name';
                                                                                                              },
                                                                                                              controller: intnameController,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Enter interviewer name',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20),
                                                                                                          Container(
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Enter interviewer E-mail';
                                                                                                              },
                                                                                                              controller: intmailController,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                labelText: 'Interviewer E-mail ',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                prefixIcon: Icon(Icons.mail_outline, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(
                                                                                                            height: 20,
                                                                                                          ),
                                                                                                          Center(
                                                                                                            child: SingleChildScrollView(
                                                                                                              scrollDirection: Axis.horizontal,
                                                                                                              child: Center(
                                                                                                                child: ToggleButtons(
                                                                                                                  children: <Widget>[
                                                                                                                    Text("  Video  ",
                                                                                                                        style: TextStyle(
                                                                                                                          fontSize: 20,
                                                                                                                          fontFamily: "Candara",
                                                                                                                        )),
                                                                                                                    Text("  Phone  ",
                                                                                                                        style: TextStyle(
                                                                                                                          fontSize: 20,
                                                                                                                          fontFamily: "Candara",
                                                                                                                        )),

                                                                                                                  ],
                                                                                                                  selectedBorderColor: Colors.blue[800],
                                                                                                                  selectedColor: Colors.white,
                                                                                                                  borderColor: Colors.blue,
                                                                                                                  borderRadius: BorderRadius.circular(10),
                                                                                                                  disabledColor: Colors.transparent,
                                                                                                                  disabledBorderColor: Colors.transparent,
                                                                                                                  focusColor: Colors.blue[800],
                                                                                                                  fillColor: Colors.blue[800],
                                                                                                                  onPressed: (int index) {
                                                                                                                    setState(() {
                                                                                                                      e=index;
                                                                                                                      for (int buttonIndex = 0;
                                                                                                                      buttonIndex < isSelected1.length;
                                                                                                                      buttonIndex++) {
                                                                                                                        if (buttonIndex == index) {
                                                                                                                          isSelected1[buttonIndex] = true;
                                                                                                                        } else {
                                                                                                                          isSelected1[buttonIndex] = false;
                                                                                                                        }

                                                                                                                      }


                                                                                                                    });
                                                                                                                    (context as Element).markNeedsBuild();
                                                                                                                  },
                                                                                                                  isSelected: isSelected1,
                                                                                                                ),
                                                                                                              ),
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(height: 20,),
                                                                                                          if(e==0)
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                //readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty && e==0) return 'Please enter meetlink';
                                                                                                                },
                                                                                                                controller: meetlink,
                                                                                                                decoration: InputDecoration(
                                                                                                                  prefixIcon: Icon(Icons.video_call,color: Colors.grey,),
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter meet link',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                          if(e==1)
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                //readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty && e==1) return 'Please enter phone';
                                                                                                                },
                                                                                                                controller: phonelink,
                                                                                                                keyboardType: TextInputType.phone,
                                                                                                                decoration: InputDecoration(
                                                                                                                  prefixIcon: Icon(Icons.phone,color: Colors.grey,),
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter phone no.',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                          SizedBox(
                                                                                                            height: 15,
                                                                                                          ),
                                                                                                          Container(
                                                                                                            height: 160,
                                                                                                            //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                            child: TextFormField(
                                                                                                              expands: true,
                                                                                                              maxLines: null,

                                                                                                              validator: (input) {
                                                                                                                if (input!.isEmpty) return 'Add comments';
                                                                                                              },
                                                                                                              controller: comments,
                                                                                                              decoration: InputDecoration(
                                                                                                                //fillColor: Colors.white,
                                                                                                                enabledBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.grey, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),
                                                                                                                focusedBorder: OutlineInputBorder(
                                                                                                                    borderSide: const BorderSide(
                                                                                                                        color: Colors.orangeAccent, width: 2.0),
                                                                                                                    borderRadius: BorderRadius.circular(15)),

                                                                                                                labelText: 'Add comments',
                                                                                                                labelStyle: TextStyle(
                                                                                                                    fontFamily: "Candara", color: Colors.grey),
                                                                                                                //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                fillColor: Colors.grey,
                                                                                                                focusColor: Colors.orangeAccent,
                                                                                                              ),
                                                                                                              // onSaved: (input) => _name = input!
                                                                                                            ),
                                                                                                          ),
                                                                                                        ],
                                                                                                      )),


                                                                                                  //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                ],
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                      ),
                                                                                      actions: <Widget>[
                                                                                        Center(
                                                                                          child: Row(
                                                                                            mainAxisAlignment: MainAxisAlignment.center,
                                                                                            children: [
                                                                                              ElevatedButton(
                                                                                                style: ButtonStyle(
                                                                                                    backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                        Color.fromARGB(255, 59, 48, 214))),
                                                                                                child: Row(
                                                                                                  children: [
                                                                                                    Icon(Icons.access_time,color: Colors.white,size: 20,),
                                                                                                    Text(
                                                                                                      '  Schedule',
                                                                                                      style: TextStyle(
                                                                                                        fontFamily: 'Candara',
                                                                                                      ),
                                                                                                    ),
                                                                                                  ],
                                                                                                ),
                                                                                                onPressed: () async {
                                                                                                  if(_formKey.currentState!.validate()&& _dropDownValue!="")
                                                                                                  {
                                                                                                    String date= dateController.text;
                                                                                                    String time= timeController.text;
                                                                                                    String link;
                                                                                                    String commet= comments.text;
                                                                                                    String type;
                                                                                                    if(e==0) {
                                                                                                      type = "Video";
                                                                                                      link=meetlink.text;
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                      type="Audio";
                                                                                                      link=phonelink.text;
                                                                                                    }


                                                                                                    Interview log = await INTERVIEWapi(snapshot.data!.data.data.intetviewListCandidates[i].userId.toString(),_dropDownValue,intnameController.text,intmailController.text,type,date,time,link,commet);

                                                                                                    if(interview_code==200) {
                                                                                                      Navigator.pop(context);
                                                                                                      final Future<ConfirmAction7?> action =
                                                                                                      await _asyncConfirmDialog7(context, "${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()}");
                                                                                                    }

                                                                                                    if(interview_code==401){
                                                                                                      Navigator.pop(context);
                                                                                                      showDialog<String>(
                                                                                                          context: context,
                                                                                                          builder: (BuildContext context) => AlertDialog(
                                                                                                            title: const Text("Try Again"),
                                                                                                            content: const Text("Couldn't schedule interview"),
                                                                                                            actions: <Widget>[
                                                                                                              TextButton(
                                                                                                                  onPressed: () => Navigator.pop(context, 'OK'),
                                                                                                                  child: const Text('OK',style: TextStyle(color: Colors.teal))
                                                                                                              ),
                                                                                                            ],
                                                                                                          ));
                                                                                                    }
                                                                                                  }


                                                                                                },
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                      ],
                                                                                    );
                                                                                  },
                                                                                );


                                                                              },
                                                                              child: Card(
                                                                                color: Colors.blue.shade200,
                                                                                child: Padding(
                                                                                  padding: const EdgeInsets.all(5.0),
                                                                                  child: Row(
                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                    children: [
                                                                                      Icon(Icons.upgrade,color:Colors.white,size: 18,),
                                                                                      //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                      SizedBox(width: 5,),
                                                                                      Text("Move next round",style: TextStyle(color: Colors.white,fontSize: 14),),
                                                                                    ],
                                                                                  ),
                                                                                ),
                                                                              )
                                                                          ),
                                                                          GestureDetector(
                                                                              onTap: () {
                                                                                showDialog(
                                                                                  context: context,
                                                                                  barrierDismissible: false, // user must tap button for close dialog!
                                                                                  builder: (BuildContext context) {
                                                                                    remarks=TextEditingController();
                                                                                    reasons=TextEditingController();
                                                                                    return AlertDialog(
                                                                                      //title: Text('Delete This Contact?'),
                                                                                      shape: RoundedRectangleBorder(
                                                                                          borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                      title: Center(
                                                                                        child: Text(
                                                                                          "Reject ${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()}?",
                                                                                          style: TextStyle(
                                                                                              fontWeight: FontWeight.bold,
                                                                                              fontFamily: 'Candara',
                                                                                              color: Colors.blue[800]),
                                                                                        ),
                                                                                      ),
                                                                                      content: Container(
                                                                                        width: double.infinity,
                                                                                        //height: Wrap(),
                                                                                        child: Column(
                                                                                          mainAxisSize: MainAxisSize.min,
                                                                                          children: [
                                                                                            SizedBox(
                                                                                              height: 20,
                                                                                            ),
                                                                                            Form(
                                                                                                key: _formKey2,
                                                                                                child: Column(
                                                                                                  mainAxisSize: MainAxisSize.max,
                                                                                                  crossAxisAlignment: CrossAxisAlignment.stretch,
                                                                                                  children: <Widget>[

                                                                                                    Container(
                                                                                                      //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                      child: TextFormField(
                                                                                                        keyboardType: TextInputType.number,
                                                                                                        validator: (input) {
                                                                                                          if (dateController.text.isEmpty) return ' Enter Reasons';
                                                                                                        },
                                                                                                        controller: reasons,
                                                                                                        decoration: InputDecoration(
                                                                                                          //fillColor: Colors.white,
                                                                                                          prefixIcon: Icon(Icons.question_mark,color: Colors.grey,),
                                                                                                          enabledBorder: OutlineInputBorder(
                                                                                                              borderSide: const BorderSide(
                                                                                                                  color: Colors.grey, width: 2.0),
                                                                                                              borderRadius: BorderRadius.circular(15)),
                                                                                                          focusedBorder: OutlineInputBorder(
                                                                                                              borderSide: const BorderSide(
                                                                                                                  color: Colors.orangeAccent, width: 2.0),
                                                                                                              borderRadius: BorderRadius.circular(15)),
                                                                                                          labelText: 'Enter Reason',
                                                                                                          labelStyle: TextStyle(
                                                                                                              fontFamily: "Candara", color: Colors.grey),
                                                                                                          //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                          fillColor: Colors.grey,
                                                                                                          focusColor: Colors.orangeAccent,
                                                                                                        ),
                                                                                                        // onSaved: (input) => _name = input!
                                                                                                      ),
                                                                                                    ),
                                                                                                    SizedBox(height: 20),
                                                                                                    Container(
                                                                                                      height: 160,
                                                                                                      //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                      child: TextFormField(
                                                                                                        expands: true,
                                                                                                        maxLines: null,

                                                                                                        validator: (input) {
                                                                                                          if (input!.isEmpty) return 'Add Remarks';
                                                                                                        },
                                                                                                        controller: remarks,
                                                                                                        decoration: InputDecoration(
                                                                                                          //fillColor: Colors.white,
                                                                                                          enabledBorder: OutlineInputBorder(
                                                                                                              borderSide: const BorderSide(
                                                                                                                  color: Colors.grey, width: 2.0),
                                                                                                              borderRadius: BorderRadius.circular(15)),
                                                                                                          focusedBorder: OutlineInputBorder(
                                                                                                              borderSide: const BorderSide(
                                                                                                                  color: Colors.orangeAccent, width: 2.0),
                                                                                                              borderRadius: BorderRadius.circular(15)),

                                                                                                          labelText: 'Add Remarks',
                                                                                                          labelStyle: TextStyle(
                                                                                                              fontFamily: "Candara", color: Colors.grey),
                                                                                                          //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                          fillColor: Colors.grey,
                                                                                                          focusColor: Colors.orangeAccent,
                                                                                                        ),
                                                                                                        // onSaved: (input) => _name = input!
                                                                                                      ),
                                                                                                    ),


                                                                                                  ],
                                                                                                )),
                                                                                          ],
                                                                                        ),
                                                                                      ),
                                                                                      actions: <Widget>[
                                                                                        Center(
                                                                                          child: Row(
                                                                                            mainAxisAlignment: MainAxisAlignment.center,
                                                                                            children: [
                                                                                              ElevatedButton(
                                                                                                style: ButtonStyle(
                                                                                                    backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                        Color.fromARGB(255, 59, 48, 214))),
                                                                                                child: Text(
                                                                                                  'Reject',
                                                                                                  style: TextStyle(
                                                                                                    fontFamily: 'Candara',
                                                                                                  ),
                                                                                                ),
                                                                                                onPressed: () async{
                                                                                                  if(_formKey2.currentState!.validate()) {
                                                                                                    Shortlist c = await rejectapi(
                                                                                                        snapshot.data!.data.data.intetviewListCandidates[i].userId.toString(),
                                                                                                        reasons.text,
                                                                                                        remarks.text);
                                                                                                    if (reject_code == 200)
                                                                                                    {
                                                                                                      Navigator.pop(context);
                                                                                                      showDialog(
                                                                                                        context: context,
                                                                                                        barrierDismissible: false, // user must tap button for close dialog!
                                                                                                        builder: (BuildContext context) {

                                                                                                          return AlertDialog(
                                                                                                            //title: Text('Delete This Contact?'),
                                                                                                            shape: RoundedRectangleBorder(
                                                                                                                borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                                            insetPadding: EdgeInsets.zero,
                                                                                                            content: Container(
                                                                                                              width: double.infinity,
                                                                                                              //height: Wrap(),
                                                                                                              child: SingleChildScrollView(
                                                                                                                child: Column(
                                                                                                                  mainAxisSize: MainAxisSize.min,
                                                                                                                  children: [
                                                                                                                    Column(
                                                                                                                      children: [
                                                                                                                        Text(
                                                                                                                          " Rejected ${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()} successfully",
                                                                                                                          style: TextStyle(
                                                                                                                              fontWeight: FontWeight.bold, fontSize: 25),
                                                                                                                        ),

                                                                                                                        //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                                      ],
                                                                                                                    ),
                                                                                                                  ],
                                                                                                                ),
                                                                                                              ),
                                                                                                            ),
                                                                                                            actions: <Widget>[
                                                                                                              Center(
                                                                                                                child: Row(
                                                                                                                  mainAxisAlignment: MainAxisAlignment.center,
                                                                                                                  children: [
                                                                                                                    ElevatedButton(
                                                                                                                      style: ButtonStyle(
                                                                                                                          backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                                              Color.fromARGB(255, 59, 48, 214))),
                                                                                                                      child: Row(
                                                                                                                        children: [
                                                                                                                          Icon(Icons.check_circle_outline,color: Colors.white,size: 20,),
                                                                                                                          Text(
                                                                                                                            '  Okay',
                                                                                                                            style: TextStyle(
                                                                                                                              fontFamily: 'Candara',
                                                                                                                            ),
                                                                                                                          ),
                                                                                                                        ],
                                                                                                                      ),
                                                                                                                      onPressed: () async {
                                                                                                                        Navigator.pop(context);
                                                                                                                        Navigator.push(
                                                                                                                            context,
                                                                                                                            MaterialPageRoute(
                                                                                                                                builder: (context) => Dashboard()));


                                                                                                                      },
                                                                                                                    ),
                                                                                                                  ],
                                                                                                                ),
                                                                                                              ),
                                                                                                            ],
                                                                                                          );
                                                                                                        },
                                                                                                      );
                                                                                                    }

                                                                                                  }
                                                                                                },
                                                                                              ),
                                                                                              SizedBox(width: 20,),
                                                                                              ElevatedButton(
                                                                                                style: ButtonStyle(
                                                                                                    backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                        Color.fromARGB(255, 59, 48, 214))),
                                                                                                child: Text(
                                                                                                  'Cancel',
                                                                                                  style: TextStyle(
                                                                                                    fontFamily: 'Candara',
                                                                                                  ),
                                                                                                ),
                                                                                                onPressed: () {

                                                                                                  Navigator.pop(context);
                                                                                                },
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                      ],
                                                                                    );
                                                                                  },
                                                                                );
                                                                              },
                                                                              child: Card(
                                                                                color: Colors.redAccent,
                                                                                child: Padding(
                                                                                  padding: const EdgeInsets.all(5.0),
                                                                                  child: Row(
                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                    children: [
                                                                                      Icon(Icons.remove_circle_outline,color: Colors.white,size: 18,),
                                                                                      //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                      SizedBox(width: 5,),
                                                                                      Text("Reject",style: TextStyle(color: Colors.white,fontSize: 15),),
                                                                                    ],
                                                                                  ),
                                                                                ),
                                                                              )
                                                                          )


                                                                        ],
                                                                      ),

                                                                    ],
                                                                  ),
                                                                ),
                                                              ],
                                                            ),
                                                          ),
                                                        ),
                                                      ),
                                                      SizedBox(height: 10,)
                                                    ],
                                                  ),

                                              //notice filter
                                              if(_dropDownValueNot1!=""&&_dropDownValuectc==""&&_dropDownValueexp=="")
                                                for(var i=0;i<snapshot.data!.data.data.intetviewListCandidates.length;i++)
                                                  if("${snapshot.data!.data.data.intetviewListCandidates[i].notice} days" == _dropDownValueNot1)
                                                    Column(
                                                      children: [
                                                        GestureDetector(
                                                          onTap:(){
                                                            Navigator.push(
                                                                context, MaterialPageRoute(
                                                                builder: (context) => Candidate(snapshot.data!.data.data.intetviewListCandidates[i].userId.toString())));


                                                          },
                                                          child: Card(
                                                            elevation: 5,
                                                            shape: RoundedRectangleBorder(
                                                                borderRadius: BorderRadius.all(Radius.circular(10))),
                                                            child: Container(
                                                              padding: EdgeInsets.all(8),
                                                              child: Column(
                                                                children: [
                                                                  Row(
                                                                    mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                    crossAxisAlignment: CrossAxisAlignment.center,
                                                                    children: [
                                                                      Row(
                                                                        children: [
                                                                          Column(
                                                                            children: [
                                                                              Center(
                                                                                child: CircleAvatar(
                                                                                  backgroundColor: Colors.transparent,
                                                                                  backgroundImage: snapshot.data!.data.data.intetviewListCandidates[i].profileImage==null?
                                                                                  NetworkImage("http://kobl.ai/img/profile.png")
                                                                                      :             NetworkImage("${snapshot.data!.data.data.intetviewListCandidates[i].profileImage}")
                                                                                  ,
                                                                                  radius: 28,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height: 5,),
                                                                              RatingBarIndicator(
                                                                                rating: 2.75,
                                                                                itemBuilder: (context, index) => Icon(
                                                                                  Icons.star,
                                                                                  color: Colors.amber,
                                                                                ),
                                                                                itemCount: 5,
                                                                                itemSize: 15,
                                                                                direction: Axis.horizontal,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          SizedBox(width: 20,),
                                                                          Column(
                                                                            crossAxisAlignment: CrossAxisAlignment.start,
                                                                            children: [
                                                                              Text(
                                                                                "${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()}",
                                                                                style: TextStyle(
                                                                                  fontWeight: FontWeight.bold,
                                                                                  fontFamily: 'Candara',
                                                                                  fontSize: 18,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height:5),
                                                                              Text(
                                                                                  '${snapshot.data!.data.data.intetviewListCandidates[i].designation.toString()}',
                                                                                  style: TextStyle(

                                                                                    fontFamily: 'Candara',
                                                                                    color: Colors.blue,
                                                                                    fontSize: 15,
                                                                                  ),
                                                                                  maxLines: 5,
                                                                                  overflow: TextOverflow.ellipsis),

                                                                              SizedBox(
                                                                                height: 10,
                                                                              ),
                                                                              if(snapshot.data!.data.data.intetviewListCandidates[i].notice.toString()!="0")
                                                                                Text("Notice : ${snapshot.data!.data.data.intetviewListCandidates[i].notice.toString()} days",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                              if(snapshot.data!.data.data.intetviewListCandidates[i].notice.toString()=="0")
                                                                                Text("Notice : Immediate",style: TextStyle(fontFamily: "Candara",fontSize: 14 ),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                              SizedBox(height: 5,),
                                                                              Row(
                                                                                children: [
                                                                                  Text("CTC : ${snapshot.data!.data.data.intetviewListCandidates[i].ctc.toString()} LPA",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                  if(snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()!="1")
                                                                                    Text("     Exp : ${snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()} yrs",style: TextStyle(fontFamily: "Candara",fontSize: 14,),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                  if(snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()=="1")
                                                                                    Text("     Exp : ${snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()} yr",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),

                                                                                ],
                                                                              ),
                                                                              SizedBox(
                                                                                height: 5,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ],
                                                                      ),
                                                                      Icon(Icons.arrow_forward_ios_outlined,color: Colors.orangeAccent,size: 20,),
                                                                    ],
                                                                  ),
                                                                  Container(
                                                                    //height: 100,
                                                                    padding: EdgeInsets.only(left: 10, right: 10, top: 10,bottom: 10),
                                                                    child: Column(
                                                                      crossAxisAlignment: CrossAxisAlignment.start,
                                                                      children: <Widget>[
                                                                        GridView.count(
                                                                          shrinkWrap: true,
                                                                          childAspectRatio: 3.5,
                                                                          crossAxisSpacing:3,
                                                                          mainAxisSpacing: 3,
                                                                          crossAxisCount: 2,
                                                                          children: <Widget>[

                                                                            GestureDetector(
                                                                                onTap: () {

                                                                                  showDialog(
                                                                                    context: context,
                                                                                    barrierDismissible: false, // user must tap button for close dialog!
                                                                                    builder: (BuildContext context) {

                                                                                      String? _character="Video";
                                                                                      isSelected1[e]=true;
                                                                                      List<String> drop=[];
                                                                                      for(var i=0;i<snapshot.data!.data.data.stages.length-1;i++)
                                                                                      {
                                                                                        drop.add(snapshot.data!.data.data.stages[i].key.toString());
                                                                                      }


                                                                                      return AlertDialog(
                                                                                        //title: Text('Delete This Contact?'),
                                                                                        shape: RoundedRectangleBorder(
                                                                                            borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                        insetPadding: EdgeInsets.zero,
                                                                                        content: Container(
                                                                                          width: double.infinity,
                                                                                          //height: Wrap(),
                                                                                          child: SingleChildScrollView(
                                                                                            child: Column(
                                                                                              mainAxisSize: MainAxisSize.min,
                                                                                              children: [
                                                                                                Column(
                                                                                                  children: [
                                                                                                    Row(
                                                                                                      children: [
                                                                                                        GestureDetector(
                                                                                                          onTap: (){
                                                                                                            Navigator.pop(context);
                                                                                                          },
                                                                                                          child: Icon(
                                                                                                            Icons.arrow_back_ios,
                                                                                                            color: Colors.black,
                                                                                                            size: 25,
                                                                                                          ),
                                                                                                        ),
                                                                                                        Text(
                                                                                                          " Schedule an Interview    ",
                                                                                                          style: TextStyle(
                                                                                                              fontWeight: FontWeight.bold, fontSize: 25),
                                                                                                        )
                                                                                                      ],
                                                                                                    ),
                                                                                                    SizedBox(
                                                                                                      height: 20,
                                                                                                    ),
                                                                                                    Form(
                                                                                                        key: _formKey,
                                                                                                        child: Column(
                                                                                                          mainAxisSize: MainAxisSize.max,
                                                                                                          crossAxisAlignment: CrossAxisAlignment.stretch,
                                                                                                          children: <Widget>[
                                                                                                            Text(
                                                                                                              "  Select Round",
                                                                                                              style: TextStyle(
                                                                                                                color: Colors.grey,
                                                                                                                fontFamily: 'Candara',
                                                                                                              ),
                                                                                                            ),

                                                                                                            FormField<String>(
                                                                                                              builder: (FormFieldState<String> state) {
                                                                                                                String _currentSelectedValue='';
                                                                                                                return Container(
                                                                                                                  height: 60,
                                                                                                                  padding: EdgeInsets.only(left: 0,right: 0),
                                                                                                                  child: InputDecorator(
                                                                                                                    decoration: InputDecoration(
                                                                                                                      //labelText: 'CLASS',
                                                                                                                        prefixIcon: Icon(Icons.leaderboard,color: Colors.grey),
                                                                                                                        labelStyle: TextStyle(fontFamily: "Candara"),
                                                                                                                        errorStyle: TextStyle(fontFamily:"Candara",color: Colors.redAccent, fontSize: 16.0),
                                                                                                                        //hintText: 'Please select expense',
                                                                                                                        enabledBorder:OutlineInputBorder(
                                                                                                                            borderSide: const BorderSide(color: Colors.grey, width: 2.0),
                                                                                                                            borderRadius: BorderRadius.circular(15)),
                                                                                                                        focusedBorder: OutlineInputBorder(
                                                                                                                            borderSide: const BorderSide(color: Colors.orangeAccent,width: 2.0),
                                                                                                                            borderRadius: BorderRadius.circular(15)
                                                                                                                        )),
                                                                                                                    //border: OutlineInputBorder(borderRadius: BorderRadius.circular(5.0))),
                                                                                                                    isEmpty: _currentSelectedValue == '',
                                                                                                                    child: DropdownButtonHideUnderline(
                                                                                                                        child: DropdownButton(
                                                                                                                          menuMaxHeight: 200,
                                                                                                                          hint: _dropDownValue == null
                                                                                                                              ? Text('Dropdown')
                                                                                                                              : Text(
                                                                                                                            _dropDownValue,
                                                                                                                            style: TextStyle(fontFamily: "Candara",color: Colors.black,fontSize: 16),
                                                                                                                          ),
                                                                                                                          isExpanded: false,
                                                                                                                          iconSize: 30.0,
                                                                                                                          style: TextStyle(color: Colors.black),
                                                                                                                          items: drop.map(
                                                                                                                                (val) {
                                                                                                                              return DropdownMenuItem<String>(
                                                                                                                                value: val,
                                                                                                                                child: Text(val),
                                                                                                                              );
                                                                                                                            },
                                                                                                                          ).toList(),
                                                                                                                          onChanged: (String? val) {
                                                                                                                            setState(() {
                                                                                                                              _dropDownValue = val!;
                                                                                                                            });

                                                                                                                            (context as Element).markNeedsBuild();

                                                                                                                          },
                                                                                                                        )
                                                                                                                    ),
                                                                                                                  ),
                                                                                                                );
                                                                                                              },
                                                                                                            ),
                                                                                                            SizedBox(height: 20),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (dateController.text.isEmpty) return 'Enter date from list';
                                                                                                                },
                                                                                                                controller: dateController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  prefixIcon: GestureDetector(
                                                                                                                      onTap: (){
                                                                                                                        _selectDate(context);
                                                                                                                      },
                                                                                                                      child: Icon(Icons.date_range,color: Colors.grey,)),
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter Date',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Please select time';
                                                                                                                },
                                                                                                                controller: timeController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  prefixIcon: GestureDetector(
                                                                                                                      onTap: (){
                                                                                                                        _selectTime(context);
                                                                                                                      },
                                                                                                                      child: Icon(Icons.access_time,color: Colors.grey,)),
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Select time',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20,),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Enter Interviewer Name';
                                                                                                                },
                                                                                                                controller: intnameController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter interviewer name',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Enter interviewer E-mail';
                                                                                                                },
                                                                                                                controller: intmailController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Interviewer E-mail ',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  prefixIcon: Icon(Icons.mail_outline, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(
                                                                                                              height: 20,
                                                                                                            ),
                                                                                                            Center(
                                                                                                              child: SingleChildScrollView(
                                                                                                                scrollDirection: Axis.horizontal,
                                                                                                                child: Center(
                                                                                                                  child: ToggleButtons(
                                                                                                                    children: <Widget>[
                                                                                                                      Text("  Video  ",
                                                                                                                          style: TextStyle(
                                                                                                                            fontSize: 20,
                                                                                                                            fontFamily: "Candara",
                                                                                                                          )),
                                                                                                                      Text("  Phone  ",
                                                                                                                          style: TextStyle(
                                                                                                                            fontSize: 20,
                                                                                                                            fontFamily: "Candara",
                                                                                                                          )),

                                                                                                                    ],
                                                                                                                    selectedBorderColor: Colors.blue[800],
                                                                                                                    selectedColor: Colors.white,
                                                                                                                    borderColor: Colors.blue,
                                                                                                                    borderRadius: BorderRadius.circular(10),
                                                                                                                    disabledColor: Colors.transparent,
                                                                                                                    disabledBorderColor: Colors.transparent,
                                                                                                                    focusColor: Colors.blue[800],
                                                                                                                    fillColor: Colors.blue[800],
                                                                                                                    onPressed: (int index) {
                                                                                                                      setState(() {
                                                                                                                        e=index;
                                                                                                                        for (int buttonIndex = 0;
                                                                                                                        buttonIndex < isSelected1.length;
                                                                                                                        buttonIndex++) {
                                                                                                                          if (buttonIndex == index) {
                                                                                                                            isSelected1[buttonIndex] = true;
                                                                                                                          } else {
                                                                                                                            isSelected1[buttonIndex] = false;
                                                                                                                          }

                                                                                                                        }


                                                                                                                      });
                                                                                                                      (context as Element).markNeedsBuild();
                                                                                                                    },
                                                                                                                    isSelected: isSelected1,
                                                                                                                  ),
                                                                                                                ),
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20,),
                                                                                                            if(e==0)
                                                                                                              Container(
                                                                                                                //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                                child: TextFormField(
                                                                                                                  //readOnly: true,
                                                                                                                  validator: (input) {
                                                                                                                    if (input!.isEmpty && e==0) return 'Please enter meetlink';
                                                                                                                  },
                                                                                                                  controller: meetlink,
                                                                                                                  decoration: InputDecoration(
                                                                                                                    prefixIcon: Icon(Icons.video_call,color: Colors.grey,),
                                                                                                                    //fillColor: Colors.white,
                                                                                                                    enabledBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.grey, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    focusedBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.orangeAccent, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    labelText: 'Enter meet link',
                                                                                                                    labelStyle: TextStyle(
                                                                                                                        fontFamily: "Candara", color: Colors.grey),
                                                                                                                    //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                    fillColor: Colors.grey,
                                                                                                                    focusColor: Colors.orangeAccent,
                                                                                                                  ),
                                                                                                                  // onSaved: (input) => _name = input!
                                                                                                                ),
                                                                                                              ),
                                                                                                            if(e==1)
                                                                                                              Container(
                                                                                                                //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                                child: TextFormField(
                                                                                                                  //readOnly: true,
                                                                                                                  validator: (input) {
                                                                                                                    if (input!.isEmpty && e==1) return 'Please enter phone';
                                                                                                                  },
                                                                                                                  controller: phonelink,
                                                                                                                  keyboardType: TextInputType.phone,
                                                                                                                  decoration: InputDecoration(
                                                                                                                    prefixIcon: Icon(Icons.phone,color: Colors.grey,),
                                                                                                                    //fillColor: Colors.white,
                                                                                                                    enabledBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.grey, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    focusedBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.orangeAccent, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    labelText: 'Enter phone no.',
                                                                                                                    labelStyle: TextStyle(
                                                                                                                        fontFamily: "Candara", color: Colors.grey),
                                                                                                                    //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                    fillColor: Colors.grey,
                                                                                                                    focusColor: Colors.orangeAccent,
                                                                                                                  ),
                                                                                                                  // onSaved: (input) => _name = input!
                                                                                                                ),
                                                                                                              ),
                                                                                                            SizedBox(
                                                                                                              height: 15,
                                                                                                            ),
                                                                                                            Container(
                                                                                                              height: 160,
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                expands: true,
                                                                                                                maxLines: null,

                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Add comments';
                                                                                                                },
                                                                                                                controller: comments,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),

                                                                                                                  labelText: 'Add comments',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                          ],
                                                                                                        )),


                                                                                                    //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                  ],
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ),
                                                                                        actions: <Widget>[
                                                                                          Center(
                                                                                            child: Row(
                                                                                              mainAxisAlignment: MainAxisAlignment.center,
                                                                                              children: [
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Row(
                                                                                                    children: [
                                                                                                      Icon(Icons.access_time,color: Colors.white,size: 20,),
                                                                                                      Text(
                                                                                                        '  Schedule',
                                                                                                        style: TextStyle(
                                                                                                          fontFamily: 'Candara',
                                                                                                        ),
                                                                                                      ),
                                                                                                    ],
                                                                                                  ),
                                                                                                  onPressed: () async {
                                                                                                    if(_formKey.currentState!.validate()&& _dropDownValue!="")
                                                                                                    {
                                                                                                      String date= dateController.text;
                                                                                                      String time= timeController.text;
                                                                                                      String link;
                                                                                                      String commet= comments.text;
                                                                                                      String type;
                                                                                                      if(e==0) {
                                                                                                        type = "Video";
                                                                                                        link=meetlink.text;
                                                                                                      }
                                                                                                      else
                                                                                                      {
                                                                                                        type="Audio";
                                                                                                        link=phonelink.text;
                                                                                                      }


                                                                                                      Interview log = await INTERVIEWapi(snapshot.data!.data.data.intetviewListCandidates[i].userId.toString(),_dropDownValue,intnameController.text,intmailController.text,type,date,time,link,commet);

                                                                                                      if(interview_code==200) {
                                                                                                        Navigator.pop(context);
                                                                                                        final Future<ConfirmAction7?> action =
                                                                                                        await _asyncConfirmDialog7(context, "${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()}");
                                                                                                      }

                                                                                                      if(interview_code==401){
                                                                                                        Navigator.pop(context);
                                                                                                        showDialog<String>(
                                                                                                            context: context,
                                                                                                            builder: (BuildContext context) => AlertDialog(
                                                                                                              title: const Text("Try Again"),
                                                                                                              content: const Text("Couldn't schedule interview"),
                                                                                                              actions: <Widget>[
                                                                                                                TextButton(
                                                                                                                    onPressed: () => Navigator.pop(context, 'OK'),
                                                                                                                    child: const Text('OK',style: TextStyle(color: Colors.teal))
                                                                                                                ),
                                                                                                              ],
                                                                                                            ));
                                                                                                      }
                                                                                                    }


                                                                                                  },
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ],
                                                                                      );
                                                                                    },
                                                                                  );


                                                                                },
                                                                                child: Card(
                                                                                  color: Colors.blue.shade200,
                                                                                  child: Padding(
                                                                                    padding: const EdgeInsets.all(5.0),
                                                                                    child: Row(
                                                                                      mainAxisAlignment: MainAxisAlignment.center,
                                                                                      children: [
                                                                                        Icon(Icons.upgrade,color:Colors.white,size: 18,),
                                                                                        //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                        SizedBox(width: 5,),
                                                                                        Text("Move next round",style: TextStyle(color: Colors.white,fontSize: 14),),
                                                                                      ],
                                                                                    ),
                                                                                  ),
                                                                                )
                                                                            ),
                                                                            GestureDetector(
                                                                                onTap: () {
                                                                                  showDialog(
                                                                                    context: context,
                                                                                    barrierDismissible: false, // user must tap button for close dialog!
                                                                                    builder: (BuildContext context) {
                                                                                      remarks=TextEditingController();
                                                                                      reasons=TextEditingController();
                                                                                      return AlertDialog(
                                                                                        //title: Text('Delete This Contact?'),
                                                                                        shape: RoundedRectangleBorder(
                                                                                            borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                        title: Center(
                                                                                          child: Text(
                                                                                            "Reject ${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()}?",
                                                                                            style: TextStyle(
                                                                                                fontWeight: FontWeight.bold,
                                                                                                fontFamily: 'Candara',
                                                                                                color: Colors.blue[800]),
                                                                                          ),
                                                                                        ),
                                                                                        content: Container(
                                                                                          width: double.infinity,
                                                                                          //height: Wrap(),
                                                                                          child: Column(
                                                                                            mainAxisSize: MainAxisSize.min,
                                                                                            children: [
                                                                                              SizedBox(
                                                                                                height: 20,
                                                                                              ),
                                                                                              Form(
                                                                                                  key: _formKey2,
                                                                                                  child: Column(
                                                                                                    mainAxisSize: MainAxisSize.max,
                                                                                                    crossAxisAlignment: CrossAxisAlignment.stretch,
                                                                                                    children: <Widget>[

                                                                                                      Container(
                                                                                                        //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                        child: TextFormField(
                                                                                                          keyboardType: TextInputType.number,
                                                                                                          validator: (input) {
                                                                                                            if (dateController.text.isEmpty) return ' Enter Reasons';
                                                                                                          },
                                                                                                          controller: reasons,
                                                                                                          decoration: InputDecoration(
                                                                                                            //fillColor: Colors.white,
                                                                                                            prefixIcon: Icon(Icons.question_mark,color: Colors.grey,),
                                                                                                            enabledBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.grey, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),
                                                                                                            focusedBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.orangeAccent, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),
                                                                                                            labelText: 'Enter Reason',
                                                                                                            labelStyle: TextStyle(
                                                                                                                fontFamily: "Candara", color: Colors.grey),
                                                                                                            //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                            fillColor: Colors.grey,
                                                                                                            focusColor: Colors.orangeAccent,
                                                                                                          ),
                                                                                                          // onSaved: (input) => _name = input!
                                                                                                        ),
                                                                                                      ),
                                                                                                      SizedBox(height: 20),
                                                                                                      Container(
                                                                                                        height: 160,
                                                                                                        //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                        child: TextFormField(
                                                                                                          expands: true,
                                                                                                          maxLines: null,

                                                                                                          validator: (input) {
                                                                                                            if (input!.isEmpty) return 'Add Remarks';
                                                                                                          },
                                                                                                          controller: remarks,
                                                                                                          decoration: InputDecoration(
                                                                                                            //fillColor: Colors.white,
                                                                                                            enabledBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.grey, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),
                                                                                                            focusedBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.orangeAccent, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),

                                                                                                            labelText: 'Add Remarks',
                                                                                                            labelStyle: TextStyle(
                                                                                                                fontFamily: "Candara", color: Colors.grey),
                                                                                                            //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                            fillColor: Colors.grey,
                                                                                                            focusColor: Colors.orangeAccent,
                                                                                                          ),
                                                                                                          // onSaved: (input) => _name = input!
                                                                                                        ),
                                                                                                      ),


                                                                                                    ],
                                                                                                  )),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                        actions: <Widget>[
                                                                                          Center(
                                                                                            child: Row(
                                                                                              mainAxisAlignment: MainAxisAlignment.center,
                                                                                              children: [
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Text(
                                                                                                    'Reject',
                                                                                                    style: TextStyle(
                                                                                                      fontFamily: 'Candara',
                                                                                                    ),
                                                                                                  ),
                                                                                                  onPressed: () async{
                                                                                                    if(_formKey2.currentState!.validate()) {
                                                                                                      Shortlist c = await rejectapi(
                                                                                                          snapshot.data!.data.data.intetviewListCandidates[i].userId.toString(),
                                                                                                          reasons.text,
                                                                                                          remarks.text);
                                                                                                      if (reject_code == 200)
                                                                                                      {
                                                                                                        Navigator.pop(context);
                                                                                                        showDialog(
                                                                                                          context: context,
                                                                                                          barrierDismissible: false, // user must tap button for close dialog!
                                                                                                          builder: (BuildContext context) {

                                                                                                            return AlertDialog(
                                                                                                              //title: Text('Delete This Contact?'),
                                                                                                              shape: RoundedRectangleBorder(
                                                                                                                  borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                                              insetPadding: EdgeInsets.zero,
                                                                                                              content: Container(
                                                                                                                width: double.infinity,
                                                                                                                //height: Wrap(),
                                                                                                                child: SingleChildScrollView(
                                                                                                                  child: Column(
                                                                                                                    mainAxisSize: MainAxisSize.min,
                                                                                                                    children: [
                                                                                                                      Column(
                                                                                                                        children: [
                                                                                                                          Text(
                                                                                                                            " Rejected ${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()} successfully",
                                                                                                                            style: TextStyle(
                                                                                                                                fontWeight: FontWeight.bold, fontSize: 25),
                                                                                                                          ),

                                                                                                                          //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                                        ],
                                                                                                                      ),
                                                                                                                    ],
                                                                                                                  ),
                                                                                                                ),
                                                                                                              ),
                                                                                                              actions: <Widget>[
                                                                                                                Center(
                                                                                                                  child: Row(
                                                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                                                    children: [
                                                                                                                      ElevatedButton(
                                                                                                                        style: ButtonStyle(
                                                                                                                            backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                                                Color.fromARGB(255, 59, 48, 214))),
                                                                                                                        child: Row(
                                                                                                                          children: [
                                                                                                                            Icon(Icons.check_circle_outline,color: Colors.white,size: 20,),
                                                                                                                            Text(
                                                                                                                              '  Okay',
                                                                                                                              style: TextStyle(
                                                                                                                                fontFamily: 'Candara',
                                                                                                                              ),
                                                                                                                            ),
                                                                                                                          ],
                                                                                                                        ),
                                                                                                                        onPressed: () async {
                                                                                                                          Navigator.pop(context);
                                                                                                                          Navigator.push(
                                                                                                                              context,
                                                                                                                              MaterialPageRoute(
                                                                                                                                  builder: (context) => Dashboard()));


                                                                                                                        },
                                                                                                                      ),
                                                                                                                    ],
                                                                                                                  ),
                                                                                                                ),
                                                                                                              ],
                                                                                                            );
                                                                                                          },
                                                                                                        );
                                                                                                      }

                                                                                                    }
                                                                                                  },
                                                                                                ),
                                                                                                SizedBox(width: 20,),
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Text(
                                                                                                    'Cancel',
                                                                                                    style: TextStyle(
                                                                                                      fontFamily: 'Candara',
                                                                                                    ),
                                                                                                  ),
                                                                                                  onPressed: () {

                                                                                                    Navigator.pop(context);
                                                                                                  },
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ],
                                                                                      );
                                                                                    },
                                                                                  );
                                                                                },
                                                                                child: Card(
                                                                                  color: Colors.redAccent,
                                                                                  child: Padding(
                                                                                    padding: const EdgeInsets.all(5.0),
                                                                                    child: Row(
                                                                                      mainAxisAlignment: MainAxisAlignment.center,
                                                                                      children: [
                                                                                        Icon(Icons.remove_circle_outline,color: Colors.white,size: 18,),
                                                                                        //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                        SizedBox(width: 5,),
                                                                                        Text("Reject",style: TextStyle(color: Colors.white,fontSize: 15),),
                                                                                      ],
                                                                                    ),
                                                                                  ),
                                                                                )
                                                                            )


                                                                          ],
                                                                        ),

                                                                      ],
                                                                    ),
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                          ),
                                                        ),
                                                        SizedBox(height: 10,)
                                                      ],
                                                    ),


                                              //ctcfilter
                                              if(_dropDownValueNot1==""&&_dropDownValuectc!=""&&_dropDownValueexp=="")
                                                for(var i=0;i<snapshot.data!.data.data.intetviewListCandidates.length;i++)
                                                  if("${snapshot.data!.data.data.intetviewListCandidates[i].ctc} LPA" == _dropDownValuectc)
                                                    Column(
                                                      children: [
                                                        GestureDetector(
                                                          onTap:(){
                                                            Navigator.push(
                                                                context, MaterialPageRoute(
                                                                builder: (context) => Candidate(snapshot.data!.data.data.intetviewListCandidates[i].userId.toString())));


                                                          },
                                                          child: Card(
                                                            elevation: 5,
                                                            shape: RoundedRectangleBorder(
                                                                borderRadius: BorderRadius.all(Radius.circular(10))),
                                                            child: Container(
                                                              padding: EdgeInsets.all(8),
                                                              child: Column(
                                                                children: [
                                                                  Row(
                                                                    mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                    crossAxisAlignment: CrossAxisAlignment.center,
                                                                    children: [
                                                                      Row(
                                                                        children: [
                                                                          Column(
                                                                            children: [
                                                                              Center(
                                                                                child: CircleAvatar(
                                                                                  backgroundColor: Colors.transparent,
                                                                                  backgroundImage: snapshot.data!.data.data.intetviewListCandidates[i].profileImage==null?
                                                                                  NetworkImage("http://kobl.ai/img/profile.png")
                                                                                      :             NetworkImage("${snapshot.data!.data.data.intetviewListCandidates[i].profileImage}")
                                                                                  ,
                                                                                  radius: 28,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height: 5,),
                                                                              RatingBarIndicator(
                                                                                rating: 2.75,
                                                                                itemBuilder: (context, index) => Icon(
                                                                                  Icons.star,
                                                                                  color: Colors.amber,
                                                                                ),
                                                                                itemCount: 5,
                                                                                itemSize: 15,
                                                                                direction: Axis.horizontal,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          SizedBox(width: 20,),
                                                                          Column(
                                                                            crossAxisAlignment: CrossAxisAlignment.start,
                                                                            children: [
                                                                              Text(
                                                                                "${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()}",
                                                                                style: TextStyle(
                                                                                  fontWeight: FontWeight.bold,
                                                                                  fontFamily: 'Candara',
                                                                                  fontSize: 18,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height:5),
                                                                              Text(
                                                                                  '${snapshot.data!.data.data.intetviewListCandidates[i].designation.toString()}',
                                                                                  style: TextStyle(

                                                                                    fontFamily: 'Candara',
                                                                                    color: Colors.blue,
                                                                                    fontSize: 15,
                                                                                  ),
                                                                                  maxLines: 5,
                                                                                  overflow: TextOverflow.ellipsis),

                                                                              SizedBox(
                                                                                height: 10,
                                                                              ),
                                                                              if(snapshot.data!.data.data.intetviewListCandidates[i].notice.toString()!="0")
                                                                                Text("Notice : ${snapshot.data!.data.data.intetviewListCandidates[i].notice.toString()} days",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                              if(snapshot.data!.data.data.intetviewListCandidates[i].notice.toString()=="0")
                                                                                Text("Notice : Immediate",style: TextStyle(fontFamily: "Candara",fontSize: 14 ),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                              SizedBox(height: 5,),
                                                                              Row(
                                                                                children: [
                                                                                  Text("CTC : ${snapshot.data!.data.data.intetviewListCandidates[i].ctc.toString()} LPA",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                  if(snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()!="1")
                                                                                    Text("     Exp : ${snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()} yrs",style: TextStyle(fontFamily: "Candara",fontSize: 14,),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                  if(snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()=="1")
                                                                                    Text("     Exp : ${snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()} yr",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),

                                                                                ],
                                                                              ),
                                                                              SizedBox(
                                                                                height: 5,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ],
                                                                      ),
                                                                      Icon(Icons.arrow_forward_ios_outlined,color: Colors.orangeAccent,size: 20,),
                                                                    ],
                                                                  ),
                                                                  Container(
                                                                    //height: 100,
                                                                    padding: EdgeInsets.only(left: 10, right: 10, top: 10,bottom: 10),
                                                                    child: Column(
                                                                      crossAxisAlignment: CrossAxisAlignment.start,
                                                                      children: <Widget>[
                                                                        GridView.count(
                                                                          shrinkWrap: true,
                                                                          childAspectRatio: 3.5,
                                                                          crossAxisSpacing:3,
                                                                          mainAxisSpacing: 3,
                                                                          crossAxisCount: 2,
                                                                          children: <Widget>[

                                                                            GestureDetector(
                                                                                onTap: () {

                                                                                  showDialog(
                                                                                    context: context,
                                                                                    barrierDismissible: false, // user must tap button for close dialog!
                                                                                    builder: (BuildContext context) {

                                                                                      String? _character="Video";
                                                                                      isSelected1[e]=true;
                                                                                      List<String> drop=[];
                                                                                      for(var i=0;i<snapshot.data!.data.data.stages.length-1;i++)
                                                                                      {
                                                                                        drop.add(snapshot.data!.data.data.stages[i].key.toString());
                                                                                      }


                                                                                      return AlertDialog(
                                                                                        //title: Text('Delete This Contact?'),
                                                                                        shape: RoundedRectangleBorder(
                                                                                            borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                        insetPadding: EdgeInsets.zero,
                                                                                        content: Container(
                                                                                          width: double.infinity,
                                                                                          //height: Wrap(),
                                                                                          child: SingleChildScrollView(
                                                                                            child: Column(
                                                                                              mainAxisSize: MainAxisSize.min,
                                                                                              children: [
                                                                                                Column(
                                                                                                  children: [
                                                                                                    Row(
                                                                                                      children: [
                                                                                                        GestureDetector(
                                                                                                          onTap: (){
                                                                                                            Navigator.pop(context);
                                                                                                          },
                                                                                                          child: Icon(
                                                                                                            Icons.arrow_back_ios,
                                                                                                            color: Colors.black,
                                                                                                            size: 25,
                                                                                                          ),
                                                                                                        ),
                                                                                                        Text(
                                                                                                          " Schedule an Interview    ",
                                                                                                          style: TextStyle(
                                                                                                              fontWeight: FontWeight.bold, fontSize: 25),
                                                                                                        )
                                                                                                      ],
                                                                                                    ),
                                                                                                    SizedBox(
                                                                                                      height: 20,
                                                                                                    ),
                                                                                                    Form(
                                                                                                        key: _formKey,
                                                                                                        child: Column(
                                                                                                          mainAxisSize: MainAxisSize.max,
                                                                                                          crossAxisAlignment: CrossAxisAlignment.stretch,
                                                                                                          children: <Widget>[
                                                                                                            Text(
                                                                                                              "  Select Round",
                                                                                                              style: TextStyle(
                                                                                                                color: Colors.grey,
                                                                                                                fontFamily: 'Candara',
                                                                                                              ),
                                                                                                            ),

                                                                                                            FormField<String>(
                                                                                                              builder: (FormFieldState<String> state) {
                                                                                                                String _currentSelectedValue='';
                                                                                                                return Container(
                                                                                                                  height: 60,
                                                                                                                  padding: EdgeInsets.only(left: 0,right: 0),
                                                                                                                  child: InputDecorator(
                                                                                                                    decoration: InputDecoration(
                                                                                                                      //labelText: 'CLASS',
                                                                                                                        prefixIcon: Icon(Icons.leaderboard,color: Colors.grey),
                                                                                                                        labelStyle: TextStyle(fontFamily: "Candara"),
                                                                                                                        errorStyle: TextStyle(fontFamily:"Candara",color: Colors.redAccent, fontSize: 16.0),
                                                                                                                        //hintText: 'Please select expense',
                                                                                                                        enabledBorder:OutlineInputBorder(
                                                                                                                            borderSide: const BorderSide(color: Colors.grey, width: 2.0),
                                                                                                                            borderRadius: BorderRadius.circular(15)),
                                                                                                                        focusedBorder: OutlineInputBorder(
                                                                                                                            borderSide: const BorderSide(color: Colors.orangeAccent,width: 2.0),
                                                                                                                            borderRadius: BorderRadius.circular(15)
                                                                                                                        )),
                                                                                                                    //border: OutlineInputBorder(borderRadius: BorderRadius.circular(5.0))),
                                                                                                                    isEmpty: _currentSelectedValue == '',
                                                                                                                    child: DropdownButtonHideUnderline(
                                                                                                                        child: DropdownButton(
                                                                                                                          menuMaxHeight: 200,
                                                                                                                          hint: _dropDownValue == null
                                                                                                                              ? Text('Dropdown')
                                                                                                                              : Text(
                                                                                                                            _dropDownValue,
                                                                                                                            style: TextStyle(fontFamily: "Candara",color: Colors.black,fontSize: 16),
                                                                                                                          ),
                                                                                                                          isExpanded: false,
                                                                                                                          iconSize: 30.0,
                                                                                                                          style: TextStyle(color: Colors.black),
                                                                                                                          items: drop.map(
                                                                                                                                (val) {
                                                                                                                              return DropdownMenuItem<String>(
                                                                                                                                value: val,
                                                                                                                                child: Text(val),
                                                                                                                              );
                                                                                                                            },
                                                                                                                          ).toList(),
                                                                                                                          onChanged: (String? val) {
                                                                                                                            setState(() {
                                                                                                                              _dropDownValue = val!;
                                                                                                                            });

                                                                                                                            (context as Element).markNeedsBuild();

                                                                                                                          },
                                                                                                                        )
                                                                                                                    ),
                                                                                                                  ),
                                                                                                                );
                                                                                                              },
                                                                                                            ),
                                                                                                            SizedBox(height: 20),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (dateController.text.isEmpty) return 'Enter date from list';
                                                                                                                },
                                                                                                                controller: dateController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  prefixIcon: GestureDetector(
                                                                                                                      onTap: (){
                                                                                                                        _selectDate(context);
                                                                                                                      },
                                                                                                                      child: Icon(Icons.date_range,color: Colors.grey,)),
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter Date',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Please select time';
                                                                                                                },
                                                                                                                controller: timeController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  prefixIcon: GestureDetector(
                                                                                                                      onTap: (){
                                                                                                                        _selectTime(context);
                                                                                                                      },
                                                                                                                      child: Icon(Icons.access_time,color: Colors.grey,)),
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Select time',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20,),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Enter Interviewer Name';
                                                                                                                },
                                                                                                                controller: intnameController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter interviewer name',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Enter interviewer E-mail';
                                                                                                                },
                                                                                                                controller: intmailController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Interviewer E-mail ',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  prefixIcon: Icon(Icons.mail_outline, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(
                                                                                                              height: 20,
                                                                                                            ),
                                                                                                            Center(
                                                                                                              child: SingleChildScrollView(
                                                                                                                scrollDirection: Axis.horizontal,
                                                                                                                child: Center(
                                                                                                                  child: ToggleButtons(
                                                                                                                    children: <Widget>[
                                                                                                                      Text("  Video  ",
                                                                                                                          style: TextStyle(
                                                                                                                            fontSize: 20,
                                                                                                                            fontFamily: "Candara",
                                                                                                                          )),
                                                                                                                      Text("  Phone  ",
                                                                                                                          style: TextStyle(
                                                                                                                            fontSize: 20,
                                                                                                                            fontFamily: "Candara",
                                                                                                                          )),

                                                                                                                    ],
                                                                                                                    selectedBorderColor: Colors.blue[800],
                                                                                                                    selectedColor: Colors.white,
                                                                                                                    borderColor: Colors.blue,
                                                                                                                    borderRadius: BorderRadius.circular(10),
                                                                                                                    disabledColor: Colors.transparent,
                                                                                                                    disabledBorderColor: Colors.transparent,
                                                                                                                    focusColor: Colors.blue[800],
                                                                                                                    fillColor: Colors.blue[800],
                                                                                                                    onPressed: (int index) {
                                                                                                                      setState(() {
                                                                                                                        e=index;
                                                                                                                        for (int buttonIndex = 0;
                                                                                                                        buttonIndex < isSelected1.length;
                                                                                                                        buttonIndex++) {
                                                                                                                          if (buttonIndex == index) {
                                                                                                                            isSelected1[buttonIndex] = true;
                                                                                                                          } else {
                                                                                                                            isSelected1[buttonIndex] = false;
                                                                                                                          }

                                                                                                                        }


                                                                                                                      });
                                                                                                                      (context as Element).markNeedsBuild();
                                                                                                                    },
                                                                                                                    isSelected: isSelected1,
                                                                                                                  ),
                                                                                                                ),
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20,),
                                                                                                            if(e==0)
                                                                                                              Container(
                                                                                                                //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                                child: TextFormField(
                                                                                                                  //readOnly: true,
                                                                                                                  validator: (input) {
                                                                                                                    if (input!.isEmpty && e==0) return 'Please enter meetlink';
                                                                                                                  },
                                                                                                                  controller: meetlink,
                                                                                                                  decoration: InputDecoration(
                                                                                                                    prefixIcon: Icon(Icons.video_call,color: Colors.grey,),
                                                                                                                    //fillColor: Colors.white,
                                                                                                                    enabledBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.grey, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    focusedBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.orangeAccent, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    labelText: 'Enter meet link',
                                                                                                                    labelStyle: TextStyle(
                                                                                                                        fontFamily: "Candara", color: Colors.grey),
                                                                                                                    //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                    fillColor: Colors.grey,
                                                                                                                    focusColor: Colors.orangeAccent,
                                                                                                                  ),
                                                                                                                  // onSaved: (input) => _name = input!
                                                                                                                ),
                                                                                                              ),
                                                                                                            if(e==1)
                                                                                                              Container(
                                                                                                                //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                                child: TextFormField(
                                                                                                                  //readOnly: true,
                                                                                                                  validator: (input) {
                                                                                                                    if (input!.isEmpty && e==1) return 'Please enter phone';
                                                                                                                  },
                                                                                                                  controller: phonelink,
                                                                                                                  keyboardType: TextInputType.phone,
                                                                                                                  decoration: InputDecoration(
                                                                                                                    prefixIcon: Icon(Icons.phone,color: Colors.grey,),
                                                                                                                    //fillColor: Colors.white,
                                                                                                                    enabledBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.grey, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    focusedBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.orangeAccent, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    labelText: 'Enter phone no.',
                                                                                                                    labelStyle: TextStyle(
                                                                                                                        fontFamily: "Candara", color: Colors.grey),
                                                                                                                    //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                    fillColor: Colors.grey,
                                                                                                                    focusColor: Colors.orangeAccent,
                                                                                                                  ),
                                                                                                                  // onSaved: (input) => _name = input!
                                                                                                                ),
                                                                                                              ),
                                                                                                            SizedBox(
                                                                                                              height: 15,
                                                                                                            ),
                                                                                                            Container(
                                                                                                              height: 160,
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                expands: true,
                                                                                                                maxLines: null,

                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Add comments';
                                                                                                                },
                                                                                                                controller: comments,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),

                                                                                                                  labelText: 'Add comments',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                          ],
                                                                                                        )),


                                                                                                    //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                  ],
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ),
                                                                                        actions: <Widget>[
                                                                                          Center(
                                                                                            child: Row(
                                                                                              mainAxisAlignment: MainAxisAlignment.center,
                                                                                              children: [
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Row(
                                                                                                    children: [
                                                                                                      Icon(Icons.access_time,color: Colors.white,size: 20,),
                                                                                                      Text(
                                                                                                        '  Schedule',
                                                                                                        style: TextStyle(
                                                                                                          fontFamily: 'Candara',
                                                                                                        ),
                                                                                                      ),
                                                                                                    ],
                                                                                                  ),
                                                                                                  onPressed: () async {
                                                                                                    if(_formKey.currentState!.validate()&& _dropDownValue!="")
                                                                                                    {
                                                                                                      String date= dateController.text;
                                                                                                      String time= timeController.text;
                                                                                                      String link;
                                                                                                      String commet= comments.text;
                                                                                                      String type;
                                                                                                      if(e==0) {
                                                                                                        type = "Video";
                                                                                                        link=meetlink.text;
                                                                                                      }
                                                                                                      else
                                                                                                      {
                                                                                                        type="Audio";
                                                                                                        link=phonelink.text;
                                                                                                      }


                                                                                                      Interview log = await INTERVIEWapi(snapshot.data!.data.data.intetviewListCandidates[i].userId.toString(),_dropDownValue,intnameController.text,intmailController.text,type,date,time,link,commet);

                                                                                                      if(interview_code==200) {
                                                                                                        Navigator.pop(context);
                                                                                                        final Future<ConfirmAction7?> action =
                                                                                                        await _asyncConfirmDialog7(context, "${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()}");
                                                                                                      }

                                                                                                      if(interview_code==401){
                                                                                                        Navigator.pop(context);
                                                                                                        showDialog<String>(
                                                                                                            context: context,
                                                                                                            builder: (BuildContext context) => AlertDialog(
                                                                                                              title: const Text("Try Again"),
                                                                                                              content: const Text("Couldn't schedule interview"),
                                                                                                              actions: <Widget>[
                                                                                                                TextButton(
                                                                                                                    onPressed: () => Navigator.pop(context, 'OK'),
                                                                                                                    child: const Text('OK',style: TextStyle(color: Colors.teal))
                                                                                                                ),
                                                                                                              ],
                                                                                                            ));
                                                                                                      }
                                                                                                    }


                                                                                                  },
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ],
                                                                                      );
                                                                                    },
                                                                                  );


                                                                                },
                                                                                child: Card(
                                                                                  color: Colors.blue.shade200,
                                                                                  child: Padding(
                                                                                    padding: const EdgeInsets.all(5.0),
                                                                                    child: Row(
                                                                                      mainAxisAlignment: MainAxisAlignment.center,
                                                                                      children: [
                                                                                        Icon(Icons.upgrade,color:Colors.white,size: 18,),
                                                                                        //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                        SizedBox(width: 5,),
                                                                                        Text("Move next round",style: TextStyle(color: Colors.white,fontSize: 14),),
                                                                                      ],
                                                                                    ),
                                                                                  ),
                                                                                )
                                                                            ),
                                                                            GestureDetector(
                                                                                onTap: () {
                                                                                  showDialog(
                                                                                    context: context,
                                                                                    barrierDismissible: false, // user must tap button for close dialog!
                                                                                    builder: (BuildContext context) {
                                                                                      remarks=TextEditingController();
                                                                                      reasons=TextEditingController();
                                                                                      return AlertDialog(
                                                                                        //title: Text('Delete This Contact?'),
                                                                                        shape: RoundedRectangleBorder(
                                                                                            borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                        title: Center(
                                                                                          child: Text(
                                                                                            "Reject ${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()}?",
                                                                                            style: TextStyle(
                                                                                                fontWeight: FontWeight.bold,
                                                                                                fontFamily: 'Candara',
                                                                                                color: Colors.blue[800]),
                                                                                          ),
                                                                                        ),
                                                                                        content: Container(
                                                                                          width: double.infinity,
                                                                                          //height: Wrap(),
                                                                                          child: Column(
                                                                                            mainAxisSize: MainAxisSize.min,
                                                                                            children: [
                                                                                              SizedBox(
                                                                                                height: 20,
                                                                                              ),
                                                                                              Form(
                                                                                                  key: _formKey2,
                                                                                                  child: Column(
                                                                                                    mainAxisSize: MainAxisSize.max,
                                                                                                    crossAxisAlignment: CrossAxisAlignment.stretch,
                                                                                                    children: <Widget>[

                                                                                                      Container(
                                                                                                        //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                        child: TextFormField(
                                                                                                          keyboardType: TextInputType.number,
                                                                                                          validator: (input) {
                                                                                                            if (dateController.text.isEmpty) return ' Enter Reasons';
                                                                                                          },
                                                                                                          controller: reasons,
                                                                                                          decoration: InputDecoration(
                                                                                                            //fillColor: Colors.white,
                                                                                                            prefixIcon: Icon(Icons.question_mark,color: Colors.grey,),
                                                                                                            enabledBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.grey, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),
                                                                                                            focusedBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.orangeAccent, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),
                                                                                                            labelText: 'Enter Reason',
                                                                                                            labelStyle: TextStyle(
                                                                                                                fontFamily: "Candara", color: Colors.grey),
                                                                                                            //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                            fillColor: Colors.grey,
                                                                                                            focusColor: Colors.orangeAccent,
                                                                                                          ),
                                                                                                          // onSaved: (input) => _name = input!
                                                                                                        ),
                                                                                                      ),
                                                                                                      SizedBox(height: 20),
                                                                                                      Container(
                                                                                                        height: 160,
                                                                                                        //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                        child: TextFormField(
                                                                                                          expands: true,
                                                                                                          maxLines: null,

                                                                                                          validator: (input) {
                                                                                                            if (input!.isEmpty) return 'Add Remarks';
                                                                                                          },
                                                                                                          controller: remarks,
                                                                                                          decoration: InputDecoration(
                                                                                                            //fillColor: Colors.white,
                                                                                                            enabledBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.grey, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),
                                                                                                            focusedBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.orangeAccent, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),

                                                                                                            labelText: 'Add Remarks',
                                                                                                            labelStyle: TextStyle(
                                                                                                                fontFamily: "Candara", color: Colors.grey),
                                                                                                            //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                            fillColor: Colors.grey,
                                                                                                            focusColor: Colors.orangeAccent,
                                                                                                          ),
                                                                                                          // onSaved: (input) => _name = input!
                                                                                                        ),
                                                                                                      ),


                                                                                                    ],
                                                                                                  )),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                        actions: <Widget>[
                                                                                          Center(
                                                                                            child: Row(
                                                                                              mainAxisAlignment: MainAxisAlignment.center,
                                                                                              children: [
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Text(
                                                                                                    'Reject',
                                                                                                    style: TextStyle(
                                                                                                      fontFamily: 'Candara',
                                                                                                    ),
                                                                                                  ),
                                                                                                  onPressed: () async{
                                                                                                    if(_formKey2.currentState!.validate()) {
                                                                                                      Shortlist c = await rejectapi(
                                                                                                          snapshot.data!.data.data.intetviewListCandidates[i].userId.toString(),
                                                                                                          reasons.text,
                                                                                                          remarks.text);
                                                                                                      if (reject_code == 200)
                                                                                                      {
                                                                                                        Navigator.pop(context);
                                                                                                        showDialog(
                                                                                                          context: context,
                                                                                                          barrierDismissible: false, // user must tap button for close dialog!
                                                                                                          builder: (BuildContext context) {

                                                                                                            return AlertDialog(
                                                                                                              //title: Text('Delete This Contact?'),
                                                                                                              shape: RoundedRectangleBorder(
                                                                                                                  borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                                              insetPadding: EdgeInsets.zero,
                                                                                                              content: Container(
                                                                                                                width: double.infinity,
                                                                                                                //height: Wrap(),
                                                                                                                child: SingleChildScrollView(
                                                                                                                  child: Column(
                                                                                                                    mainAxisSize: MainAxisSize.min,
                                                                                                                    children: [
                                                                                                                      Column(
                                                                                                                        children: [
                                                                                                                          Text(
                                                                                                                            " Rejected ${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()} successfully",
                                                                                                                            style: TextStyle(
                                                                                                                                fontWeight: FontWeight.bold, fontSize: 25),
                                                                                                                          ),

                                                                                                                          //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                                        ],
                                                                                                                      ),
                                                                                                                    ],
                                                                                                                  ),
                                                                                                                ),
                                                                                                              ),
                                                                                                              actions: <Widget>[
                                                                                                                Center(
                                                                                                                  child: Row(
                                                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                                                    children: [
                                                                                                                      ElevatedButton(
                                                                                                                        style: ButtonStyle(
                                                                                                                            backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                                                Color.fromARGB(255, 59, 48, 214))),
                                                                                                                        child: Row(
                                                                                                                          children: [
                                                                                                                            Icon(Icons.check_circle_outline,color: Colors.white,size: 20,),
                                                                                                                            Text(
                                                                                                                              '  Okay',
                                                                                                                              style: TextStyle(
                                                                                                                                fontFamily: 'Candara',
                                                                                                                              ),
                                                                                                                            ),
                                                                                                                          ],
                                                                                                                        ),
                                                                                                                        onPressed: () async {
                                                                                                                          Navigator.pop(context);
                                                                                                                          Navigator.push(
                                                                                                                              context,
                                                                                                                              MaterialPageRoute(
                                                                                                                                  builder: (context) => Dashboard()));


                                                                                                                        },
                                                                                                                      ),
                                                                                                                    ],
                                                                                                                  ),
                                                                                                                ),
                                                                                                              ],
                                                                                                            );
                                                                                                          },
                                                                                                        );
                                                                                                      }

                                                                                                    }
                                                                                                  },
                                                                                                ),
                                                                                                SizedBox(width: 20,),
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Text(
                                                                                                    'Cancel',
                                                                                                    style: TextStyle(
                                                                                                      fontFamily: 'Candara',
                                                                                                    ),
                                                                                                  ),
                                                                                                  onPressed: () {

                                                                                                    Navigator.pop(context);
                                                                                                  },
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ],
                                                                                      );
                                                                                    },
                                                                                  );
                                                                                },
                                                                                child: Card(
                                                                                  color: Colors.redAccent,
                                                                                  child: Padding(
                                                                                    padding: const EdgeInsets.all(5.0),
                                                                                    child: Row(
                                                                                      mainAxisAlignment: MainAxisAlignment.center,
                                                                                      children: [
                                                                                        Icon(Icons.remove_circle_outline,color: Colors.white,size: 18,),
                                                                                        //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                        SizedBox(width: 5,),
                                                                                        Text("Reject",style: TextStyle(color: Colors.white,fontSize: 15),),
                                                                                      ],
                                                                                    ),
                                                                                  ),
                                                                                )
                                                                            )


                                                                          ],
                                                                        ),

                                                                      ],
                                                                    ),
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                          ),
                                                        ),
                                                        SizedBox(height: 10,)
                                                      ],
                                                    ),


                                              //expfilter
                                              if(_dropDownValueNot1==""&&_dropDownValuectc==""&&_dropDownValueexp!="")
                                                for(var i=0;i<snapshot.data!.data.data.intetviewListCandidates.length;i++)
                                                  if("${snapshot.data!.data.data.intetviewListCandidates[i].exp} yrs" == _dropDownValueexp)
                                                    Column(
                                                      children: [
                                                        GestureDetector(
                                                          onTap:(){
                                                            Navigator.push(
                                                                context, MaterialPageRoute(
                                                                builder: (context) => Candidate(snapshot.data!.data.data.intetviewListCandidates[i].userId.toString())));


                                                          },
                                                          child: Card(
                                                            elevation: 5,
                                                            shape: RoundedRectangleBorder(
                                                                borderRadius: BorderRadius.all(Radius.circular(10))),
                                                            child: Container(
                                                              padding: EdgeInsets.all(8),
                                                              child: Column(
                                                                children: [
                                                                  Row(
                                                                    mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                    crossAxisAlignment: CrossAxisAlignment.center,
                                                                    children: [
                                                                      Row(
                                                                        children: [
                                                                          Column(
                                                                            children: [
                                                                              Center(
                                                                                child: CircleAvatar(
                                                                                  backgroundColor: Colors.transparent,
                                                                                  backgroundImage: snapshot.data!.data.data.intetviewListCandidates[i].profileImage==null?
                                                                                  NetworkImage("http://kobl.ai/img/profile.png")
                                                                                      :             NetworkImage("${snapshot.data!.data.data.intetviewListCandidates[i].profileImage}")
                                                                                  ,
                                                                                  radius: 28,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height: 5,),
                                                                              RatingBarIndicator(
                                                                                rating: 2.75,
                                                                                itemBuilder: (context, index) => Icon(
                                                                                  Icons.star,
                                                                                  color: Colors.amber,
                                                                                ),
                                                                                itemCount: 5,
                                                                                itemSize: 15,
                                                                                direction: Axis.horizontal,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          SizedBox(width: 20,),
                                                                          Column(
                                                                            crossAxisAlignment: CrossAxisAlignment.start,
                                                                            children: [
                                                                              Text(
                                                                                "${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()}",
                                                                                style: TextStyle(
                                                                                  fontWeight: FontWeight.bold,
                                                                                  fontFamily: 'Candara',
                                                                                  fontSize: 18,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height:5),
                                                                              Text(
                                                                                  '${snapshot.data!.data.data.intetviewListCandidates[i].designation.toString()}',
                                                                                  style: TextStyle(

                                                                                    fontFamily: 'Candara',
                                                                                    color: Colors.blue,
                                                                                    fontSize: 15,
                                                                                  ),
                                                                                  maxLines: 5,
                                                                                  overflow: TextOverflow.ellipsis),

                                                                              SizedBox(
                                                                                height: 10,
                                                                              ),
                                                                              if(snapshot.data!.data.data.intetviewListCandidates[i].notice.toString()!="0")
                                                                                Text("Notice : ${snapshot.data!.data.data.intetviewListCandidates[i].notice.toString()} days",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                              if(snapshot.data!.data.data.intetviewListCandidates[i].notice.toString()=="0")
                                                                                Text("Notice : Immediate",style: TextStyle(fontFamily: "Candara",fontSize: 14 ),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                              SizedBox(height: 5,),
                                                                              Row(
                                                                                children: [
                                                                                  Text("CTC : ${snapshot.data!.data.data.intetviewListCandidates[i].ctc.toString()} LPA",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                  if(snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()!="1")
                                                                                    Text("     Exp : ${snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()} yrs",style: TextStyle(fontFamily: "Candara",fontSize: 14,),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                  if(snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()=="1")
                                                                                    Text("     Exp : ${snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()} yr",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),

                                                                                ],
                                                                              ),
                                                                              SizedBox(
                                                                                height: 5,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ],
                                                                      ),
                                                                      Icon(Icons.arrow_forward_ios_outlined,color: Colors.orangeAccent,size: 20,),
                                                                    ],
                                                                  ),
                                                                  Container(
                                                                    //height: 100,
                                                                    padding: EdgeInsets.only(left: 10, right: 10, top: 10,bottom: 10),
                                                                    child: Column(
                                                                      crossAxisAlignment: CrossAxisAlignment.start,
                                                                      children: <Widget>[
                                                                        GridView.count(
                                                                          shrinkWrap: true,
                                                                          childAspectRatio: 3.5,
                                                                          crossAxisSpacing:3,
                                                                          mainAxisSpacing: 3,
                                                                          crossAxisCount: 2,
                                                                          children: <Widget>[

                                                                            GestureDetector(
                                                                                onTap: () {

                                                                                  showDialog(
                                                                                    context: context,
                                                                                    barrierDismissible: false, // user must tap button for close dialog!
                                                                                    builder: (BuildContext context) {

                                                                                      String? _character="Video";
                                                                                      isSelected1[e]=true;
                                                                                      List<String> drop=[];
                                                                                      for(var i=0;i<snapshot.data!.data.data.stages.length-1;i++)
                                                                                      {
                                                                                        drop.add(snapshot.data!.data.data.stages[i].key.toString());
                                                                                      }


                                                                                      return AlertDialog(
                                                                                        //title: Text('Delete This Contact?'),
                                                                                        shape: RoundedRectangleBorder(
                                                                                            borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                        insetPadding: EdgeInsets.zero,
                                                                                        content: Container(
                                                                                          width: double.infinity,
                                                                                          //height: Wrap(),
                                                                                          child: SingleChildScrollView(
                                                                                            child: Column(
                                                                                              mainAxisSize: MainAxisSize.min,
                                                                                              children: [
                                                                                                Column(
                                                                                                  children: [
                                                                                                    Row(
                                                                                                      children: [
                                                                                                        GestureDetector(
                                                                                                          onTap: (){
                                                                                                            Navigator.pop(context);
                                                                                                          },
                                                                                                          child: Icon(
                                                                                                            Icons.arrow_back_ios,
                                                                                                            color: Colors.black,
                                                                                                            size: 25,
                                                                                                          ),
                                                                                                        ),
                                                                                                        Text(
                                                                                                          " Schedule an Interview    ",
                                                                                                          style: TextStyle(
                                                                                                              fontWeight: FontWeight.bold, fontSize: 25),
                                                                                                        )
                                                                                                      ],
                                                                                                    ),
                                                                                                    SizedBox(
                                                                                                      height: 20,
                                                                                                    ),
                                                                                                    Form(
                                                                                                        key: _formKey,
                                                                                                        child: Column(
                                                                                                          mainAxisSize: MainAxisSize.max,
                                                                                                          crossAxisAlignment: CrossAxisAlignment.stretch,
                                                                                                          children: <Widget>[
                                                                                                            Text(
                                                                                                              "  Select Round",
                                                                                                              style: TextStyle(
                                                                                                                color: Colors.grey,
                                                                                                                fontFamily: 'Candara',
                                                                                                              ),
                                                                                                            ),

                                                                                                            FormField<String>(
                                                                                                              builder: (FormFieldState<String> state) {
                                                                                                                String _currentSelectedValue='';
                                                                                                                return Container(
                                                                                                                  height: 60,
                                                                                                                  padding: EdgeInsets.only(left: 0,right: 0),
                                                                                                                  child: InputDecorator(
                                                                                                                    decoration: InputDecoration(
                                                                                                                      //labelText: 'CLASS',
                                                                                                                        prefixIcon: Icon(Icons.leaderboard,color: Colors.grey),
                                                                                                                        labelStyle: TextStyle(fontFamily: "Candara"),
                                                                                                                        errorStyle: TextStyle(fontFamily:"Candara",color: Colors.redAccent, fontSize: 16.0),
                                                                                                                        //hintText: 'Please select expense',
                                                                                                                        enabledBorder:OutlineInputBorder(
                                                                                                                            borderSide: const BorderSide(color: Colors.grey, width: 2.0),
                                                                                                                            borderRadius: BorderRadius.circular(15)),
                                                                                                                        focusedBorder: OutlineInputBorder(
                                                                                                                            borderSide: const BorderSide(color: Colors.orangeAccent,width: 2.0),
                                                                                                                            borderRadius: BorderRadius.circular(15)
                                                                                                                        )),
                                                                                                                    //border: OutlineInputBorder(borderRadius: BorderRadius.circular(5.0))),
                                                                                                                    isEmpty: _currentSelectedValue == '',
                                                                                                                    child: DropdownButtonHideUnderline(
                                                                                                                        child: DropdownButton(
                                                                                                                          menuMaxHeight: 200,
                                                                                                                          hint: _dropDownValue == null
                                                                                                                              ? Text('Dropdown')
                                                                                                                              : Text(
                                                                                                                            _dropDownValue,
                                                                                                                            style: TextStyle(fontFamily: "Candara",color: Colors.black,fontSize: 16),
                                                                                                                          ),
                                                                                                                          isExpanded: false,
                                                                                                                          iconSize: 30.0,
                                                                                                                          style: TextStyle(color: Colors.black),
                                                                                                                          items: drop.map(
                                                                                                                                (val) {
                                                                                                                              return DropdownMenuItem<String>(
                                                                                                                                value: val,
                                                                                                                                child: Text(val),
                                                                                                                              );
                                                                                                                            },
                                                                                                                          ).toList(),
                                                                                                                          onChanged: (String? val) {
                                                                                                                            setState(() {
                                                                                                                              _dropDownValue = val!;
                                                                                                                            });

                                                                                                                            (context as Element).markNeedsBuild();

                                                                                                                          },
                                                                                                                        )
                                                                                                                    ),
                                                                                                                  ),
                                                                                                                );
                                                                                                              },
                                                                                                            ),
                                                                                                            SizedBox(height: 20),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (dateController.text.isEmpty) return 'Enter date from list';
                                                                                                                },
                                                                                                                controller: dateController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  prefixIcon: GestureDetector(
                                                                                                                      onTap: (){
                                                                                                                        _selectDate(context);
                                                                                                                      },
                                                                                                                      child: Icon(Icons.date_range,color: Colors.grey,)),
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter Date',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Please select time';
                                                                                                                },
                                                                                                                controller: timeController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  prefixIcon: GestureDetector(
                                                                                                                      onTap: (){
                                                                                                                        _selectTime(context);
                                                                                                                      },
                                                                                                                      child: Icon(Icons.access_time,color: Colors.grey,)),
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Select time',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20,),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Enter Interviewer Name';
                                                                                                                },
                                                                                                                controller: intnameController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter interviewer name',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Enter interviewer E-mail';
                                                                                                                },
                                                                                                                controller: intmailController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Interviewer E-mail ',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  prefixIcon: Icon(Icons.mail_outline, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(
                                                                                                              height: 20,
                                                                                                            ),
                                                                                                            Center(
                                                                                                              child: SingleChildScrollView(
                                                                                                                scrollDirection: Axis.horizontal,
                                                                                                                child: Center(
                                                                                                                  child: ToggleButtons(
                                                                                                                    children: <Widget>[
                                                                                                                      Text("  Video  ",
                                                                                                                          style: TextStyle(
                                                                                                                            fontSize: 20,
                                                                                                                            fontFamily: "Candara",
                                                                                                                          )),
                                                                                                                      Text("  Phone  ",
                                                                                                                          style: TextStyle(
                                                                                                                            fontSize: 20,
                                                                                                                            fontFamily: "Candara",
                                                                                                                          )),

                                                                                                                    ],
                                                                                                                    selectedBorderColor: Colors.blue[800],
                                                                                                                    selectedColor: Colors.white,
                                                                                                                    borderColor: Colors.blue,
                                                                                                                    borderRadius: BorderRadius.circular(10),
                                                                                                                    disabledColor: Colors.transparent,
                                                                                                                    disabledBorderColor: Colors.transparent,
                                                                                                                    focusColor: Colors.blue[800],
                                                                                                                    fillColor: Colors.blue[800],
                                                                                                                    onPressed: (int index) {
                                                                                                                      setState(() {
                                                                                                                        e=index;
                                                                                                                        for (int buttonIndex = 0;
                                                                                                                        buttonIndex < isSelected1.length;
                                                                                                                        buttonIndex++) {
                                                                                                                          if (buttonIndex == index) {
                                                                                                                            isSelected1[buttonIndex] = true;
                                                                                                                          } else {
                                                                                                                            isSelected1[buttonIndex] = false;
                                                                                                                          }

                                                                                                                        }


                                                                                                                      });
                                                                                                                      (context as Element).markNeedsBuild();
                                                                                                                    },
                                                                                                                    isSelected: isSelected1,
                                                                                                                  ),
                                                                                                                ),
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20,),
                                                                                                            if(e==0)
                                                                                                              Container(
                                                                                                                //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                                child: TextFormField(
                                                                                                                  //readOnly: true,
                                                                                                                  validator: (input) {
                                                                                                                    if (input!.isEmpty && e==0) return 'Please enter meetlink';
                                                                                                                  },
                                                                                                                  controller: meetlink,
                                                                                                                  decoration: InputDecoration(
                                                                                                                    prefixIcon: Icon(Icons.video_call,color: Colors.grey,),
                                                                                                                    //fillColor: Colors.white,
                                                                                                                    enabledBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.grey, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    focusedBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.orangeAccent, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    labelText: 'Enter meet link',
                                                                                                                    labelStyle: TextStyle(
                                                                                                                        fontFamily: "Candara", color: Colors.grey),
                                                                                                                    //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                    fillColor: Colors.grey,
                                                                                                                    focusColor: Colors.orangeAccent,
                                                                                                                  ),
                                                                                                                  // onSaved: (input) => _name = input!
                                                                                                                ),
                                                                                                              ),
                                                                                                            if(e==1)
                                                                                                              Container(
                                                                                                                //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                                child: TextFormField(
                                                                                                                  //readOnly: true,
                                                                                                                  validator: (input) {
                                                                                                                    if (input!.isEmpty && e==1) return 'Please enter phone';
                                                                                                                  },
                                                                                                                  controller: phonelink,
                                                                                                                  keyboardType: TextInputType.phone,
                                                                                                                  decoration: InputDecoration(
                                                                                                                    prefixIcon: Icon(Icons.phone,color: Colors.grey,),
                                                                                                                    //fillColor: Colors.white,
                                                                                                                    enabledBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.grey, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    focusedBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.orangeAccent, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    labelText: 'Enter phone no.',
                                                                                                                    labelStyle: TextStyle(
                                                                                                                        fontFamily: "Candara", color: Colors.grey),
                                                                                                                    //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                    fillColor: Colors.grey,
                                                                                                                    focusColor: Colors.orangeAccent,
                                                                                                                  ),
                                                                                                                  // onSaved: (input) => _name = input!
                                                                                                                ),
                                                                                                              ),
                                                                                                            SizedBox(
                                                                                                              height: 15,
                                                                                                            ),
                                                                                                            Container(
                                                                                                              height: 160,
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                expands: true,
                                                                                                                maxLines: null,

                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Add comments';
                                                                                                                },
                                                                                                                controller: comments,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),

                                                                                                                  labelText: 'Add comments',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                          ],
                                                                                                        )),


                                                                                                    //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                  ],
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ),
                                                                                        actions: <Widget>[
                                                                                          Center(
                                                                                            child: Row(
                                                                                              mainAxisAlignment: MainAxisAlignment.center,
                                                                                              children: [
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Row(
                                                                                                    children: [
                                                                                                      Icon(Icons.access_time,color: Colors.white,size: 20,),
                                                                                                      Text(
                                                                                                        '  Schedule',
                                                                                                        style: TextStyle(
                                                                                                          fontFamily: 'Candara',
                                                                                                        ),
                                                                                                      ),
                                                                                                    ],
                                                                                                  ),
                                                                                                  onPressed: () async {
                                                                                                    if(_formKey.currentState!.validate()&& _dropDownValue!="")
                                                                                                    {
                                                                                                      String date= dateController.text;
                                                                                                      String time= timeController.text;
                                                                                                      String link;
                                                                                                      String commet= comments.text;
                                                                                                      String type;
                                                                                                      if(e==0) {
                                                                                                        type = "Video";
                                                                                                        link=meetlink.text;
                                                                                                      }
                                                                                                      else
                                                                                                      {
                                                                                                        type="Audio";
                                                                                                        link=phonelink.text;
                                                                                                      }


                                                                                                      Interview log = await INTERVIEWapi(snapshot.data!.data.data.intetviewListCandidates[i].userId.toString(),_dropDownValue,intnameController.text,intmailController.text,type,date,time,link,commet);

                                                                                                      if(interview_code==200) {
                                                                                                        Navigator.pop(context);
                                                                                                        final Future<ConfirmAction7?> action =
                                                                                                        await _asyncConfirmDialog7(context, "${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()}");
                                                                                                      }

                                                                                                      if(interview_code==401){
                                                                                                        Navigator.pop(context);
                                                                                                        showDialog<String>(
                                                                                                            context: context,
                                                                                                            builder: (BuildContext context) => AlertDialog(
                                                                                                              title: const Text("Try Again"),
                                                                                                              content: const Text("Couldn't schedule interview"),
                                                                                                              actions: <Widget>[
                                                                                                                TextButton(
                                                                                                                    onPressed: () => Navigator.pop(context, 'OK'),
                                                                                                                    child: const Text('OK',style: TextStyle(color: Colors.teal))
                                                                                                                ),
                                                                                                              ],
                                                                                                            ));
                                                                                                      }
                                                                                                    }


                                                                                                  },
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ],
                                                                                      );
                                                                                    },
                                                                                  );


                                                                                },
                                                                                child: Card(
                                                                                  color: Colors.blue.shade200,
                                                                                  child: Padding(
                                                                                    padding: const EdgeInsets.all(5.0),
                                                                                    child: Row(
                                                                                      mainAxisAlignment: MainAxisAlignment.center,
                                                                                      children: [
                                                                                        Icon(Icons.upgrade,color:Colors.white,size: 18,),
                                                                                        //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                        SizedBox(width: 5,),
                                                                                        Text("Move next round",style: TextStyle(color: Colors.white,fontSize: 14),),
                                                                                      ],
                                                                                    ),
                                                                                  ),
                                                                                )
                                                                            ),
                                                                            GestureDetector(
                                                                                onTap: () {
                                                                                  showDialog(
                                                                                    context: context,
                                                                                    barrierDismissible: false, // user must tap button for close dialog!
                                                                                    builder: (BuildContext context) {
                                                                                      remarks=TextEditingController();
                                                                                      reasons=TextEditingController();
                                                                                      return AlertDialog(
                                                                                        //title: Text('Delete This Contact?'),
                                                                                        shape: RoundedRectangleBorder(
                                                                                            borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                        title: Center(
                                                                                          child: Text(
                                                                                            "Reject ${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()}?",
                                                                                            style: TextStyle(
                                                                                                fontWeight: FontWeight.bold,
                                                                                                fontFamily: 'Candara',
                                                                                                color: Colors.blue[800]),
                                                                                          ),
                                                                                        ),
                                                                                        content: Container(
                                                                                          width: double.infinity,
                                                                                          //height: Wrap(),
                                                                                          child: Column(
                                                                                            mainAxisSize: MainAxisSize.min,
                                                                                            children: [
                                                                                              SizedBox(
                                                                                                height: 20,
                                                                                              ),
                                                                                              Form(
                                                                                                  key: _formKey2,
                                                                                                  child: Column(
                                                                                                    mainAxisSize: MainAxisSize.max,
                                                                                                    crossAxisAlignment: CrossAxisAlignment.stretch,
                                                                                                    children: <Widget>[

                                                                                                      Container(
                                                                                                        //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                        child: TextFormField(
                                                                                                          keyboardType: TextInputType.number,
                                                                                                          validator: (input) {
                                                                                                            if (dateController.text.isEmpty) return ' Enter Reasons';
                                                                                                          },
                                                                                                          controller: reasons,
                                                                                                          decoration: InputDecoration(
                                                                                                            //fillColor: Colors.white,
                                                                                                            prefixIcon: Icon(Icons.question_mark,color: Colors.grey,),
                                                                                                            enabledBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.grey, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),
                                                                                                            focusedBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.orangeAccent, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),
                                                                                                            labelText: 'Enter Reason',
                                                                                                            labelStyle: TextStyle(
                                                                                                                fontFamily: "Candara", color: Colors.grey),
                                                                                                            //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                            fillColor: Colors.grey,
                                                                                                            focusColor: Colors.orangeAccent,
                                                                                                          ),
                                                                                                          // onSaved: (input) => _name = input!
                                                                                                        ),
                                                                                                      ),
                                                                                                      SizedBox(height: 20),
                                                                                                      Container(
                                                                                                        height: 160,
                                                                                                        //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                        child: TextFormField(
                                                                                                          expands: true,
                                                                                                          maxLines: null,

                                                                                                          validator: (input) {
                                                                                                            if (input!.isEmpty) return 'Add Remarks';
                                                                                                          },
                                                                                                          controller: remarks,
                                                                                                          decoration: InputDecoration(
                                                                                                            //fillColor: Colors.white,
                                                                                                            enabledBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.grey, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),
                                                                                                            focusedBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.orangeAccent, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),

                                                                                                            labelText: 'Add Remarks',
                                                                                                            labelStyle: TextStyle(
                                                                                                                fontFamily: "Candara", color: Colors.grey),
                                                                                                            //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                            fillColor: Colors.grey,
                                                                                                            focusColor: Colors.orangeAccent,
                                                                                                          ),
                                                                                                          // onSaved: (input) => _name = input!
                                                                                                        ),
                                                                                                      ),


                                                                                                    ],
                                                                                                  )),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                        actions: <Widget>[
                                                                                          Center(
                                                                                            child: Row(
                                                                                              mainAxisAlignment: MainAxisAlignment.center,
                                                                                              children: [
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Text(
                                                                                                    'Reject',
                                                                                                    style: TextStyle(
                                                                                                      fontFamily: 'Candara',
                                                                                                    ),
                                                                                                  ),
                                                                                                  onPressed: () async{
                                                                                                    if(_formKey2.currentState!.validate()) {
                                                                                                      Shortlist c = await rejectapi(
                                                                                                          snapshot.data!.data.data.intetviewListCandidates[i].userId.toString(),
                                                                                                          reasons.text,
                                                                                                          remarks.text);
                                                                                                      if (reject_code == 200)
                                                                                                      {
                                                                                                        Navigator.pop(context);
                                                                                                        showDialog(
                                                                                                          context: context,
                                                                                                          barrierDismissible: false, // user must tap button for close dialog!
                                                                                                          builder: (BuildContext context) {

                                                                                                            return AlertDialog(
                                                                                                              //title: Text('Delete This Contact?'),
                                                                                                              shape: RoundedRectangleBorder(
                                                                                                                  borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                                              insetPadding: EdgeInsets.zero,
                                                                                                              content: Container(
                                                                                                                width: double.infinity,
                                                                                                                //height: Wrap(),
                                                                                                                child: SingleChildScrollView(
                                                                                                                  child: Column(
                                                                                                                    mainAxisSize: MainAxisSize.min,
                                                                                                                    children: [
                                                                                                                      Column(
                                                                                                                        children: [
                                                                                                                          Text(
                                                                                                                            " Rejected ${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()} successfully",
                                                                                                                            style: TextStyle(
                                                                                                                                fontWeight: FontWeight.bold, fontSize: 25),
                                                                                                                          ),

                                                                                                                          //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                                        ],
                                                                                                                      ),
                                                                                                                    ],
                                                                                                                  ),
                                                                                                                ),
                                                                                                              ),
                                                                                                              actions: <Widget>[
                                                                                                                Center(
                                                                                                                  child: Row(
                                                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                                                    children: [
                                                                                                                      ElevatedButton(
                                                                                                                        style: ButtonStyle(
                                                                                                                            backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                                                Color.fromARGB(255, 59, 48, 214))),
                                                                                                                        child: Row(
                                                                                                                          children: [
                                                                                                                            Icon(Icons.check_circle_outline,color: Colors.white,size: 20,),
                                                                                                                            Text(
                                                                                                                              '  Okay',
                                                                                                                              style: TextStyle(
                                                                                                                                fontFamily: 'Candara',
                                                                                                                              ),
                                                                                                                            ),
                                                                                                                          ],
                                                                                                                        ),
                                                                                                                        onPressed: () async {
                                                                                                                          Navigator.pop(context);
                                                                                                                          Navigator.push(
                                                                                                                              context,
                                                                                                                              MaterialPageRoute(
                                                                                                                                  builder: (context) => Dashboard()));


                                                                                                                        },
                                                                                                                      ),
                                                                                                                    ],
                                                                                                                  ),
                                                                                                                ),
                                                                                                              ],
                                                                                                            );
                                                                                                          },
                                                                                                        );
                                                                                                      }

                                                                                                    }
                                                                                                  },
                                                                                                ),
                                                                                                SizedBox(width: 20,),
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Text(
                                                                                                    'Cancel',
                                                                                                    style: TextStyle(
                                                                                                      fontFamily: 'Candara',
                                                                                                    ),
                                                                                                  ),
                                                                                                  onPressed: () {

                                                                                                    Navigator.pop(context);
                                                                                                  },
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ],
                                                                                      );
                                                                                    },
                                                                                  );
                                                                                },
                                                                                child: Card(
                                                                                  color: Colors.redAccent,
                                                                                  child: Padding(
                                                                                    padding: const EdgeInsets.all(5.0),
                                                                                    child: Row(
                                                                                      mainAxisAlignment: MainAxisAlignment.center,
                                                                                      children: [
                                                                                        Icon(Icons.remove_circle_outline,color: Colors.white,size: 18,),
                                                                                        //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                        SizedBox(width: 5,),
                                                                                        Text("Reject",style: TextStyle(color: Colors.white,fontSize: 15),),
                                                                                      ],
                                                                                    ),
                                                                                  ),
                                                                                )
                                                                            )


                                                                          ],
                                                                        ),

                                                                      ],
                                                                    ),
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                          ),
                                                        ),
                                                        SizedBox(height: 10,)
                                                      ],
                                                    ),


                                              //not&exp
                                              if(_dropDownValueNot1!=""&&_dropDownValuectc==""&&_dropDownValueexp!="")
                                                for(var i=0;i<snapshot.data!.data.data.intetviewListCandidates.length;i++)
                                                  if("${snapshot.data!.data.data.intetviewListCandidates[i].notice} days" == _dropDownValueNot1 &&
                                                      "${snapshot.data!.data.data.intetviewListCandidates[i].exp} yrs" == _dropDownValueexp )
                                                    Column(
                                                      children: [
                                                        GestureDetector(
                                                          onTap:(){
                                                            Navigator.push(
                                                                context, MaterialPageRoute(
                                                                builder: (context) => Candidate(snapshot.data!.data.data.intetviewListCandidates[i].userId.toString())));


                                                          },
                                                          child: Card(
                                                            elevation: 5,
                                                            shape: RoundedRectangleBorder(
                                                                borderRadius: BorderRadius.all(Radius.circular(10))),
                                                            child: Container(
                                                              padding: EdgeInsets.all(8),
                                                              child: Column(
                                                                children: [
                                                                  Row(
                                                                    mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                    crossAxisAlignment: CrossAxisAlignment.center,
                                                                    children: [
                                                                      Row(
                                                                        children: [
                                                                          Column(
                                                                            children: [
                                                                              Center(
                                                                                child: CircleAvatar(
                                                                                  backgroundColor: Colors.transparent,
                                                                                  backgroundImage: snapshot.data!.data.data.intetviewListCandidates[i].profileImage==null?
                                                                                  NetworkImage("http://kobl.ai/img/profile.png")
                                                                                      :             NetworkImage("${snapshot.data!.data.data.intetviewListCandidates[i].profileImage}")
                                                                                  ,
                                                                                  radius: 28,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height: 5,),
                                                                              RatingBarIndicator(
                                                                                rating: 2.75,
                                                                                itemBuilder: (context, index) => Icon(
                                                                                  Icons.star,
                                                                                  color: Colors.amber,
                                                                                ),
                                                                                itemCount: 5,
                                                                                itemSize: 15,
                                                                                direction: Axis.horizontal,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          SizedBox(width: 20,),
                                                                          Column(
                                                                            crossAxisAlignment: CrossAxisAlignment.start,
                                                                            children: [
                                                                              Text(
                                                                                "${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()}",
                                                                                style: TextStyle(
                                                                                  fontWeight: FontWeight.bold,
                                                                                  fontFamily: 'Candara',
                                                                                  fontSize: 18,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height:5),
                                                                              Text(
                                                                                  '${snapshot.data!.data.data.intetviewListCandidates[i].designation.toString()}',
                                                                                  style: TextStyle(

                                                                                    fontFamily: 'Candara',
                                                                                    color: Colors.blue,
                                                                                    fontSize: 15,
                                                                                  ),
                                                                                  maxLines: 5,
                                                                                  overflow: TextOverflow.ellipsis),

                                                                              SizedBox(
                                                                                height: 10,
                                                                              ),
                                                                              if(snapshot.data!.data.data.intetviewListCandidates[i].notice.toString()!="0")
                                                                                Text("Notice : ${snapshot.data!.data.data.intetviewListCandidates[i].notice.toString()} days",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                              if(snapshot.data!.data.data.intetviewListCandidates[i].notice.toString()=="0")
                                                                                Text("Notice : Immediate",style: TextStyle(fontFamily: "Candara",fontSize: 14 ),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                              SizedBox(height: 5,),
                                                                              Row(
                                                                                children: [
                                                                                  Text("CTC : ${snapshot.data!.data.data.intetviewListCandidates[i].ctc.toString()} LPA",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                  if(snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()!="1")
                                                                                    Text("     Exp : ${snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()} yrs",style: TextStyle(fontFamily: "Candara",fontSize: 14,),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                  if(snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()=="1")
                                                                                    Text("     Exp : ${snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()} yr",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),

                                                                                ],
                                                                              ),
                                                                              SizedBox(
                                                                                height: 5,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ],
                                                                      ),
                                                                      Icon(Icons.arrow_forward_ios_outlined,color: Colors.orangeAccent,size: 20,),
                                                                    ],
                                                                  ),
                                                                  Container(
                                                                    //height: 100,
                                                                    padding: EdgeInsets.only(left: 10, right: 10, top: 10,bottom: 10),
                                                                    child: Column(
                                                                      crossAxisAlignment: CrossAxisAlignment.start,
                                                                      children: <Widget>[
                                                                        GridView.count(
                                                                          shrinkWrap: true,
                                                                          childAspectRatio: 3.5,
                                                                          crossAxisSpacing:3,
                                                                          mainAxisSpacing: 3,
                                                                          crossAxisCount: 2,
                                                                          children: <Widget>[

                                                                            GestureDetector(
                                                                                onTap: () {

                                                                                  showDialog(
                                                                                    context: context,
                                                                                    barrierDismissible: false, // user must tap button for close dialog!
                                                                                    builder: (BuildContext context) {

                                                                                      String? _character="Video";
                                                                                      isSelected1[e]=true;
                                                                                      List<String> drop=[];
                                                                                      for(var i=0;i<snapshot.data!.data.data.stages.length-1;i++)
                                                                                      {
                                                                                        drop.add(snapshot.data!.data.data.stages[i].key.toString());
                                                                                      }


                                                                                      return AlertDialog(
                                                                                        //title: Text('Delete This Contact?'),
                                                                                        shape: RoundedRectangleBorder(
                                                                                            borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                        insetPadding: EdgeInsets.zero,
                                                                                        content: Container(
                                                                                          width: double.infinity,
                                                                                          //height: Wrap(),
                                                                                          child: SingleChildScrollView(
                                                                                            child: Column(
                                                                                              mainAxisSize: MainAxisSize.min,
                                                                                              children: [
                                                                                                Column(
                                                                                                  children: [
                                                                                                    Row(
                                                                                                      children: [
                                                                                                        GestureDetector(
                                                                                                          onTap: (){
                                                                                                            Navigator.pop(context);
                                                                                                          },
                                                                                                          child: Icon(
                                                                                                            Icons.arrow_back_ios,
                                                                                                            color: Colors.black,
                                                                                                            size: 25,
                                                                                                          ),
                                                                                                        ),
                                                                                                        Text(
                                                                                                          " Schedule an Interview    ",
                                                                                                          style: TextStyle(
                                                                                                              fontWeight: FontWeight.bold, fontSize: 25),
                                                                                                        )
                                                                                                      ],
                                                                                                    ),
                                                                                                    SizedBox(
                                                                                                      height: 20,
                                                                                                    ),
                                                                                                    Form(
                                                                                                        key: _formKey,
                                                                                                        child: Column(
                                                                                                          mainAxisSize: MainAxisSize.max,
                                                                                                          crossAxisAlignment: CrossAxisAlignment.stretch,
                                                                                                          children: <Widget>[
                                                                                                            Text(
                                                                                                              "  Select Round",
                                                                                                              style: TextStyle(
                                                                                                                color: Colors.grey,
                                                                                                                fontFamily: 'Candara',
                                                                                                              ),
                                                                                                            ),

                                                                                                            FormField<String>(
                                                                                                              builder: (FormFieldState<String> state) {
                                                                                                                String _currentSelectedValue='';
                                                                                                                return Container(
                                                                                                                  height: 60,
                                                                                                                  padding: EdgeInsets.only(left: 0,right: 0),
                                                                                                                  child: InputDecorator(
                                                                                                                    decoration: InputDecoration(
                                                                                                                      //labelText: 'CLASS',
                                                                                                                        prefixIcon: Icon(Icons.leaderboard,color: Colors.grey),
                                                                                                                        labelStyle: TextStyle(fontFamily: "Candara"),
                                                                                                                        errorStyle: TextStyle(fontFamily:"Candara",color: Colors.redAccent, fontSize: 16.0),
                                                                                                                        //hintText: 'Please select expense',
                                                                                                                        enabledBorder:OutlineInputBorder(
                                                                                                                            borderSide: const BorderSide(color: Colors.grey, width: 2.0),
                                                                                                                            borderRadius: BorderRadius.circular(15)),
                                                                                                                        focusedBorder: OutlineInputBorder(
                                                                                                                            borderSide: const BorderSide(color: Colors.orangeAccent,width: 2.0),
                                                                                                                            borderRadius: BorderRadius.circular(15)
                                                                                                                        )),
                                                                                                                    //border: OutlineInputBorder(borderRadius: BorderRadius.circular(5.0))),
                                                                                                                    isEmpty: _currentSelectedValue == '',
                                                                                                                    child: DropdownButtonHideUnderline(
                                                                                                                        child: DropdownButton(
                                                                                                                          menuMaxHeight: 200,
                                                                                                                          hint: _dropDownValue == null
                                                                                                                              ? Text('Dropdown')
                                                                                                                              : Text(
                                                                                                                            _dropDownValue,
                                                                                                                            style: TextStyle(fontFamily: "Candara",color: Colors.black,fontSize: 16),
                                                                                                                          ),
                                                                                                                          isExpanded: false,
                                                                                                                          iconSize: 30.0,
                                                                                                                          style: TextStyle(color: Colors.black),
                                                                                                                          items: drop.map(
                                                                                                                                (val) {
                                                                                                                              return DropdownMenuItem<String>(
                                                                                                                                value: val,
                                                                                                                                child: Text(val),
                                                                                                                              );
                                                                                                                            },
                                                                                                                          ).toList(),
                                                                                                                          onChanged: (String? val) {
                                                                                                                            setState(() {
                                                                                                                              _dropDownValue = val!;
                                                                                                                            });

                                                                                                                            (context as Element).markNeedsBuild();

                                                                                                                          },
                                                                                                                        )
                                                                                                                    ),
                                                                                                                  ),
                                                                                                                );
                                                                                                              },
                                                                                                            ),
                                                                                                            SizedBox(height: 20),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (dateController.text.isEmpty) return 'Enter date from list';
                                                                                                                },
                                                                                                                controller: dateController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  prefixIcon: GestureDetector(
                                                                                                                      onTap: (){
                                                                                                                        _selectDate(context);
                                                                                                                      },
                                                                                                                      child: Icon(Icons.date_range,color: Colors.grey,)),
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter Date',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Please select time';
                                                                                                                },
                                                                                                                controller: timeController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  prefixIcon: GestureDetector(
                                                                                                                      onTap: (){
                                                                                                                        _selectTime(context);
                                                                                                                      },
                                                                                                                      child: Icon(Icons.access_time,color: Colors.grey,)),
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Select time',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20,),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Enter Interviewer Name';
                                                                                                                },
                                                                                                                controller: intnameController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter interviewer name',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Enter interviewer E-mail';
                                                                                                                },
                                                                                                                controller: intmailController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Interviewer E-mail ',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  prefixIcon: Icon(Icons.mail_outline, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(
                                                                                                              height: 20,
                                                                                                            ),
                                                                                                            Center(
                                                                                                              child: SingleChildScrollView(
                                                                                                                scrollDirection: Axis.horizontal,
                                                                                                                child: Center(
                                                                                                                  child: ToggleButtons(
                                                                                                                    children: <Widget>[
                                                                                                                      Text("  Video  ",
                                                                                                                          style: TextStyle(
                                                                                                                            fontSize: 20,
                                                                                                                            fontFamily: "Candara",
                                                                                                                          )),
                                                                                                                      Text("  Phone  ",
                                                                                                                          style: TextStyle(
                                                                                                                            fontSize: 20,
                                                                                                                            fontFamily: "Candara",
                                                                                                                          )),

                                                                                                                    ],
                                                                                                                    selectedBorderColor: Colors.blue[800],
                                                                                                                    selectedColor: Colors.white,
                                                                                                                    borderColor: Colors.blue,
                                                                                                                    borderRadius: BorderRadius.circular(10),
                                                                                                                    disabledColor: Colors.transparent,
                                                                                                                    disabledBorderColor: Colors.transparent,
                                                                                                                    focusColor: Colors.blue[800],
                                                                                                                    fillColor: Colors.blue[800],
                                                                                                                    onPressed: (int index) {
                                                                                                                      setState(() {
                                                                                                                        e=index;
                                                                                                                        for (int buttonIndex = 0;
                                                                                                                        buttonIndex < isSelected1.length;
                                                                                                                        buttonIndex++) {
                                                                                                                          if (buttonIndex == index) {
                                                                                                                            isSelected1[buttonIndex] = true;
                                                                                                                          } else {
                                                                                                                            isSelected1[buttonIndex] = false;
                                                                                                                          }

                                                                                                                        }


                                                                                                                      });
                                                                                                                      (context as Element).markNeedsBuild();
                                                                                                                    },
                                                                                                                    isSelected: isSelected1,
                                                                                                                  ),
                                                                                                                ),
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20,),
                                                                                                            if(e==0)
                                                                                                              Container(
                                                                                                                //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                                child: TextFormField(
                                                                                                                  //readOnly: true,
                                                                                                                  validator: (input) {
                                                                                                                    if (input!.isEmpty && e==0) return 'Please enter meetlink';
                                                                                                                  },
                                                                                                                  controller: meetlink,
                                                                                                                  decoration: InputDecoration(
                                                                                                                    prefixIcon: Icon(Icons.video_call,color: Colors.grey,),
                                                                                                                    //fillColor: Colors.white,
                                                                                                                    enabledBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.grey, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    focusedBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.orangeAccent, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    labelText: 'Enter meet link',
                                                                                                                    labelStyle: TextStyle(
                                                                                                                        fontFamily: "Candara", color: Colors.grey),
                                                                                                                    //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                    fillColor: Colors.grey,
                                                                                                                    focusColor: Colors.orangeAccent,
                                                                                                                  ),
                                                                                                                  // onSaved: (input) => _name = input!
                                                                                                                ),
                                                                                                              ),
                                                                                                            if(e==1)
                                                                                                              Container(
                                                                                                                //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                                child: TextFormField(
                                                                                                                  //readOnly: true,
                                                                                                                  validator: (input) {
                                                                                                                    if (input!.isEmpty && e==1) return 'Please enter phone';
                                                                                                                  },
                                                                                                                  controller: phonelink,
                                                                                                                  keyboardType: TextInputType.phone,
                                                                                                                  decoration: InputDecoration(
                                                                                                                    prefixIcon: Icon(Icons.phone,color: Colors.grey,),
                                                                                                                    //fillColor: Colors.white,
                                                                                                                    enabledBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.grey, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    focusedBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.orangeAccent, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    labelText: 'Enter phone no.',
                                                                                                                    labelStyle: TextStyle(
                                                                                                                        fontFamily: "Candara", color: Colors.grey),
                                                                                                                    //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                    fillColor: Colors.grey,
                                                                                                                    focusColor: Colors.orangeAccent,
                                                                                                                  ),
                                                                                                                  // onSaved: (input) => _name = input!
                                                                                                                ),
                                                                                                              ),
                                                                                                            SizedBox(
                                                                                                              height: 15,
                                                                                                            ),
                                                                                                            Container(
                                                                                                              height: 160,
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                expands: true,
                                                                                                                maxLines: null,

                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Add comments';
                                                                                                                },
                                                                                                                controller: comments,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),

                                                                                                                  labelText: 'Add comments',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                          ],
                                                                                                        )),


                                                                                                    //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                  ],
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ),
                                                                                        actions: <Widget>[
                                                                                          Center(
                                                                                            child: Row(
                                                                                              mainAxisAlignment: MainAxisAlignment.center,
                                                                                              children: [
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Row(
                                                                                                    children: [
                                                                                                      Icon(Icons.access_time,color: Colors.white,size: 20,),
                                                                                                      Text(
                                                                                                        '  Schedule',
                                                                                                        style: TextStyle(
                                                                                                          fontFamily: 'Candara',
                                                                                                        ),
                                                                                                      ),
                                                                                                    ],
                                                                                                  ),
                                                                                                  onPressed: () async {
                                                                                                    if(_formKey.currentState!.validate()&& _dropDownValue!="")
                                                                                                    {
                                                                                                      String date= dateController.text;
                                                                                                      String time= timeController.text;
                                                                                                      String link;
                                                                                                      String commet= comments.text;
                                                                                                      String type;
                                                                                                      if(e==0) {
                                                                                                        type = "Video";
                                                                                                        link=meetlink.text;
                                                                                                      }
                                                                                                      else
                                                                                                      {
                                                                                                        type="Audio";
                                                                                                        link=phonelink.text;
                                                                                                      }


                                                                                                      Interview log = await INTERVIEWapi(snapshot.data!.data.data.intetviewListCandidates[i].userId.toString(),_dropDownValue,intnameController.text,intmailController.text,type,date,time,link,commet);

                                                                                                      if(interview_code==200) {
                                                                                                        Navigator.pop(context);
                                                                                                        final Future<ConfirmAction7?> action =
                                                                                                        await _asyncConfirmDialog7(context, "${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()}");
                                                                                                      }

                                                                                                      if(interview_code==401){
                                                                                                        Navigator.pop(context);
                                                                                                        showDialog<String>(
                                                                                                            context: context,
                                                                                                            builder: (BuildContext context) => AlertDialog(
                                                                                                              title: const Text("Try Again"),
                                                                                                              content: const Text("Couldn't schedule interview"),
                                                                                                              actions: <Widget>[
                                                                                                                TextButton(
                                                                                                                    onPressed: () => Navigator.pop(context, 'OK'),
                                                                                                                    child: const Text('OK',style: TextStyle(color: Colors.teal))
                                                                                                                ),
                                                                                                              ],
                                                                                                            ));
                                                                                                      }
                                                                                                    }


                                                                                                  },
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ],
                                                                                      );
                                                                                    },
                                                                                  );


                                                                                },
                                                                                child: Card(
                                                                                  color: Colors.blue.shade200,
                                                                                  child: Padding(
                                                                                    padding: const EdgeInsets.all(5.0),
                                                                                    child: Row(
                                                                                      mainAxisAlignment: MainAxisAlignment.center,
                                                                                      children: [
                                                                                        Icon(Icons.upgrade,color:Colors.white,size: 18,),
                                                                                        //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                        SizedBox(width: 5,),
                                                                                        Text("Move next round",style: TextStyle(color: Colors.white,fontSize: 14),),
                                                                                      ],
                                                                                    ),
                                                                                  ),
                                                                                )
                                                                            ),
                                                                            GestureDetector(
                                                                                onTap: () {
                                                                                  showDialog(
                                                                                    context: context,
                                                                                    barrierDismissible: false, // user must tap button for close dialog!
                                                                                    builder: (BuildContext context) {
                                                                                      remarks=TextEditingController();
                                                                                      reasons=TextEditingController();
                                                                                      return AlertDialog(
                                                                                        //title: Text('Delete This Contact?'),
                                                                                        shape: RoundedRectangleBorder(
                                                                                            borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                        title: Center(
                                                                                          child: Text(
                                                                                            "Reject ${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()}?",
                                                                                            style: TextStyle(
                                                                                                fontWeight: FontWeight.bold,
                                                                                                fontFamily: 'Candara',
                                                                                                color: Colors.blue[800]),
                                                                                          ),
                                                                                        ),
                                                                                        content: Container(
                                                                                          width: double.infinity,
                                                                                          //height: Wrap(),
                                                                                          child: Column(
                                                                                            mainAxisSize: MainAxisSize.min,
                                                                                            children: [
                                                                                              SizedBox(
                                                                                                height: 20,
                                                                                              ),
                                                                                              Form(
                                                                                                  key: _formKey2,
                                                                                                  child: Column(
                                                                                                    mainAxisSize: MainAxisSize.max,
                                                                                                    crossAxisAlignment: CrossAxisAlignment.stretch,
                                                                                                    children: <Widget>[

                                                                                                      Container(
                                                                                                        //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                        child: TextFormField(
                                                                                                          keyboardType: TextInputType.number,
                                                                                                          validator: (input) {
                                                                                                            if (dateController.text.isEmpty) return ' Enter Reasons';
                                                                                                          },
                                                                                                          controller: reasons,
                                                                                                          decoration: InputDecoration(
                                                                                                            //fillColor: Colors.white,
                                                                                                            prefixIcon: Icon(Icons.question_mark,color: Colors.grey,),
                                                                                                            enabledBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.grey, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),
                                                                                                            focusedBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.orangeAccent, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),
                                                                                                            labelText: 'Enter Reason',
                                                                                                            labelStyle: TextStyle(
                                                                                                                fontFamily: "Candara", color: Colors.grey),
                                                                                                            //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                            fillColor: Colors.grey,
                                                                                                            focusColor: Colors.orangeAccent,
                                                                                                          ),
                                                                                                          // onSaved: (input) => _name = input!
                                                                                                        ),
                                                                                                      ),
                                                                                                      SizedBox(height: 20),
                                                                                                      Container(
                                                                                                        height: 160,
                                                                                                        //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                        child: TextFormField(
                                                                                                          expands: true,
                                                                                                          maxLines: null,

                                                                                                          validator: (input) {
                                                                                                            if (input!.isEmpty) return 'Add Remarks';
                                                                                                          },
                                                                                                          controller: remarks,
                                                                                                          decoration: InputDecoration(
                                                                                                            //fillColor: Colors.white,
                                                                                                            enabledBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.grey, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),
                                                                                                            focusedBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.orangeAccent, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),

                                                                                                            labelText: 'Add Remarks',
                                                                                                            labelStyle: TextStyle(
                                                                                                                fontFamily: "Candara", color: Colors.grey),
                                                                                                            //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                            fillColor: Colors.grey,
                                                                                                            focusColor: Colors.orangeAccent,
                                                                                                          ),
                                                                                                          // onSaved: (input) => _name = input!
                                                                                                        ),
                                                                                                      ),


                                                                                                    ],
                                                                                                  )),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                        actions: <Widget>[
                                                                                          Center(
                                                                                            child: Row(
                                                                                              mainAxisAlignment: MainAxisAlignment.center,
                                                                                              children: [
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Text(
                                                                                                    'Reject',
                                                                                                    style: TextStyle(
                                                                                                      fontFamily: 'Candara',
                                                                                                    ),
                                                                                                  ),
                                                                                                  onPressed: () async{
                                                                                                    if(_formKey2.currentState!.validate()) {
                                                                                                      Shortlist c = await rejectapi(
                                                                                                          snapshot.data!.data.data.intetviewListCandidates[i].userId.toString(),
                                                                                                          reasons.text,
                                                                                                          remarks.text);
                                                                                                      if (reject_code == 200)
                                                                                                      {
                                                                                                        Navigator.pop(context);
                                                                                                        showDialog(
                                                                                                          context: context,
                                                                                                          barrierDismissible: false, // user must tap button for close dialog!
                                                                                                          builder: (BuildContext context) {

                                                                                                            return AlertDialog(
                                                                                                              //title: Text('Delete This Contact?'),
                                                                                                              shape: RoundedRectangleBorder(
                                                                                                                  borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                                              insetPadding: EdgeInsets.zero,
                                                                                                              content: Container(
                                                                                                                width: double.infinity,
                                                                                                                //height: Wrap(),
                                                                                                                child: SingleChildScrollView(
                                                                                                                  child: Column(
                                                                                                                    mainAxisSize: MainAxisSize.min,
                                                                                                                    children: [
                                                                                                                      Column(
                                                                                                                        children: [
                                                                                                                          Text(
                                                                                                                            " Rejected ${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()} successfully",
                                                                                                                            style: TextStyle(
                                                                                                                                fontWeight: FontWeight.bold, fontSize: 25),
                                                                                                                          ),

                                                                                                                          //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                                        ],
                                                                                                                      ),
                                                                                                                    ],
                                                                                                                  ),
                                                                                                                ),
                                                                                                              ),
                                                                                                              actions: <Widget>[
                                                                                                                Center(
                                                                                                                  child: Row(
                                                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                                                    children: [
                                                                                                                      ElevatedButton(
                                                                                                                        style: ButtonStyle(
                                                                                                                            backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                                                Color.fromARGB(255, 59, 48, 214))),
                                                                                                                        child: Row(
                                                                                                                          children: [
                                                                                                                            Icon(Icons.check_circle_outline,color: Colors.white,size: 20,),
                                                                                                                            Text(
                                                                                                                              '  Okay',
                                                                                                                              style: TextStyle(
                                                                                                                                fontFamily: 'Candara',
                                                                                                                              ),
                                                                                                                            ),
                                                                                                                          ],
                                                                                                                        ),
                                                                                                                        onPressed: () async {
                                                                                                                          Navigator.pop(context);
                                                                                                                          Navigator.push(
                                                                                                                              context,
                                                                                                                              MaterialPageRoute(
                                                                                                                                  builder: (context) => Dashboard()));


                                                                                                                        },
                                                                                                                      ),
                                                                                                                    ],
                                                                                                                  ),
                                                                                                                ),
                                                                                                              ],
                                                                                                            );
                                                                                                          },
                                                                                                        );
                                                                                                      }

                                                                                                    }
                                                                                                  },
                                                                                                ),
                                                                                                SizedBox(width: 20,),
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Text(
                                                                                                    'Cancel',
                                                                                                    style: TextStyle(
                                                                                                      fontFamily: 'Candara',
                                                                                                    ),
                                                                                                  ),
                                                                                                  onPressed: () {

                                                                                                    Navigator.pop(context);
                                                                                                  },
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ],
                                                                                      );
                                                                                    },
                                                                                  );
                                                                                },
                                                                                child: Card(
                                                                                  color: Colors.redAccent,
                                                                                  child: Padding(
                                                                                    padding: const EdgeInsets.all(5.0),
                                                                                    child: Row(
                                                                                      mainAxisAlignment: MainAxisAlignment.center,
                                                                                      children: [
                                                                                        Icon(Icons.remove_circle_outline,color: Colors.white,size: 18,),
                                                                                        //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                        SizedBox(width: 5,),
                                                                                        Text("Reject",style: TextStyle(color: Colors.white,fontSize: 15),),
                                                                                      ],
                                                                                    ),
                                                                                  ),
                                                                                )
                                                                            )


                                                                          ],
                                                                        ),

                                                                      ],
                                                                    ),
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                          ),
                                                        ),
                                                        SizedBox(height: 10,)
                                                      ],
                                                    ),


                                              //not&ctc
                                              if(_dropDownValueNot1!=""&&_dropDownValuectc!=""&&_dropDownValueexp=="")
                                                for(var i=0;i<snapshot.data!.data.data.intetviewListCandidates.length;i++)
                                                  if("${snapshot.data!.data.data.intetviewListCandidates[i].notice} days" == _dropDownValueNot1 &&
                                                      "${snapshot.data!.data.data.intetviewListCandidates[i].ctc} LPA" == _dropDownValuectc )
                                                    Column(
                                                      children: [
                                                        GestureDetector(
                                                          onTap:(){
                                                            Navigator.push(
                                                                context, MaterialPageRoute(
                                                                builder: (context) => Candidate(snapshot.data!.data.data.intetviewListCandidates[i].userId.toString())));


                                                          },
                                                          child: Card(
                                                            elevation: 5,
                                                            shape: RoundedRectangleBorder(
                                                                borderRadius: BorderRadius.all(Radius.circular(10))),
                                                            child: Container(
                                                              padding: EdgeInsets.all(8),
                                                              child: Column(
                                                                children: [
                                                                  Row(
                                                                    mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                    crossAxisAlignment: CrossAxisAlignment.center,
                                                                    children: [
                                                                      Row(
                                                                        children: [
                                                                          Column(
                                                                            children: [
                                                                              Center(
                                                                                child: CircleAvatar(
                                                                                  backgroundColor: Colors.transparent,
                                                                                  backgroundImage: snapshot.data!.data.data.intetviewListCandidates[i].profileImage==null?
                                                                                  NetworkImage("http://kobl.ai/img/profile.png")
                                                                                      :             NetworkImage("${snapshot.data!.data.data.intetviewListCandidates[i].profileImage}")
                                                                                  ,
                                                                                  radius: 28,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height: 5,),
                                                                              RatingBarIndicator(
                                                                                rating: 2.75,
                                                                                itemBuilder: (context, index) => Icon(
                                                                                  Icons.star,
                                                                                  color: Colors.amber,
                                                                                ),
                                                                                itemCount: 5,
                                                                                itemSize: 15,
                                                                                direction: Axis.horizontal,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          SizedBox(width: 20,),
                                                                          Column(
                                                                            crossAxisAlignment: CrossAxisAlignment.start,
                                                                            children: [
                                                                              Text(
                                                                                "${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()}",
                                                                                style: TextStyle(
                                                                                  fontWeight: FontWeight.bold,
                                                                                  fontFamily: 'Candara',
                                                                                  fontSize: 18,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height:5),
                                                                              Text(
                                                                                  '${snapshot.data!.data.data.intetviewListCandidates[i].designation.toString()}',
                                                                                  style: TextStyle(

                                                                                    fontFamily: 'Candara',
                                                                                    color: Colors.blue,
                                                                                    fontSize: 15,
                                                                                  ),
                                                                                  maxLines: 5,
                                                                                  overflow: TextOverflow.ellipsis),

                                                                              SizedBox(
                                                                                height: 10,
                                                                              ),
                                                                              if(snapshot.data!.data.data.intetviewListCandidates[i].notice.toString()!="0")
                                                                                Text("Notice : ${snapshot.data!.data.data.intetviewListCandidates[i].notice.toString()} days",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                              if(snapshot.data!.data.data.intetviewListCandidates[i].notice.toString()=="0")
                                                                                Text("Notice : Immediate",style: TextStyle(fontFamily: "Candara",fontSize: 14 ),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                              SizedBox(height: 5,),
                                                                              Row(
                                                                                children: [
                                                                                  Text("CTC : ${snapshot.data!.data.data.intetviewListCandidates[i].ctc.toString()} LPA",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                  if(snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()!="1")
                                                                                    Text("     Exp : ${snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()} yrs",style: TextStyle(fontFamily: "Candara",fontSize: 14,),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                  if(snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()=="1")
                                                                                    Text("     Exp : ${snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()} yr",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),

                                                                                ],
                                                                              ),
                                                                              SizedBox(
                                                                                height: 5,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ],
                                                                      ),
                                                                      Icon(Icons.arrow_forward_ios_outlined,color: Colors.orangeAccent,size: 20,),
                                                                    ],
                                                                  ),
                                                                  Container(
                                                                    //height: 100,
                                                                    padding: EdgeInsets.only(left: 10, right: 10, top: 10,bottom: 10),
                                                                    child: Column(
                                                                      crossAxisAlignment: CrossAxisAlignment.start,
                                                                      children: <Widget>[
                                                                        GridView.count(
                                                                          shrinkWrap: true,
                                                                          childAspectRatio: 3.5,
                                                                          crossAxisSpacing:3,
                                                                          mainAxisSpacing: 3,
                                                                          crossAxisCount: 2,
                                                                          children: <Widget>[

                                                                            GestureDetector(
                                                                                onTap: () {

                                                                                  showDialog(
                                                                                    context: context,
                                                                                    barrierDismissible: false, // user must tap button for close dialog!
                                                                                    builder: (BuildContext context) {

                                                                                      String? _character="Video";
                                                                                      isSelected1[e]=true;
                                                                                      List<String> drop=[];
                                                                                      for(var i=0;i<snapshot.data!.data.data.stages.length-1;i++)
                                                                                      {
                                                                                        drop.add(snapshot.data!.data.data.stages[i].key.toString());
                                                                                      }


                                                                                      return AlertDialog(
                                                                                        //title: Text('Delete This Contact?'),
                                                                                        shape: RoundedRectangleBorder(
                                                                                            borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                        insetPadding: EdgeInsets.zero,
                                                                                        content: Container(
                                                                                          width: double.infinity,
                                                                                          //height: Wrap(),
                                                                                          child: SingleChildScrollView(
                                                                                            child: Column(
                                                                                              mainAxisSize: MainAxisSize.min,
                                                                                              children: [
                                                                                                Column(
                                                                                                  children: [
                                                                                                    Row(
                                                                                                      children: [
                                                                                                        GestureDetector(
                                                                                                          onTap: (){
                                                                                                            Navigator.pop(context);
                                                                                                          },
                                                                                                          child: Icon(
                                                                                                            Icons.arrow_back_ios,
                                                                                                            color: Colors.black,
                                                                                                            size: 25,
                                                                                                          ),
                                                                                                        ),
                                                                                                        Text(
                                                                                                          " Schedule an Interview    ",
                                                                                                          style: TextStyle(
                                                                                                              fontWeight: FontWeight.bold, fontSize: 25),
                                                                                                        )
                                                                                                      ],
                                                                                                    ),
                                                                                                    SizedBox(
                                                                                                      height: 20,
                                                                                                    ),
                                                                                                    Form(
                                                                                                        key: _formKey,
                                                                                                        child: Column(
                                                                                                          mainAxisSize: MainAxisSize.max,
                                                                                                          crossAxisAlignment: CrossAxisAlignment.stretch,
                                                                                                          children: <Widget>[
                                                                                                            Text(
                                                                                                              "  Select Round",
                                                                                                              style: TextStyle(
                                                                                                                color: Colors.grey,
                                                                                                                fontFamily: 'Candara',
                                                                                                              ),
                                                                                                            ),

                                                                                                            FormField<String>(
                                                                                                              builder: (FormFieldState<String> state) {
                                                                                                                String _currentSelectedValue='';
                                                                                                                return Container(
                                                                                                                  height: 60,
                                                                                                                  padding: EdgeInsets.only(left: 0,right: 0),
                                                                                                                  child: InputDecorator(
                                                                                                                    decoration: InputDecoration(
                                                                                                                      //labelText: 'CLASS',
                                                                                                                        prefixIcon: Icon(Icons.leaderboard,color: Colors.grey),
                                                                                                                        labelStyle: TextStyle(fontFamily: "Candara"),
                                                                                                                        errorStyle: TextStyle(fontFamily:"Candara",color: Colors.redAccent, fontSize: 16.0),
                                                                                                                        //hintText: 'Please select expense',
                                                                                                                        enabledBorder:OutlineInputBorder(
                                                                                                                            borderSide: const BorderSide(color: Colors.grey, width: 2.0),
                                                                                                                            borderRadius: BorderRadius.circular(15)),
                                                                                                                        focusedBorder: OutlineInputBorder(
                                                                                                                            borderSide: const BorderSide(color: Colors.orangeAccent,width: 2.0),
                                                                                                                            borderRadius: BorderRadius.circular(15)
                                                                                                                        )),
                                                                                                                    //border: OutlineInputBorder(borderRadius: BorderRadius.circular(5.0))),
                                                                                                                    isEmpty: _currentSelectedValue == '',
                                                                                                                    child: DropdownButtonHideUnderline(
                                                                                                                        child: DropdownButton(
                                                                                                                          menuMaxHeight: 200,
                                                                                                                          hint: _dropDownValue == null
                                                                                                                              ? Text('Dropdown')
                                                                                                                              : Text(
                                                                                                                            _dropDownValue,
                                                                                                                            style: TextStyle(fontFamily: "Candara",color: Colors.black,fontSize: 16),
                                                                                                                          ),
                                                                                                                          isExpanded: false,
                                                                                                                          iconSize: 30.0,
                                                                                                                          style: TextStyle(color: Colors.black),
                                                                                                                          items: drop.map(
                                                                                                                                (val) {
                                                                                                                              return DropdownMenuItem<String>(
                                                                                                                                value: val,
                                                                                                                                child: Text(val),
                                                                                                                              );
                                                                                                                            },
                                                                                                                          ).toList(),
                                                                                                                          onChanged: (String? val) {
                                                                                                                            setState(() {
                                                                                                                              _dropDownValue = val!;
                                                                                                                            });

                                                                                                                            (context as Element).markNeedsBuild();

                                                                                                                          },
                                                                                                                        )
                                                                                                                    ),
                                                                                                                  ),
                                                                                                                );
                                                                                                              },
                                                                                                            ),
                                                                                                            SizedBox(height: 20),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (dateController.text.isEmpty) return 'Enter date from list';
                                                                                                                },
                                                                                                                controller: dateController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  prefixIcon: GestureDetector(
                                                                                                                      onTap: (){
                                                                                                                        _selectDate(context);
                                                                                                                      },
                                                                                                                      child: Icon(Icons.date_range,color: Colors.grey,)),
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter Date',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Please select time';
                                                                                                                },
                                                                                                                controller: timeController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  prefixIcon: GestureDetector(
                                                                                                                      onTap: (){
                                                                                                                        _selectTime(context);
                                                                                                                      },
                                                                                                                      child: Icon(Icons.access_time,color: Colors.grey,)),
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Select time',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20,),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Enter Interviewer Name';
                                                                                                                },
                                                                                                                controller: intnameController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter interviewer name',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Enter interviewer E-mail';
                                                                                                                },
                                                                                                                controller: intmailController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Interviewer E-mail ',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  prefixIcon: Icon(Icons.mail_outline, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(
                                                                                                              height: 20,
                                                                                                            ),
                                                                                                            Center(
                                                                                                              child: SingleChildScrollView(
                                                                                                                scrollDirection: Axis.horizontal,
                                                                                                                child: Center(
                                                                                                                  child: ToggleButtons(
                                                                                                                    children: <Widget>[
                                                                                                                      Text("  Video  ",
                                                                                                                          style: TextStyle(
                                                                                                                            fontSize: 20,
                                                                                                                            fontFamily: "Candara",
                                                                                                                          )),
                                                                                                                      Text("  Phone  ",
                                                                                                                          style: TextStyle(
                                                                                                                            fontSize: 20,
                                                                                                                            fontFamily: "Candara",
                                                                                                                          )),

                                                                                                                    ],
                                                                                                                    selectedBorderColor: Colors.blue[800],
                                                                                                                    selectedColor: Colors.white,
                                                                                                                    borderColor: Colors.blue,
                                                                                                                    borderRadius: BorderRadius.circular(10),
                                                                                                                    disabledColor: Colors.transparent,
                                                                                                                    disabledBorderColor: Colors.transparent,
                                                                                                                    focusColor: Colors.blue[800],
                                                                                                                    fillColor: Colors.blue[800],
                                                                                                                    onPressed: (int index) {
                                                                                                                      setState(() {
                                                                                                                        e=index;
                                                                                                                        for (int buttonIndex = 0;
                                                                                                                        buttonIndex < isSelected1.length;
                                                                                                                        buttonIndex++) {
                                                                                                                          if (buttonIndex == index) {
                                                                                                                            isSelected1[buttonIndex] = true;
                                                                                                                          } else {
                                                                                                                            isSelected1[buttonIndex] = false;
                                                                                                                          }

                                                                                                                        }


                                                                                                                      });
                                                                                                                      (context as Element).markNeedsBuild();
                                                                                                                    },
                                                                                                                    isSelected: isSelected1,
                                                                                                                  ),
                                                                                                                ),
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20,),
                                                                                                            if(e==0)
                                                                                                              Container(
                                                                                                                //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                                child: TextFormField(
                                                                                                                  //readOnly: true,
                                                                                                                  validator: (input) {
                                                                                                                    if (input!.isEmpty && e==0) return 'Please enter meetlink';
                                                                                                                  },
                                                                                                                  controller: meetlink,
                                                                                                                  decoration: InputDecoration(
                                                                                                                    prefixIcon: Icon(Icons.video_call,color: Colors.grey,),
                                                                                                                    //fillColor: Colors.white,
                                                                                                                    enabledBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.grey, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    focusedBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.orangeAccent, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    labelText: 'Enter meet link',
                                                                                                                    labelStyle: TextStyle(
                                                                                                                        fontFamily: "Candara", color: Colors.grey),
                                                                                                                    //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                    fillColor: Colors.grey,
                                                                                                                    focusColor: Colors.orangeAccent,
                                                                                                                  ),
                                                                                                                  // onSaved: (input) => _name = input!
                                                                                                                ),
                                                                                                              ),
                                                                                                            if(e==1)
                                                                                                              Container(
                                                                                                                //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                                child: TextFormField(
                                                                                                                  //readOnly: true,
                                                                                                                  validator: (input) {
                                                                                                                    if (input!.isEmpty && e==1) return 'Please enter phone';
                                                                                                                  },
                                                                                                                  controller: phonelink,
                                                                                                                  keyboardType: TextInputType.phone,
                                                                                                                  decoration: InputDecoration(
                                                                                                                    prefixIcon: Icon(Icons.phone,color: Colors.grey,),
                                                                                                                    //fillColor: Colors.white,
                                                                                                                    enabledBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.grey, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    focusedBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.orangeAccent, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    labelText: 'Enter phone no.',
                                                                                                                    labelStyle: TextStyle(
                                                                                                                        fontFamily: "Candara", color: Colors.grey),
                                                                                                                    //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                    fillColor: Colors.grey,
                                                                                                                    focusColor: Colors.orangeAccent,
                                                                                                                  ),
                                                                                                                  // onSaved: (input) => _name = input!
                                                                                                                ),
                                                                                                              ),
                                                                                                            SizedBox(
                                                                                                              height: 15,
                                                                                                            ),
                                                                                                            Container(
                                                                                                              height: 160,
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                expands: true,
                                                                                                                maxLines: null,

                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Add comments';
                                                                                                                },
                                                                                                                controller: comments,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),

                                                                                                                  labelText: 'Add comments',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                          ],
                                                                                                        )),


                                                                                                    //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                  ],
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ),
                                                                                        actions: <Widget>[
                                                                                          Center(
                                                                                            child: Row(
                                                                                              mainAxisAlignment: MainAxisAlignment.center,
                                                                                              children: [
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Row(
                                                                                                    children: [
                                                                                                      Icon(Icons.access_time,color: Colors.white,size: 20,),
                                                                                                      Text(
                                                                                                        '  Schedule',
                                                                                                        style: TextStyle(
                                                                                                          fontFamily: 'Candara',
                                                                                                        ),
                                                                                                      ),
                                                                                                    ],
                                                                                                  ),
                                                                                                  onPressed: () async {
                                                                                                    if(_formKey.currentState!.validate()&& _dropDownValue!="")
                                                                                                    {
                                                                                                      String date= dateController.text;
                                                                                                      String time= timeController.text;
                                                                                                      String link;
                                                                                                      String commet= comments.text;
                                                                                                      String type;
                                                                                                      if(e==0) {
                                                                                                        type = "Video";
                                                                                                        link=meetlink.text;
                                                                                                      }
                                                                                                      else
                                                                                                      {
                                                                                                        type="Audio";
                                                                                                        link=phonelink.text;
                                                                                                      }


                                                                                                      Interview log = await INTERVIEWapi(snapshot.data!.data.data.intetviewListCandidates[i].userId.toString(),_dropDownValue,intnameController.text,intmailController.text,type,date,time,link,commet);

                                                                                                      if(interview_code==200) {
                                                                                                        Navigator.pop(context);
                                                                                                        final Future<ConfirmAction7?> action =
                                                                                                        await _asyncConfirmDialog7(context, "${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()}");
                                                                                                      }

                                                                                                      if(interview_code==401){
                                                                                                        Navigator.pop(context);
                                                                                                        showDialog<String>(
                                                                                                            context: context,
                                                                                                            builder: (BuildContext context) => AlertDialog(
                                                                                                              title: const Text("Try Again"),
                                                                                                              content: const Text("Couldn't schedule interview"),
                                                                                                              actions: <Widget>[
                                                                                                                TextButton(
                                                                                                                    onPressed: () => Navigator.pop(context, 'OK'),
                                                                                                                    child: const Text('OK',style: TextStyle(color: Colors.teal))
                                                                                                                ),
                                                                                                              ],
                                                                                                            ));
                                                                                                      }
                                                                                                    }


                                                                                                  },
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ],
                                                                                      );
                                                                                    },
                                                                                  );


                                                                                },
                                                                                child: Card(
                                                                                  color: Colors.blue.shade200,
                                                                                  child: Padding(
                                                                                    padding: const EdgeInsets.all(5.0),
                                                                                    child: Row(
                                                                                      mainAxisAlignment: MainAxisAlignment.center,
                                                                                      children: [
                                                                                        Icon(Icons.upgrade,color:Colors.white,size: 18,),
                                                                                        //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                        SizedBox(width: 5,),
                                                                                        Text("Move next round",style: TextStyle(color: Colors.white,fontSize: 14),),
                                                                                      ],
                                                                                    ),
                                                                                  ),
                                                                                )
                                                                            ),
                                                                            GestureDetector(
                                                                                onTap: () {
                                                                                  showDialog(
                                                                                    context: context,
                                                                                    barrierDismissible: false, // user must tap button for close dialog!
                                                                                    builder: (BuildContext context) {
                                                                                      remarks=TextEditingController();
                                                                                      reasons=TextEditingController();
                                                                                      return AlertDialog(
                                                                                        //title: Text('Delete This Contact?'),
                                                                                        shape: RoundedRectangleBorder(
                                                                                            borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                        title: Center(
                                                                                          child: Text(
                                                                                            "Reject ${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()}?",
                                                                                            style: TextStyle(
                                                                                                fontWeight: FontWeight.bold,
                                                                                                fontFamily: 'Candara',
                                                                                                color: Colors.blue[800]),
                                                                                          ),
                                                                                        ),
                                                                                        content: Container(
                                                                                          width: double.infinity,
                                                                                          //height: Wrap(),
                                                                                          child: Column(
                                                                                            mainAxisSize: MainAxisSize.min,
                                                                                            children: [
                                                                                              SizedBox(
                                                                                                height: 20,
                                                                                              ),
                                                                                              Form(
                                                                                                  key: _formKey2,
                                                                                                  child: Column(
                                                                                                    mainAxisSize: MainAxisSize.max,
                                                                                                    crossAxisAlignment: CrossAxisAlignment.stretch,
                                                                                                    children: <Widget>[

                                                                                                      Container(
                                                                                                        //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                        child: TextFormField(
                                                                                                          keyboardType: TextInputType.number,
                                                                                                          validator: (input) {
                                                                                                            if (dateController.text.isEmpty) return ' Enter Reasons';
                                                                                                          },
                                                                                                          controller: reasons,
                                                                                                          decoration: InputDecoration(
                                                                                                            //fillColor: Colors.white,
                                                                                                            prefixIcon: Icon(Icons.question_mark,color: Colors.grey,),
                                                                                                            enabledBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.grey, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),
                                                                                                            focusedBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.orangeAccent, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),
                                                                                                            labelText: 'Enter Reason',
                                                                                                            labelStyle: TextStyle(
                                                                                                                fontFamily: "Candara", color: Colors.grey),
                                                                                                            //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                            fillColor: Colors.grey,
                                                                                                            focusColor: Colors.orangeAccent,
                                                                                                          ),
                                                                                                          // onSaved: (input) => _name = input!
                                                                                                        ),
                                                                                                      ),
                                                                                                      SizedBox(height: 20),
                                                                                                      Container(
                                                                                                        height: 160,
                                                                                                        //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                        child: TextFormField(
                                                                                                          expands: true,
                                                                                                          maxLines: null,

                                                                                                          validator: (input) {
                                                                                                            if (input!.isEmpty) return 'Add Remarks';
                                                                                                          },
                                                                                                          controller: remarks,
                                                                                                          decoration: InputDecoration(
                                                                                                            //fillColor: Colors.white,
                                                                                                            enabledBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.grey, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),
                                                                                                            focusedBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.orangeAccent, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),

                                                                                                            labelText: 'Add Remarks',
                                                                                                            labelStyle: TextStyle(
                                                                                                                fontFamily: "Candara", color: Colors.grey),
                                                                                                            //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                            fillColor: Colors.grey,
                                                                                                            focusColor: Colors.orangeAccent,
                                                                                                          ),
                                                                                                          // onSaved: (input) => _name = input!
                                                                                                        ),
                                                                                                      ),


                                                                                                    ],
                                                                                                  )),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                        actions: <Widget>[
                                                                                          Center(
                                                                                            child: Row(
                                                                                              mainAxisAlignment: MainAxisAlignment.center,
                                                                                              children: [
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Text(
                                                                                                    'Reject',
                                                                                                    style: TextStyle(
                                                                                                      fontFamily: 'Candara',
                                                                                                    ),
                                                                                                  ),
                                                                                                  onPressed: () async{
                                                                                                    if(_formKey2.currentState!.validate()) {
                                                                                                      Shortlist c = await rejectapi(
                                                                                                          snapshot.data!.data.data.intetviewListCandidates[i].userId.toString(),
                                                                                                          reasons.text,
                                                                                                          remarks.text);
                                                                                                      if (reject_code == 200)
                                                                                                      {
                                                                                                        Navigator.pop(context);
                                                                                                        showDialog(
                                                                                                          context: context,
                                                                                                          barrierDismissible: false, // user must tap button for close dialog!
                                                                                                          builder: (BuildContext context) {

                                                                                                            return AlertDialog(
                                                                                                              //title: Text('Delete This Contact?'),
                                                                                                              shape: RoundedRectangleBorder(
                                                                                                                  borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                                              insetPadding: EdgeInsets.zero,
                                                                                                              content: Container(
                                                                                                                width: double.infinity,
                                                                                                                //height: Wrap(),
                                                                                                                child: SingleChildScrollView(
                                                                                                                  child: Column(
                                                                                                                    mainAxisSize: MainAxisSize.min,
                                                                                                                    children: [
                                                                                                                      Column(
                                                                                                                        children: [
                                                                                                                          Text(
                                                                                                                            " Rejected ${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()} successfully",
                                                                                                                            style: TextStyle(
                                                                                                                                fontWeight: FontWeight.bold, fontSize: 25),
                                                                                                                          ),

                                                                                                                          //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                                        ],
                                                                                                                      ),
                                                                                                                    ],
                                                                                                                  ),
                                                                                                                ),
                                                                                                              ),
                                                                                                              actions: <Widget>[
                                                                                                                Center(
                                                                                                                  child: Row(
                                                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                                                    children: [
                                                                                                                      ElevatedButton(
                                                                                                                        style: ButtonStyle(
                                                                                                                            backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                                                Color.fromARGB(255, 59, 48, 214))),
                                                                                                                        child: Row(
                                                                                                                          children: [
                                                                                                                            Icon(Icons.check_circle_outline,color: Colors.white,size: 20,),
                                                                                                                            Text(
                                                                                                                              '  Okay',
                                                                                                                              style: TextStyle(
                                                                                                                                fontFamily: 'Candara',
                                                                                                                              ),
                                                                                                                            ),
                                                                                                                          ],
                                                                                                                        ),
                                                                                                                        onPressed: () async {
                                                                                                                          Navigator.pop(context);
                                                                                                                          Navigator.push(
                                                                                                                              context,
                                                                                                                              MaterialPageRoute(
                                                                                                                                  builder: (context) => Dashboard()));


                                                                                                                        },
                                                                                                                      ),
                                                                                                                    ],
                                                                                                                  ),
                                                                                                                ),
                                                                                                              ],
                                                                                                            );
                                                                                                          },
                                                                                                        );
                                                                                                      }

                                                                                                    }
                                                                                                  },
                                                                                                ),
                                                                                                SizedBox(width: 20,),
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Text(
                                                                                                    'Cancel',
                                                                                                    style: TextStyle(
                                                                                                      fontFamily: 'Candara',
                                                                                                    ),
                                                                                                  ),
                                                                                                  onPressed: () {

                                                                                                    Navigator.pop(context);
                                                                                                  },
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ],
                                                                                      );
                                                                                    },
                                                                                  );
                                                                                },
                                                                                child: Card(
                                                                                  color: Colors.redAccent,
                                                                                  child: Padding(
                                                                                    padding: const EdgeInsets.all(5.0),
                                                                                    child: Row(
                                                                                      mainAxisAlignment: MainAxisAlignment.center,
                                                                                      children: [
                                                                                        Icon(Icons.remove_circle_outline,color: Colors.white,size: 18,),
                                                                                        //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                        SizedBox(width: 5,),
                                                                                        Text("Reject",style: TextStyle(color: Colors.white,fontSize: 15),),
                                                                                      ],
                                                                                    ),
                                                                                  ),
                                                                                )
                                                                            )


                                                                          ],
                                                                        ),

                                                                      ],
                                                                    ),
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                          ),
                                                        ),
                                                        SizedBox(height: 10,)
                                                      ],
                                                    ),


                                              //CTC&EXP
                                              if(_dropDownValueNot1==""&&_dropDownValuectc!=""&&_dropDownValueexp!="")
                                                for(var i=0;i<snapshot.data!.data.data.intetviewListCandidates.length;i++)
                                                  if("${snapshot.data!.data.data.intetviewListCandidates[i].exp} yrs" == _dropDownValueexp &&
                                                      "${snapshot.data!.data.data.intetviewListCandidates[i].ctc} LPA" == _dropDownValuectc )
                                                    Column(
                                                      children: [
                                                        GestureDetector(
                                                          onTap:(){
                                                            Navigator.push(
                                                                context, MaterialPageRoute(
                                                                builder: (context) => Candidate(snapshot.data!.data.data.intetviewListCandidates[i].userId.toString())));


                                                          },
                                                          child: Card(
                                                            elevation: 5,
                                                            shape: RoundedRectangleBorder(
                                                                borderRadius: BorderRadius.all(Radius.circular(10))),
                                                            child: Container(
                                                              padding: EdgeInsets.all(8),
                                                              child: Column(
                                                                children: [
                                                                  Row(
                                                                    mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                    crossAxisAlignment: CrossAxisAlignment.center,
                                                                    children: [
                                                                      Row(
                                                                        children: [
                                                                          Column(
                                                                            children: [
                                                                              Center(
                                                                                child: CircleAvatar(
                                                                                  backgroundColor: Colors.transparent,
                                                                                  backgroundImage: snapshot.data!.data.data.intetviewListCandidates[i].profileImage==null?
                                                                                  NetworkImage("http://kobl.ai/img/profile.png")
                                                                                      :             NetworkImage("${snapshot.data!.data.data.intetviewListCandidates[i].profileImage}")
                                                                                  ,
                                                                                  radius: 28,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height: 5,),
                                                                              RatingBarIndicator(
                                                                                rating: 2.75,
                                                                                itemBuilder: (context, index) => Icon(
                                                                                  Icons.star,
                                                                                  color: Colors.amber,
                                                                                ),
                                                                                itemCount: 5,
                                                                                itemSize: 15,
                                                                                direction: Axis.horizontal,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          SizedBox(width: 20,),
                                                                          Column(
                                                                            crossAxisAlignment: CrossAxisAlignment.start,
                                                                            children: [
                                                                              Text(
                                                                                "${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()}",
                                                                                style: TextStyle(
                                                                                  fontWeight: FontWeight.bold,
                                                                                  fontFamily: 'Candara',
                                                                                  fontSize: 18,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height:5),
                                                                              Text(
                                                                                  '${snapshot.data!.data.data.intetviewListCandidates[i].designation.toString()}',
                                                                                  style: TextStyle(

                                                                                    fontFamily: 'Candara',
                                                                                    color: Colors.blue,
                                                                                    fontSize: 15,
                                                                                  ),
                                                                                  maxLines: 5,
                                                                                  overflow: TextOverflow.ellipsis),

                                                                              SizedBox(
                                                                                height: 10,
                                                                              ),
                                                                              if(snapshot.data!.data.data.intetviewListCandidates[i].notice.toString()!="0")
                                                                                Text("Notice : ${snapshot.data!.data.data.intetviewListCandidates[i].notice.toString()} days",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                              if(snapshot.data!.data.data.intetviewListCandidates[i].notice.toString()=="0")
                                                                                Text("Notice : Immediate",style: TextStyle(fontFamily: "Candara",fontSize: 14 ),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                              SizedBox(height: 5,),
                                                                              Row(
                                                                                children: [
                                                                                  Text("CTC : ${snapshot.data!.data.data.intetviewListCandidates[i].ctc.toString()} LPA",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                  if(snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()!="1")
                                                                                    Text("     Exp : ${snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()} yrs",style: TextStyle(fontFamily: "Candara",fontSize: 14,),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                  if(snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()=="1")
                                                                                    Text("     Exp : ${snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()} yr",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),

                                                                                ],
                                                                              ),
                                                                              SizedBox(
                                                                                height: 5,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ],
                                                                      ),
                                                                      Icon(Icons.arrow_forward_ios_outlined,color: Colors.orangeAccent,size: 20,),
                                                                    ],
                                                                  ),
                                                                  Container(
                                                                    //height: 100,
                                                                    padding: EdgeInsets.only(left: 10, right: 10, top: 10,bottom: 10),
                                                                    child: Column(
                                                                      crossAxisAlignment: CrossAxisAlignment.start,
                                                                      children: <Widget>[
                                                                        GridView.count(
                                                                          shrinkWrap: true,
                                                                          childAspectRatio: 3.5,
                                                                          crossAxisSpacing:3,
                                                                          mainAxisSpacing: 3,
                                                                          crossAxisCount: 2,
                                                                          children: <Widget>[

                                                                            GestureDetector(
                                                                                onTap: () {

                                                                                  showDialog(
                                                                                    context: context,
                                                                                    barrierDismissible: false, // user must tap button for close dialog!
                                                                                    builder: (BuildContext context) {

                                                                                      String? _character="Video";
                                                                                      isSelected1[e]=true;
                                                                                      List<String> drop=[];
                                                                                      for(var i=0;i<snapshot.data!.data.data.stages.length-1;i++)
                                                                                      {
                                                                                        drop.add(snapshot.data!.data.data.stages[i].key.toString());
                                                                                      }


                                                                                      return AlertDialog(
                                                                                        //title: Text('Delete This Contact?'),
                                                                                        shape: RoundedRectangleBorder(
                                                                                            borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                        insetPadding: EdgeInsets.zero,
                                                                                        content: Container(
                                                                                          width: double.infinity,
                                                                                          //height: Wrap(),
                                                                                          child: SingleChildScrollView(
                                                                                            child: Column(
                                                                                              mainAxisSize: MainAxisSize.min,
                                                                                              children: [
                                                                                                Column(
                                                                                                  children: [
                                                                                                    Row(
                                                                                                      children: [
                                                                                                        GestureDetector(
                                                                                                          onTap: (){
                                                                                                            Navigator.pop(context);
                                                                                                          },
                                                                                                          child: Icon(
                                                                                                            Icons.arrow_back_ios,
                                                                                                            color: Colors.black,
                                                                                                            size: 25,
                                                                                                          ),
                                                                                                        ),
                                                                                                        Text(
                                                                                                          " Schedule an Interview    ",
                                                                                                          style: TextStyle(
                                                                                                              fontWeight: FontWeight.bold, fontSize: 25),
                                                                                                        )
                                                                                                      ],
                                                                                                    ),
                                                                                                    SizedBox(
                                                                                                      height: 20,
                                                                                                    ),
                                                                                                    Form(
                                                                                                        key: _formKey,
                                                                                                        child: Column(
                                                                                                          mainAxisSize: MainAxisSize.max,
                                                                                                          crossAxisAlignment: CrossAxisAlignment.stretch,
                                                                                                          children: <Widget>[
                                                                                                            Text(
                                                                                                              "  Select Round",
                                                                                                              style: TextStyle(
                                                                                                                color: Colors.grey,
                                                                                                                fontFamily: 'Candara',
                                                                                                              ),
                                                                                                            ),

                                                                                                            FormField<String>(
                                                                                                              builder: (FormFieldState<String> state) {
                                                                                                                String _currentSelectedValue='';
                                                                                                                return Container(
                                                                                                                  height: 60,
                                                                                                                  padding: EdgeInsets.only(left: 0,right: 0),
                                                                                                                  child: InputDecorator(
                                                                                                                    decoration: InputDecoration(
                                                                                                                      //labelText: 'CLASS',
                                                                                                                        prefixIcon: Icon(Icons.leaderboard,color: Colors.grey),
                                                                                                                        labelStyle: TextStyle(fontFamily: "Candara"),
                                                                                                                        errorStyle: TextStyle(fontFamily:"Candara",color: Colors.redAccent, fontSize: 16.0),
                                                                                                                        //hintText: 'Please select expense',
                                                                                                                        enabledBorder:OutlineInputBorder(
                                                                                                                            borderSide: const BorderSide(color: Colors.grey, width: 2.0),
                                                                                                                            borderRadius: BorderRadius.circular(15)),
                                                                                                                        focusedBorder: OutlineInputBorder(
                                                                                                                            borderSide: const BorderSide(color: Colors.orangeAccent,width: 2.0),
                                                                                                                            borderRadius: BorderRadius.circular(15)
                                                                                                                        )),
                                                                                                                    //border: OutlineInputBorder(borderRadius: BorderRadius.circular(5.0))),
                                                                                                                    isEmpty: _currentSelectedValue == '',
                                                                                                                    child: DropdownButtonHideUnderline(
                                                                                                                        child: DropdownButton(
                                                                                                                          menuMaxHeight: 200,
                                                                                                                          hint: _dropDownValue == null
                                                                                                                              ? Text('Dropdown')
                                                                                                                              : Text(
                                                                                                                            _dropDownValue,
                                                                                                                            style: TextStyle(fontFamily: "Candara",color: Colors.black,fontSize: 16),
                                                                                                                          ),
                                                                                                                          isExpanded: false,
                                                                                                                          iconSize: 30.0,
                                                                                                                          style: TextStyle(color: Colors.black),
                                                                                                                          items: drop.map(
                                                                                                                                (val) {
                                                                                                                              return DropdownMenuItem<String>(
                                                                                                                                value: val,
                                                                                                                                child: Text(val),
                                                                                                                              );
                                                                                                                            },
                                                                                                                          ).toList(),
                                                                                                                          onChanged: (String? val) {
                                                                                                                            setState(() {
                                                                                                                              _dropDownValue = val!;
                                                                                                                            });

                                                                                                                            (context as Element).markNeedsBuild();

                                                                                                                          },
                                                                                                                        )
                                                                                                                    ),
                                                                                                                  ),
                                                                                                                );
                                                                                                              },
                                                                                                            ),
                                                                                                            SizedBox(height: 20),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (dateController.text.isEmpty) return 'Enter date from list';
                                                                                                                },
                                                                                                                controller: dateController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  prefixIcon: GestureDetector(
                                                                                                                      onTap: (){
                                                                                                                        _selectDate(context);
                                                                                                                      },
                                                                                                                      child: Icon(Icons.date_range,color: Colors.grey,)),
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter Date',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Please select time';
                                                                                                                },
                                                                                                                controller: timeController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  prefixIcon: GestureDetector(
                                                                                                                      onTap: (){
                                                                                                                        _selectTime(context);
                                                                                                                      },
                                                                                                                      child: Icon(Icons.access_time,color: Colors.grey,)),
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Select time',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20,),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Enter Interviewer Name';
                                                                                                                },
                                                                                                                controller: intnameController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter interviewer name',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Enter interviewer E-mail';
                                                                                                                },
                                                                                                                controller: intmailController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Interviewer E-mail ',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  prefixIcon: Icon(Icons.mail_outline, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(
                                                                                                              height: 20,
                                                                                                            ),
                                                                                                            Center(
                                                                                                              child: SingleChildScrollView(
                                                                                                                scrollDirection: Axis.horizontal,
                                                                                                                child: Center(
                                                                                                                  child: ToggleButtons(
                                                                                                                    children: <Widget>[
                                                                                                                      Text("  Video  ",
                                                                                                                          style: TextStyle(
                                                                                                                            fontSize: 20,
                                                                                                                            fontFamily: "Candara",
                                                                                                                          )),
                                                                                                                      Text("  Phone  ",
                                                                                                                          style: TextStyle(
                                                                                                                            fontSize: 20,
                                                                                                                            fontFamily: "Candara",
                                                                                                                          )),

                                                                                                                    ],
                                                                                                                    selectedBorderColor: Colors.blue[800],
                                                                                                                    selectedColor: Colors.white,
                                                                                                                    borderColor: Colors.blue,
                                                                                                                    borderRadius: BorderRadius.circular(10),
                                                                                                                    disabledColor: Colors.transparent,
                                                                                                                    disabledBorderColor: Colors.transparent,
                                                                                                                    focusColor: Colors.blue[800],
                                                                                                                    fillColor: Colors.blue[800],
                                                                                                                    onPressed: (int index) {
                                                                                                                      setState(() {
                                                                                                                        e=index;
                                                                                                                        for (int buttonIndex = 0;
                                                                                                                        buttonIndex < isSelected1.length;
                                                                                                                        buttonIndex++) {
                                                                                                                          if (buttonIndex == index) {
                                                                                                                            isSelected1[buttonIndex] = true;
                                                                                                                          } else {
                                                                                                                            isSelected1[buttonIndex] = false;
                                                                                                                          }

                                                                                                                        }


                                                                                                                      });
                                                                                                                      (context as Element).markNeedsBuild();
                                                                                                                    },
                                                                                                                    isSelected: isSelected1,
                                                                                                                  ),
                                                                                                                ),
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20,),
                                                                                                            if(e==0)
                                                                                                              Container(
                                                                                                                //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                                child: TextFormField(
                                                                                                                  //readOnly: true,
                                                                                                                  validator: (input) {
                                                                                                                    if (input!.isEmpty && e==0) return 'Please enter meetlink';
                                                                                                                  },
                                                                                                                  controller: meetlink,
                                                                                                                  decoration: InputDecoration(
                                                                                                                    prefixIcon: Icon(Icons.video_call,color: Colors.grey,),
                                                                                                                    //fillColor: Colors.white,
                                                                                                                    enabledBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.grey, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    focusedBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.orangeAccent, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    labelText: 'Enter meet link',
                                                                                                                    labelStyle: TextStyle(
                                                                                                                        fontFamily: "Candara", color: Colors.grey),
                                                                                                                    //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                    fillColor: Colors.grey,
                                                                                                                    focusColor: Colors.orangeAccent,
                                                                                                                  ),
                                                                                                                  // onSaved: (input) => _name = input!
                                                                                                                ),
                                                                                                              ),
                                                                                                            if(e==1)
                                                                                                              Container(
                                                                                                                //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                                child: TextFormField(
                                                                                                                  //readOnly: true,
                                                                                                                  validator: (input) {
                                                                                                                    if (input!.isEmpty && e==1) return 'Please enter phone';
                                                                                                                  },
                                                                                                                  controller: phonelink,
                                                                                                                  keyboardType: TextInputType.phone,
                                                                                                                  decoration: InputDecoration(
                                                                                                                    prefixIcon: Icon(Icons.phone,color: Colors.grey,),
                                                                                                                    //fillColor: Colors.white,
                                                                                                                    enabledBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.grey, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    focusedBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.orangeAccent, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    labelText: 'Enter phone no.',
                                                                                                                    labelStyle: TextStyle(
                                                                                                                        fontFamily: "Candara", color: Colors.grey),
                                                                                                                    //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                    fillColor: Colors.grey,
                                                                                                                    focusColor: Colors.orangeAccent,
                                                                                                                  ),
                                                                                                                  // onSaved: (input) => _name = input!
                                                                                                                ),
                                                                                                              ),
                                                                                                            SizedBox(
                                                                                                              height: 15,
                                                                                                            ),
                                                                                                            Container(
                                                                                                              height: 160,
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                expands: true,
                                                                                                                maxLines: null,

                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Add comments';
                                                                                                                },
                                                                                                                controller: comments,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),

                                                                                                                  labelText: 'Add comments',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                          ],
                                                                                                        )),


                                                                                                    //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                  ],
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ),
                                                                                        actions: <Widget>[
                                                                                          Center(
                                                                                            child: Row(
                                                                                              mainAxisAlignment: MainAxisAlignment.center,
                                                                                              children: [
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Row(
                                                                                                    children: [
                                                                                                      Icon(Icons.access_time,color: Colors.white,size: 20,),
                                                                                                      Text(
                                                                                                        '  Schedule',
                                                                                                        style: TextStyle(
                                                                                                          fontFamily: 'Candara',
                                                                                                        ),
                                                                                                      ),
                                                                                                    ],
                                                                                                  ),
                                                                                                  onPressed: () async {
                                                                                                    if(_formKey.currentState!.validate()&& _dropDownValue!="")
                                                                                                    {
                                                                                                      String date= dateController.text;
                                                                                                      String time= timeController.text;
                                                                                                      String link;
                                                                                                      String commet= comments.text;
                                                                                                      String type;
                                                                                                      if(e==0) {
                                                                                                        type = "Video";
                                                                                                        link=meetlink.text;
                                                                                                      }
                                                                                                      else
                                                                                                      {
                                                                                                        type="Audio";
                                                                                                        link=phonelink.text;
                                                                                                      }


                                                                                                      Interview log = await INTERVIEWapi(snapshot.data!.data.data.intetviewListCandidates[i].userId.toString(),_dropDownValue,intnameController.text,intmailController.text,type,date,time,link,commet);

                                                                                                      if(interview_code==200) {
                                                                                                        Navigator.pop(context);
                                                                                                        final Future<ConfirmAction7?> action =
                                                                                                        await _asyncConfirmDialog7(context, "${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()}");
                                                                                                      }

                                                                                                      if(interview_code==401){
                                                                                                        Navigator.pop(context);
                                                                                                        showDialog<String>(
                                                                                                            context: context,
                                                                                                            builder: (BuildContext context) => AlertDialog(
                                                                                                              title: const Text("Try Again"),
                                                                                                              content: const Text("Couldn't schedule interview"),
                                                                                                              actions: <Widget>[
                                                                                                                TextButton(
                                                                                                                    onPressed: () => Navigator.pop(context, 'OK'),
                                                                                                                    child: const Text('OK',style: TextStyle(color: Colors.teal))
                                                                                                                ),
                                                                                                              ],
                                                                                                            ));
                                                                                                      }
                                                                                                    }


                                                                                                  },
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ],
                                                                                      );
                                                                                    },
                                                                                  );


                                                                                },
                                                                                child: Card(
                                                                                  color: Colors.blue.shade200,
                                                                                  child: Padding(
                                                                                    padding: const EdgeInsets.all(5.0),
                                                                                    child: Row(
                                                                                      mainAxisAlignment: MainAxisAlignment.center,
                                                                                      children: [
                                                                                        Icon(Icons.upgrade,color:Colors.white,size: 18,),
                                                                                        //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                        SizedBox(width: 5,),
                                                                                        Text("Move next round",style: TextStyle(color: Colors.white,fontSize: 14),),
                                                                                      ],
                                                                                    ),
                                                                                  ),
                                                                                )
                                                                            ),
                                                                            GestureDetector(
                                                                                onTap: () {
                                                                                  showDialog(
                                                                                    context: context,
                                                                                    barrierDismissible: false, // user must tap button for close dialog!
                                                                                    builder: (BuildContext context) {
                                                                                      remarks=TextEditingController();
                                                                                      reasons=TextEditingController();
                                                                                      return AlertDialog(
                                                                                        //title: Text('Delete This Contact?'),
                                                                                        shape: RoundedRectangleBorder(
                                                                                            borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                        title: Center(
                                                                                          child: Text(
                                                                                            "Reject ${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()}?",
                                                                                            style: TextStyle(
                                                                                                fontWeight: FontWeight.bold,
                                                                                                fontFamily: 'Candara',
                                                                                                color: Colors.blue[800]),
                                                                                          ),
                                                                                        ),
                                                                                        content: Container(
                                                                                          width: double.infinity,
                                                                                          //height: Wrap(),
                                                                                          child: Column(
                                                                                            mainAxisSize: MainAxisSize.min,
                                                                                            children: [
                                                                                              SizedBox(
                                                                                                height: 20,
                                                                                              ),
                                                                                              Form(
                                                                                                  key: _formKey2,
                                                                                                  child: Column(
                                                                                                    mainAxisSize: MainAxisSize.max,
                                                                                                    crossAxisAlignment: CrossAxisAlignment.stretch,
                                                                                                    children: <Widget>[

                                                                                                      Container(
                                                                                                        //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                        child: TextFormField(
                                                                                                          keyboardType: TextInputType.number,
                                                                                                          validator: (input) {
                                                                                                            if (dateController.text.isEmpty) return ' Enter Reasons';
                                                                                                          },
                                                                                                          controller: reasons,
                                                                                                          decoration: InputDecoration(
                                                                                                            //fillColor: Colors.white,
                                                                                                            prefixIcon: Icon(Icons.question_mark,color: Colors.grey,),
                                                                                                            enabledBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.grey, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),
                                                                                                            focusedBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.orangeAccent, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),
                                                                                                            labelText: 'Enter Reason',
                                                                                                            labelStyle: TextStyle(
                                                                                                                fontFamily: "Candara", color: Colors.grey),
                                                                                                            //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                            fillColor: Colors.grey,
                                                                                                            focusColor: Colors.orangeAccent,
                                                                                                          ),
                                                                                                          // onSaved: (input) => _name = input!
                                                                                                        ),
                                                                                                      ),
                                                                                                      SizedBox(height: 20),
                                                                                                      Container(
                                                                                                        height: 160,
                                                                                                        //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                        child: TextFormField(
                                                                                                          expands: true,
                                                                                                          maxLines: null,

                                                                                                          validator: (input) {
                                                                                                            if (input!.isEmpty) return 'Add Remarks';
                                                                                                          },
                                                                                                          controller: remarks,
                                                                                                          decoration: InputDecoration(
                                                                                                            //fillColor: Colors.white,
                                                                                                            enabledBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.grey, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),
                                                                                                            focusedBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.orangeAccent, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),

                                                                                                            labelText: 'Add Remarks',
                                                                                                            labelStyle: TextStyle(
                                                                                                                fontFamily: "Candara", color: Colors.grey),
                                                                                                            //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                            fillColor: Colors.grey,
                                                                                                            focusColor: Colors.orangeAccent,
                                                                                                          ),
                                                                                                          // onSaved: (input) => _name = input!
                                                                                                        ),
                                                                                                      ),


                                                                                                    ],
                                                                                                  )),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                        actions: <Widget>[
                                                                                          Center(
                                                                                            child: Row(
                                                                                              mainAxisAlignment: MainAxisAlignment.center,
                                                                                              children: [
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Text(
                                                                                                    'Reject',
                                                                                                    style: TextStyle(
                                                                                                      fontFamily: 'Candara',
                                                                                                    ),
                                                                                                  ),
                                                                                                  onPressed: () async{
                                                                                                    if(_formKey2.currentState!.validate()) {
                                                                                                      Shortlist c = await rejectapi(
                                                                                                          snapshot.data!.data.data.intetviewListCandidates[i].userId.toString(),
                                                                                                          reasons.text,
                                                                                                          remarks.text);
                                                                                                      if (reject_code == 200)
                                                                                                      {
                                                                                                        Navigator.pop(context);
                                                                                                        showDialog(
                                                                                                          context: context,
                                                                                                          barrierDismissible: false, // user must tap button for close dialog!
                                                                                                          builder: (BuildContext context) {

                                                                                                            return AlertDialog(
                                                                                                              //title: Text('Delete This Contact?'),
                                                                                                              shape: RoundedRectangleBorder(
                                                                                                                  borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                                              insetPadding: EdgeInsets.zero,
                                                                                                              content: Container(
                                                                                                                width: double.infinity,
                                                                                                                //height: Wrap(),
                                                                                                                child: SingleChildScrollView(
                                                                                                                  child: Column(
                                                                                                                    mainAxisSize: MainAxisSize.min,
                                                                                                                    children: [
                                                                                                                      Column(
                                                                                                                        children: [
                                                                                                                          Text(
                                                                                                                            " Rejected ${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()} successfully",
                                                                                                                            style: TextStyle(
                                                                                                                                fontWeight: FontWeight.bold, fontSize: 25),
                                                                                                                          ),

                                                                                                                          //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                                        ],
                                                                                                                      ),
                                                                                                                    ],
                                                                                                                  ),
                                                                                                                ),
                                                                                                              ),
                                                                                                              actions: <Widget>[
                                                                                                                Center(
                                                                                                                  child: Row(
                                                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                                                    children: [
                                                                                                                      ElevatedButton(
                                                                                                                        style: ButtonStyle(
                                                                                                                            backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                                                Color.fromARGB(255, 59, 48, 214))),
                                                                                                                        child: Row(
                                                                                                                          children: [
                                                                                                                            Icon(Icons.check_circle_outline,color: Colors.white,size: 20,),
                                                                                                                            Text(
                                                                                                                              '  Okay',
                                                                                                                              style: TextStyle(
                                                                                                                                fontFamily: 'Candara',
                                                                                                                              ),
                                                                                                                            ),
                                                                                                                          ],
                                                                                                                        ),
                                                                                                                        onPressed: () async {
                                                                                                                          Navigator.pop(context);
                                                                                                                          Navigator.push(
                                                                                                                              context,
                                                                                                                              MaterialPageRoute(
                                                                                                                                  builder: (context) => Dashboard()));


                                                                                                                        },
                                                                                                                      ),
                                                                                                                    ],
                                                                                                                  ),
                                                                                                                ),
                                                                                                              ],
                                                                                                            );
                                                                                                          },
                                                                                                        );
                                                                                                      }

                                                                                                    }
                                                                                                  },
                                                                                                ),
                                                                                                SizedBox(width: 20,),
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Text(
                                                                                                    'Cancel',
                                                                                                    style: TextStyle(
                                                                                                      fontFamily: 'Candara',
                                                                                                    ),
                                                                                                  ),
                                                                                                  onPressed: () {

                                                                                                    Navigator.pop(context);
                                                                                                  },
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ],
                                                                                      );
                                                                                    },
                                                                                  );
                                                                                },
                                                                                child: Card(
                                                                                  color: Colors.redAccent,
                                                                                  child: Padding(
                                                                                    padding: const EdgeInsets.all(5.0),
                                                                                    child: Row(
                                                                                      mainAxisAlignment: MainAxisAlignment.center,
                                                                                      children: [
                                                                                        Icon(Icons.remove_circle_outline,color: Colors.white,size: 18,),
                                                                                        //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                        SizedBox(width: 5,),
                                                                                        Text("Reject",style: TextStyle(color: Colors.white,fontSize: 15),),
                                                                                      ],
                                                                                    ),
                                                                                  ),
                                                                                )
                                                                            )


                                                                          ],
                                                                        ),

                                                                      ],
                                                                    ),
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                          ),
                                                        ),
                                                        SizedBox(height: 10,)
                                                      ],
                                                    ),

                                              //all filter
                                              if(_dropDownValueNot1!=""&&_dropDownValuectc!=""&&_dropDownValueexp!="")
                                                for(var i=0;i<snapshot.data!.data.data.intetviewListCandidates.length;i++)
                                                  if("${snapshot.data!.data.data.intetviewListCandidates[i].notice} days" == _dropDownValueNot1 &&
                                                      "${snapshot.data!.data.data.intetviewListCandidates[i].ctc} LPA" == _dropDownValuectc &&
                                                      "${snapshot.data!.data.data.intetviewListCandidates[i].exp} yrs" == _dropDownValueexp)
                                                    Column(
                                                      children: [
                                                        GestureDetector(
                                                          onTap:(){
                                                            Navigator.push(
                                                                context, MaterialPageRoute(
                                                                builder: (context) => Candidate(snapshot.data!.data.data.intetviewListCandidates[i].userId.toString())));


                                                          },
                                                          child: Card(
                                                            elevation: 5,
                                                            shape: RoundedRectangleBorder(
                                                                borderRadius: BorderRadius.all(Radius.circular(10))),
                                                            child: Container(
                                                              padding: EdgeInsets.all(8),
                                                              child: Column(
                                                                children: [
                                                                  Row(
                                                                    mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                    crossAxisAlignment: CrossAxisAlignment.center,
                                                                    children: [
                                                                      Row(
                                                                        children: [
                                                                          Column(
                                                                            children: [
                                                                              Center(
                                                                                child: CircleAvatar(
                                                                                  backgroundColor: Colors.transparent,
                                                                                  backgroundImage: snapshot.data!.data.data.intetviewListCandidates[i].profileImage==null?
                                                                                  NetworkImage("http://kobl.ai/img/profile.png")
                                                                                      :             NetworkImage("${snapshot.data!.data.data.intetviewListCandidates[i].profileImage}")
                                                                                  ,
                                                                                  radius: 28,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height: 5,),
                                                                              RatingBarIndicator(
                                                                                rating: 2.75,
                                                                                itemBuilder: (context, index) => Icon(
                                                                                  Icons.star,
                                                                                  color: Colors.amber,
                                                                                ),
                                                                                itemCount: 5,
                                                                                itemSize: 15,
                                                                                direction: Axis.horizontal,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          SizedBox(width: 20,),
                                                                          Column(
                                                                            crossAxisAlignment: CrossAxisAlignment.start,
                                                                            children: [
                                                                              Text(
                                                                                "${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()}",
                                                                                style: TextStyle(
                                                                                  fontWeight: FontWeight.bold,
                                                                                  fontFamily: 'Candara',
                                                                                  fontSize: 18,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height:5),
                                                                              Text(
                                                                                  '${snapshot.data!.data.data.intetviewListCandidates[i].designation.toString()}',
                                                                                  style: TextStyle(

                                                                                    fontFamily: 'Candara',
                                                                                    color: Colors.blue,
                                                                                    fontSize: 15,
                                                                                  ),
                                                                                  maxLines: 5,
                                                                                  overflow: TextOverflow.ellipsis),

                                                                              SizedBox(
                                                                                height: 10,
                                                                              ),
                                                                              if(snapshot.data!.data.data.intetviewListCandidates[i].notice.toString()!="0")
                                                                                Text("Notice : ${snapshot.data!.data.data.intetviewListCandidates[i].notice.toString()} days",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                              if(snapshot.data!.data.data.intetviewListCandidates[i].notice.toString()=="0")
                                                                                Text("Notice : Immediate",style: TextStyle(fontFamily: "Candara",fontSize: 14 ),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                              SizedBox(height: 5,),
                                                                              Row(
                                                                                children: [
                                                                                  Text("CTC : ${snapshot.data!.data.data.intetviewListCandidates[i].ctc.toString()} LPA",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                  if(snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()!="1")
                                                                                    Text("     Exp : ${snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()} yrs",style: TextStyle(fontFamily: "Candara",fontSize: 14,),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                  if(snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()=="1")
                                                                                    Text("     Exp : ${snapshot.data!.data.data.intetviewListCandidates[i].exp.toString()} yr",style: TextStyle(fontFamily: "Candara",fontSize: 14),overflow: TextOverflow.ellipsis,maxLines: 2),

                                                                                ],
                                                                              ),
                                                                              SizedBox(
                                                                                height: 5,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ],
                                                                      ),
                                                                      Icon(Icons.arrow_forward_ios_outlined,color: Colors.orangeAccent,size: 20,),
                                                                    ],
                                                                  ),
                                                                  Container(
                                                                    //height: 100,
                                                                    padding: EdgeInsets.only(left: 10, right: 10, top: 10,bottom: 10),
                                                                    child: Column(
                                                                      crossAxisAlignment: CrossAxisAlignment.start,
                                                                      children: <Widget>[
                                                                        GridView.count(
                                                                          shrinkWrap: true,
                                                                          childAspectRatio: 3.5,
                                                                          crossAxisSpacing:3,
                                                                          mainAxisSpacing: 3,
                                                                          crossAxisCount: 2,
                                                                          children: <Widget>[

                                                                            GestureDetector(
                                                                                onTap: () {

                                                                                  showDialog(
                                                                                    context: context,
                                                                                    barrierDismissible: false, // user must tap button for close dialog!
                                                                                    builder: (BuildContext context) {

                                                                                      String? _character="Video";
                                                                                      isSelected1[e]=true;
                                                                                      List<String> drop=[];
                                                                                      for(var i=0;i<snapshot.data!.data.data.stages.length-1;i++)
                                                                                      {
                                                                                        drop.add(snapshot.data!.data.data.stages[i].key.toString());
                                                                                      }


                                                                                      return AlertDialog(
                                                                                        //title: Text('Delete This Contact?'),
                                                                                        shape: RoundedRectangleBorder(
                                                                                            borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                        insetPadding: EdgeInsets.zero,
                                                                                        content: Container(
                                                                                          width: double.infinity,
                                                                                          //height: Wrap(),
                                                                                          child: SingleChildScrollView(
                                                                                            child: Column(
                                                                                              mainAxisSize: MainAxisSize.min,
                                                                                              children: [
                                                                                                Column(
                                                                                                  children: [
                                                                                                    Row(
                                                                                                      children: [
                                                                                                        GestureDetector(
                                                                                                          onTap: (){
                                                                                                            Navigator.pop(context);

                                                                                                          },
                                                                                                          child: Icon(
                                                                                                            Icons.arrow_back_ios,
                                                                                                            color: Colors.black,
                                                                                                            size: 25,
                                                                                                          ),
                                                                                                        ),
                                                                                                        Text(
                                                                                                          " Schedule an Interview    ",
                                                                                                          style: TextStyle(
                                                                                                              fontWeight: FontWeight.bold, fontSize: 25),
                                                                                                        )
                                                                                                      ],
                                                                                                    ),
                                                                                                    SizedBox(
                                                                                                      height: 20,
                                                                                                    ),
                                                                                                    Form(
                                                                                                        key: _formKey,
                                                                                                        child: Column(
                                                                                                          mainAxisSize: MainAxisSize.max,
                                                                                                          crossAxisAlignment: CrossAxisAlignment.stretch,
                                                                                                          children: <Widget>[
                                                                                                            Text(
                                                                                                              "  Select Round",
                                                                                                              style: TextStyle(
                                                                                                                color: Colors.grey,
                                                                                                                fontFamily: 'Candara',
                                                                                                              ),
                                                                                                            ),

                                                                                                            FormField<String>(
                                                                                                              builder: (FormFieldState<String> state) {
                                                                                                                String _currentSelectedValue='';
                                                                                                                return Container(
                                                                                                                  height: 60,
                                                                                                                  padding: EdgeInsets.only(left: 0,right: 0),
                                                                                                                  child: InputDecorator(
                                                                                                                    decoration: InputDecoration(
                                                                                                                      //labelText: 'CLASS',
                                                                                                                        prefixIcon: Icon(Icons.leaderboard,color: Colors.grey),
                                                                                                                        labelStyle: TextStyle(fontFamily: "Candara"),
                                                                                                                        errorStyle: TextStyle(fontFamily:"Candara",color: Colors.redAccent, fontSize: 16.0),
                                                                                                                        //hintText: 'Please select expense',
                                                                                                                        enabledBorder:OutlineInputBorder(
                                                                                                                            borderSide: const BorderSide(color: Colors.grey, width: 2.0),
                                                                                                                            borderRadius: BorderRadius.circular(15)),
                                                                                                                        focusedBorder: OutlineInputBorder(
                                                                                                                            borderSide: const BorderSide(color: Colors.orangeAccent,width: 2.0),
                                                                                                                            borderRadius: BorderRadius.circular(15)
                                                                                                                        )),
                                                                                                                    //border: OutlineInputBorder(borderRadius: BorderRadius.circular(5.0))),
                                                                                                                    isEmpty: _currentSelectedValue == '',
                                                                                                                    child: DropdownButtonHideUnderline(
                                                                                                                        child: DropdownButton(
                                                                                                                          menuMaxHeight: 200,
                                                                                                                          hint: _dropDownValue == null
                                                                                                                              ? Text('Dropdown')
                                                                                                                              : Text(
                                                                                                                            _dropDownValue,
                                                                                                                            style: TextStyle(fontFamily: "Candara",color: Colors.black,fontSize: 16),
                                                                                                                          ),
                                                                                                                          isExpanded: false,
                                                                                                                          iconSize: 30.0,
                                                                                                                          style: TextStyle(color: Colors.black),
                                                                                                                          items: drop.map(
                                                                                                                                (val) {
                                                                                                                              return DropdownMenuItem<String>(
                                                                                                                                value: val,
                                                                                                                                child: Text(val),
                                                                                                                              );
                                                                                                                            },
                                                                                                                          ).toList(),
                                                                                                                          onChanged: (String? val) {
                                                                                                                            setState(() {
                                                                                                                              _dropDownValue = val!;
                                                                                                                            });

                                                                                                                            (context as Element).markNeedsBuild();

                                                                                                                          },
                                                                                                                        )
                                                                                                                    ),
                                                                                                                  ),
                                                                                                                );
                                                                                                              },
                                                                                                            ),
                                                                                                            SizedBox(height: 20),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (dateController.text.isEmpty) return 'Enter date from list';
                                                                                                                },
                                                                                                                controller: dateController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  prefixIcon: GestureDetector(
                                                                                                                      onTap: (){
                                                                                                                        _selectDate(context);
                                                                                                                      },
                                                                                                                      child: Icon(Icons.date_range,color: Colors.grey,)),
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter Date',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                readOnly: true,
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Please select time';
                                                                                                                },
                                                                                                                controller: timeController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  prefixIcon: GestureDetector(
                                                                                                                      onTap: (){
                                                                                                                        _selectTime(context);
                                                                                                                      },
                                                                                                                      child: Icon(Icons.access_time,color: Colors.grey,)),
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Select time',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20,),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Enter Interviewer Name';
                                                                                                                },
                                                                                                                controller: intnameController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Enter interviewer name',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20),
                                                                                                            Container(
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Enter interviewer E-mail';
                                                                                                                },
                                                                                                                controller: intmailController,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  labelText: 'Interviewer E-mail ',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  prefixIcon: Icon(Icons.mail_outline, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(
                                                                                                              height: 20,
                                                                                                            ),
                                                                                                            Center(
                                                                                                              child: SingleChildScrollView(
                                                                                                                scrollDirection: Axis.horizontal,
                                                                                                                child: Center(
                                                                                                                  child: ToggleButtons(
                                                                                                                    children: <Widget>[
                                                                                                                      Text("  Video  ",
                                                                                                                          style: TextStyle(
                                                                                                                            fontSize: 20,
                                                                                                                            fontFamily: "Candara",
                                                                                                                          )),
                                                                                                                      Text("  Phone  ",
                                                                                                                          style: TextStyle(
                                                                                                                            fontSize: 20,
                                                                                                                            fontFamily: "Candara",
                                                                                                                          )),

                                                                                                                    ],
                                                                                                                    selectedBorderColor: Colors.blue[800],
                                                                                                                    selectedColor: Colors.white,
                                                                                                                    borderColor: Colors.blue,
                                                                                                                    borderRadius: BorderRadius.circular(10),
                                                                                                                    disabledColor: Colors.transparent,
                                                                                                                    disabledBorderColor: Colors.transparent,
                                                                                                                    focusColor: Colors.blue[800],
                                                                                                                    fillColor: Colors.blue[800],
                                                                                                                    onPressed: (int index) {
                                                                                                                      setState(() {
                                                                                                                        e=index;
                                                                                                                        for (int buttonIndex = 0;
                                                                                                                        buttonIndex < isSelected1.length;
                                                                                                                        buttonIndex++) {
                                                                                                                          if (buttonIndex == index) {
                                                                                                                            isSelected1[buttonIndex] = true;
                                                                                                                          } else {
                                                                                                                            isSelected1[buttonIndex] = false;
                                                                                                                          }

                                                                                                                        }


                                                                                                                      });
                                                                                                                      (context as Element).markNeedsBuild();
                                                                                                                    },
                                                                                                                    isSelected: isSelected1,
                                                                                                                  ),
                                                                                                                ),
                                                                                                              ),
                                                                                                            ),
                                                                                                            SizedBox(height: 20,),
                                                                                                            if(e==0)
                                                                                                              Container(
                                                                                                                //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                                child: TextFormField(
                                                                                                                  //readOnly: true,
                                                                                                                  validator: (input) {
                                                                                                                    if (input!.isEmpty && e==0) return 'Please enter meetlink';
                                                                                                                  },
                                                                                                                  controller: meetlink,
                                                                                                                  decoration: InputDecoration(
                                                                                                                    prefixIcon: Icon(Icons.video_call,color: Colors.grey,),
                                                                                                                    //fillColor: Colors.white,
                                                                                                                    enabledBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.grey, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    focusedBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.orangeAccent, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    labelText: 'Enter meet link',
                                                                                                                    labelStyle: TextStyle(
                                                                                                                        fontFamily: "Candara", color: Colors.grey),
                                                                                                                    //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                    fillColor: Colors.grey,
                                                                                                                    focusColor: Colors.orangeAccent,
                                                                                                                  ),
                                                                                                                  // onSaved: (input) => _name = input!
                                                                                                                ),
                                                                                                              ),
                                                                                                            if(e==1)
                                                                                                              Container(
                                                                                                                //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                                child: TextFormField(
                                                                                                                  //readOnly: true,
                                                                                                                  validator: (input) {
                                                                                                                    if (input!.isEmpty && e==1) return 'Please enter phone';
                                                                                                                  },
                                                                                                                  controller: phonelink,
                                                                                                                  keyboardType: TextInputType.phone,
                                                                                                                  decoration: InputDecoration(
                                                                                                                    prefixIcon: Icon(Icons.phone,color: Colors.grey,),
                                                                                                                    //fillColor: Colors.white,
                                                                                                                    enabledBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.grey, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    focusedBorder: OutlineInputBorder(
                                                                                                                        borderSide: const BorderSide(
                                                                                                                            color: Colors.orangeAccent, width: 2.0),
                                                                                                                        borderRadius: BorderRadius.circular(15)),
                                                                                                                    labelText: 'Enter phone no.',
                                                                                                                    labelStyle: TextStyle(
                                                                                                                        fontFamily: "Candara", color: Colors.grey),
                                                                                                                    //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                    fillColor: Colors.grey,
                                                                                                                    focusColor: Colors.orangeAccent,
                                                                                                                  ),
                                                                                                                  // onSaved: (input) => _name = input!
                                                                                                                ),
                                                                                                              ),
                                                                                                            SizedBox(
                                                                                                              height: 15,
                                                                                                            ),
                                                                                                            Container(
                                                                                                              height: 160,
                                                                                                              //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                              child: TextFormField(
                                                                                                                expands: true,
                                                                                                                maxLines: null,

                                                                                                                validator: (input) {
                                                                                                                  if (input!.isEmpty) return 'Add comments';
                                                                                                                },
                                                                                                                controller: comments,
                                                                                                                decoration: InputDecoration(
                                                                                                                  //fillColor: Colors.white,
                                                                                                                  enabledBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.grey, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),
                                                                                                                  focusedBorder: OutlineInputBorder(
                                                                                                                      borderSide: const BorderSide(
                                                                                                                          color: Colors.orangeAccent, width: 2.0),
                                                                                                                      borderRadius: BorderRadius.circular(15)),

                                                                                                                  labelText: 'Add comments',
                                                                                                                  labelStyle: TextStyle(
                                                                                                                      fontFamily: "Candara", color: Colors.grey),
                                                                                                                  //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                                  fillColor: Colors.grey,
                                                                                                                  focusColor: Colors.orangeAccent,
                                                                                                                ),
                                                                                                                // onSaved: (input) => _name = input!
                                                                                                              ),
                                                                                                            ),
                                                                                                          ],
                                                                                                        )),


                                                                                                    //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                  ],
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ),
                                                                                        actions: <Widget>[
                                                                                          Center(
                                                                                            child: Row(
                                                                                              mainAxisAlignment: MainAxisAlignment.center,
                                                                                              children: [
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Row(
                                                                                                    children: [
                                                                                                      Icon(Icons.access_time,color: Colors.white,size: 20,),
                                                                                                      Text(
                                                                                                        '  Schedule',
                                                                                                        style: TextStyle(
                                                                                                          fontFamily: 'Candara',
                                                                                                        ),
                                                                                                      ),
                                                                                                    ],
                                                                                                  ),
                                                                                                  onPressed: () async {
                                                                                                    if(_formKey.currentState!.validate()&& _dropDownValue!="")
                                                                                                    {
                                                                                                      String date= dateController.text;
                                                                                                      String time= timeController.text;
                                                                                                      String link;
                                                                                                      String commet= comments.text;
                                                                                                      String type;
                                                                                                      if(e==0) {
                                                                                                        type = "Video";
                                                                                                        link=meetlink.text;
                                                                                                      }
                                                                                                      else
                                                                                                      {
                                                                                                        type="Audio";
                                                                                                        link=phonelink.text;
                                                                                                      }


                                                                                                      Interview log = await INTERVIEWapi(snapshot.data!.data.data.intetviewListCandidates[i].userId.toString(),_dropDownValue,intnameController.text,intmailController.text,type,date,time,link,commet);

                                                                                                      if(interview_code==200) {
                                                                                                        Navigator.pop(context);
                                                                                                        final Future<ConfirmAction7?> action =
                                                                                                        await _asyncConfirmDialog7(context, "${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()}");
                                                                                                      }

                                                                                                      if(interview_code==401){
                                                                                                        Navigator.pop(context);
                                                                                                        showDialog<String>(
                                                                                                            context: context,
                                                                                                            builder: (BuildContext context) => AlertDialog(
                                                                                                              title: const Text("Try Again"),
                                                                                                              content: const Text("Couldn't schedule interview"),
                                                                                                              actions: <Widget>[
                                                                                                                TextButton(
                                                                                                                    onPressed: () => Navigator.pop(context, 'OK'),
                                                                                                                    child: const Text('OK',style: TextStyle(color: Colors.teal))
                                                                                                                ),
                                                                                                              ],
                                                                                                            ));
                                                                                                      }
                                                                                                    }


                                                                                                  },
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ],
                                                                                      );
                                                                                    },
                                                                                  );


                                                                                },
                                                                                child: Card(
                                                                                  color: Colors.blue.shade200,
                                                                                  child: Padding(
                                                                                    padding: const EdgeInsets.all(5.0),
                                                                                    child: Row(
                                                                                      mainAxisAlignment: MainAxisAlignment.center,
                                                                                      children: [
                                                                                        Icon(Icons.upgrade,color:Colors.white,size: 18,),
                                                                                        //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                        SizedBox(width: 5,),
                                                                                        Text("Move next round",style: TextStyle(color: Colors.white,fontSize: 14),),
                                                                                      ],
                                                                                    ),
                                                                                  ),
                                                                                )
                                                                            ),
                                                                            GestureDetector(
                                                                                onTap: () {
                                                                                  showDialog(
                                                                                    context: context,
                                                                                    barrierDismissible: false, // user must tap button for close dialog!
                                                                                    builder: (BuildContext context) {
                                                                                      remarks=TextEditingController();
                                                                                      reasons=TextEditingController();
                                                                                      return AlertDialog(
                                                                                        //title: Text('Delete This Contact?'),
                                                                                        shape: RoundedRectangleBorder(
                                                                                            borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                        title: Center(
                                                                                          child: Text(
                                                                                            "Reject ${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()}?",
                                                                                            style: TextStyle(
                                                                                                fontWeight: FontWeight.bold,
                                                                                                fontFamily: 'Candara',
                                                                                                color: Colors.blue[800]),
                                                                                          ),
                                                                                        ),
                                                                                        content: Container(
                                                                                          width: double.infinity,
                                                                                          //height: Wrap(),
                                                                                          child: Column(
                                                                                            mainAxisSize: MainAxisSize.min,
                                                                                            children: [
                                                                                              SizedBox(
                                                                                                height: 20,
                                                                                              ),
                                                                                              Form(
                                                                                                  key: _formKey2,
                                                                                                  child: Column(
                                                                                                    mainAxisSize: MainAxisSize.max,
                                                                                                    crossAxisAlignment: CrossAxisAlignment.stretch,
                                                                                                    children: <Widget>[

                                                                                                      Container(
                                                                                                        //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                        child: TextFormField(
                                                                                                          keyboardType: TextInputType.number,
                                                                                                          validator: (input) {
                                                                                                            if (dateController.text.isEmpty) return ' Enter Reasons';
                                                                                                          },
                                                                                                          controller: reasons,
                                                                                                          decoration: InputDecoration(
                                                                                                            //fillColor: Colors.white,
                                                                                                            prefixIcon: Icon(Icons.question_mark,color: Colors.grey,),
                                                                                                            enabledBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.grey, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),
                                                                                                            focusedBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.orangeAccent, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),
                                                                                                            labelText: 'Enter Reason',
                                                                                                            labelStyle: TextStyle(
                                                                                                                fontFamily: "Candara", color: Colors.grey),
                                                                                                            //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                            fillColor: Colors.grey,
                                                                                                            focusColor: Colors.orangeAccent,
                                                                                                          ),
                                                                                                          // onSaved: (input) => _name = input!
                                                                                                        ),
                                                                                                      ),
                                                                                                      SizedBox(height: 20),
                                                                                                      Container(
                                                                                                        height: 160,
                                                                                                        //padding: EdgeInsets.only(left: 5, right: 5),
                                                                                                        child: TextFormField(
                                                                                                          expands: true,
                                                                                                          maxLines: null,

                                                                                                          validator: (input) {
                                                                                                            if (input!.isEmpty) return 'Add Remarks';
                                                                                                          },
                                                                                                          controller: remarks,
                                                                                                          decoration: InputDecoration(
                                                                                                            //fillColor: Colors.white,
                                                                                                            enabledBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.grey, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),
                                                                                                            focusedBorder: OutlineInputBorder(
                                                                                                                borderSide: const BorderSide(
                                                                                                                    color: Colors.orangeAccent, width: 2.0),
                                                                                                                borderRadius: BorderRadius.circular(15)),

                                                                                                            labelText: 'Add Remarks',
                                                                                                            labelStyle: TextStyle(
                                                                                                                fontFamily: "Candara", color: Colors.grey),
                                                                                                            //prefixIcon: Icon(Icons.person_outline_sharp, color: Colors.grey),
                                                                                                            fillColor: Colors.grey,
                                                                                                            focusColor: Colors.orangeAccent,
                                                                                                          ),
                                                                                                          // onSaved: (input) => _name = input!
                                                                                                        ),
                                                                                                      ),


                                                                                                    ],
                                                                                                  )),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                        actions: <Widget>[
                                                                                          Center(
                                                                                            child: Row(
                                                                                              mainAxisAlignment: MainAxisAlignment.center,
                                                                                              children: [
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Text(
                                                                                                    'Reject',
                                                                                                    style: TextStyle(
                                                                                                      fontFamily: 'Candara',
                                                                                                    ),
                                                                                                  ),
                                                                                                  onPressed: () async{
                                                                                                    if(_formKey2.currentState!.validate()) {
                                                                                                      Shortlist c = await rejectapi(
                                                                                                          snapshot.data!.data.data.intetviewListCandidates[i].userId.toString(),
                                                                                                          reasons.text,
                                                                                                          remarks.text);
                                                                                                      if (reject_code == 200)
                                                                                                      {
                                                                                                        Navigator.pop(context);
                                                                                                        showDialog(
                                                                                                          context: context,
                                                                                                          barrierDismissible: false, // user must tap button for close dialog!
                                                                                                          builder: (BuildContext context) {

                                                                                                            return AlertDialog(
                                                                                                              //title: Text('Delete This Contact?'),
                                                                                                              shape: RoundedRectangleBorder(
                                                                                                                  borderRadius: BorderRadius.all(Radius.circular(15))),
                                                                                                              insetPadding: EdgeInsets.zero,
                                                                                                              content: Container(
                                                                                                                width: double.infinity,
                                                                                                                //height: Wrap(),
                                                                                                                child: SingleChildScrollView(
                                                                                                                  child: Column(
                                                                                                                    mainAxisSize: MainAxisSize.min,
                                                                                                                    children: [
                                                                                                                      Column(
                                                                                                                        children: [
                                                                                                                          Text(
                                                                                                                            " Rejected ${snapshot.data!.data.data.intetviewListCandidates[i].name.toString()} successfully",
                                                                                                                            style: TextStyle(
                                                                                                                                fontWeight: FontWeight.bold, fontSize: 25),
                                                                                                                          ),

                                                                                                                          //OutlinedButton(onPressed: () {}, child: Text('New Student')),
                                                                                                                        ],
                                                                                                                      ),
                                                                                                                    ],
                                                                                                                  ),
                                                                                                                ),
                                                                                                              ),
                                                                                                              actions: <Widget>[
                                                                                                                Center(
                                                                                                                  child: Row(
                                                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                                                    children: [
                                                                                                                      ElevatedButton(
                                                                                                                        style: ButtonStyle(
                                                                                                                            backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                                                Color.fromARGB(255, 59, 48, 214))),
                                                                                                                        child: Row(
                                                                                                                          children: [
                                                                                                                            Icon(Icons.check_circle_outline,color: Colors.white,size: 20,),
                                                                                                                            Text(
                                                                                                                              '  Okay',
                                                                                                                              style: TextStyle(
                                                                                                                                fontFamily: 'Candara',
                                                                                                                              ),
                                                                                                                            ),
                                                                                                                          ],
                                                                                                                        ),
                                                                                                                        onPressed: () async {
                                                                                                                          Navigator.pop(context);
                                                                                                                          Navigator.push(
                                                                                                                              context,
                                                                                                                              MaterialPageRoute(
                                                                                                                                  builder: (context) => Dashboard()));


                                                                                                                        },
                                                                                                                      ),
                                                                                                                    ],
                                                                                                                  ),
                                                                                                                ),
                                                                                                              ],
                                                                                                            );
                                                                                                          },
                                                                                                        );
                                                                                                      }

                                                                                                    }
                                                                                                  },
                                                                                                ),
                                                                                                SizedBox(width: 20,),
                                                                                                ElevatedButton(
                                                                                                  style: ButtonStyle(
                                                                                                      backgroundColor: MaterialStateProperty.all<Color>(
                                                                                                          Color.fromARGB(255, 59, 48, 214))),
                                                                                                  child: Text(
                                                                                                    'Cancel',
                                                                                                    style: TextStyle(
                                                                                                      fontFamily: 'Candara',
                                                                                                    ),
                                                                                                  ),
                                                                                                  onPressed: () {

                                                                                                    Navigator.pop(context);
                                                                                                  },
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ],
                                                                                      );
                                                                                    },
                                                                                  );
                                                                                },
                                                                                child: Card(
                                                                                  color: Colors.redAccent,
                                                                                  child: Padding(
                                                                                    padding: const EdgeInsets.all(5.0),
                                                                                    child: Row(
                                                                                      mainAxisAlignment: MainAxisAlignment.center,
                                                                                      children: [
                                                                                        Icon(Icons.remove_circle_outline,color: Colors.white,size: 18,),
                                                                                        //Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                        SizedBox(width: 5,),
                                                                                        Text("Reject",style: TextStyle(color: Colors.white,fontSize: 15),),
                                                                                      ],
                                                                                    ),
                                                                                  ),
                                                                                )
                                                                            )


                                                                          ],
                                                                        ),

                                                                      ],
                                                                    ),
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                          ),
                                                        ),
                                                        SizedBox(height: 10,)
                                                      ],
                                                    ),

                                            ]
                                        ),


                                      //hired
                                      if(k==3)
                                        Column(
                                            children:[
                                              if(_dropDownValueNot1==""&&_dropDownValuectc==""&&_dropDownValueexp=="")
                                                for(var i=0;i<snapshot.data!.data.data.selectedListCandidates.length;i++)
                                                  Column(
                                                    children: [
                                                      GestureDetector(
                                                        onTap:(){
                                                          Navigator.push(
                                                              context, MaterialPageRoute(
                                                              builder: (context) => Candidate(snapshot.data!.data.data.selectedListCandidates[i].userId.toString())));


                                                        },
                                                        child: Card(
                                                          elevation: 5,
                                                          shape: RoundedRectangleBorder(
                                                              borderRadius: BorderRadius.all(Radius.circular(10))),
                                                          child: Container(
                                                            padding: EdgeInsets.all(8),
                                                            child: Column(
                                                              children: [
                                                                Row(
                                                                  mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                  crossAxisAlignment: CrossAxisAlignment.center,
                                                                  children: [
                                                                    Row(
                                                                      children: [
                                                                        Column(
                                                                          children: [
                                                                            Center(
                                                                              child: CircleAvatar(
                                                                                backgroundColor: Colors.transparent,
                                                                                backgroundImage: snapshot.data!.data.data.selectedListCandidates[i].profileImage==null?
                                                                                NetworkImage("http://kobl.ai/img/profile.png")
                                                                                    :             NetworkImage("${snapshot.data!.data.data.selectedListCandidates[i].profileImage}"),
                                                                                radius: 28,
                                                                              ),
                                                                            ),
                                                                            SizedBox(height: 5,),
                                                                            RatingBarIndicator(
                                                                              rating: 2.75,
                                                                              itemBuilder: (context, index) => Icon(
                                                                                Icons.star,
                                                                                color: Colors.amber,
                                                                              ),
                                                                              itemCount: 5,
                                                                              itemSize: 15,
                                                                              direction: Axis.horizontal,
                                                                            ),
                                                                          ],
                                                                        ),
                                                                        SizedBox(width: 20,),
                                                                        Column(
                                                                          crossAxisAlignment: CrossAxisAlignment.start,
                                                                          children: [
                                                                            Text(
                                                                              "${snapshot.data!.data.data.selectedListCandidates[i].name}",
                                                                              style: TextStyle(
                                                                                fontWeight: FontWeight.bold,
                                                                                fontFamily: 'Candara',
                                                                                fontSize: 18,
                                                                              ),
                                                                            ),
                                                                            SizedBox(height:5),
                                                                            Text(
                                                                                '${snapshot.data!.data.data.selectedListCandidates[i].designation}',
                                                                                style: TextStyle(
                                                                                  fontWeight: FontWeight.bold,
                                                                                  fontFamily: 'Candara',
                                                                                  color: Colors.blue,
                                                                                  fontSize: 16,
                                                                                ),
                                                                                maxLines: 5,
                                                                                overflow: TextOverflow.ellipsis),

                                                                            SizedBox(
                                                                              height: 10,
                                                                            ),
                                                                            if(snapshot.data!.data.data.selectedListCandidates[i].notice.toString()!="0")
                                                                              Text("Notice : ${snapshot.data!.data.data.selectedListCandidates[i].notice} days",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                            if(snapshot.data!.data.data.selectedListCandidates[i].notice.toString()=="0")
                                                                              Text("Notice : Immediate",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),

                                                                            SizedBox(height: 5,),
                                                                            Row(
                                                                              children: [
                                                                                Text("CTC : ${snapshot.data!.data.data.selectedListCandidates[i].ctc} LPA",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                Text("     Exp : ${snapshot.data!.data.data.selectedListCandidates[i].exp} yrs",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                              ],
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                          ],
                                                                        ),
                                                                      ],
                                                                    ),
                                                                    Icon(Icons.arrow_forward_ios_outlined,color: Colors.orangeAccent,size: 20,),
                                                                  ],
                                                                ),
                                                                Container(
                                                                  //height: 100,
                                                                  padding: EdgeInsets.only(left: 10, right: 10, top: 10,bottom: 10),
                                                                  child: Column(
                                                                    crossAxisAlignment: CrossAxisAlignment.start,
                                                                    children: <Widget>[
                                                                      GridView.count(
                                                                        shrinkWrap: true,
                                                                        childAspectRatio: 2.5,
                                                                        crossAxisSpacing:3,
                                                                        mainAxisSpacing: 3,
                                                                        crossAxisCount: 3,
                                                                        children: <Widget>[
                                                                          for(var i=0;i<3;i++)
                                                                            GestureDetector(
                                                                                onTap: () {
                                                                                },
                                                                                child: Card(
                                                                                  color: Colors.blue.shade200,
                                                                                  child: Padding(
                                                                                    padding: const EdgeInsets.all(5.0),
                                                                                    child: Row(
                                                                                      children: [
                                                                                        Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                        SizedBox(width: 5,),
                                                                                        Text("Google",style: TextStyle(color: Colors.white,fontSize: 15),),
                                                                                      ],
                                                                                    ),
                                                                                  ),
                                                                                )
                                                                            )


                                                                        ],
                                                                      ),

                                                                    ],
                                                                  ),
                                                                ),
                                                              ],
                                                            ),
                                                          ),
                                                        ),
                                                      ),
                                                      SizedBox(height: 10,)
                                                    ],
                                                  ),

                                              //notice filter
                                              if(_dropDownValueNot1!=""&&_dropDownValuectc==""&&_dropDownValueexp=="")
                                                for(var i=0;i<snapshot.data!.data.data.selectedListCandidates.length;i++)
                                                  if("${snapshot.data!.data.data.selectedListCandidates[i].notice} days" == _dropDownValueNot1)
                                                    Column(
                                                      children: [
                                                        GestureDetector(
                                                          onTap:(){
                                                            Navigator.push(
                                                                context, MaterialPageRoute(
                                                                builder: (context) => Candidate(snapshot.data!.data.data.selectedListCandidates[i].userId.toString())));


                                                          },
                                                          child: Card(
                                                            elevation: 5,
                                                            shape: RoundedRectangleBorder(
                                                                borderRadius: BorderRadius.all(Radius.circular(10))),
                                                            child: Container(
                                                              padding: EdgeInsets.all(8),
                                                              child: Column(
                                                                children: [
                                                                  Row(
                                                                    mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                    crossAxisAlignment: CrossAxisAlignment.center,
                                                                    children: [
                                                                      Row(
                                                                        children: [
                                                                          Column(
                                                                            children: [
                                                                              Center(
                                                                                child: CircleAvatar(
                                                                                  backgroundColor: Colors.transparent,
                                                                                  backgroundImage: snapshot.data!.data.data.selectedListCandidates[i].profileImage==null?
                                                                                  NetworkImage("http://kobl.ai/img/profile.png")
                                                                                      :             NetworkImage("${snapshot.data!.data.data.selectedListCandidates[i].profileImage}"),
                                                                                  radius: 28,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height: 5,),
                                                                              RatingBarIndicator(
                                                                                rating: 2.75,
                                                                                itemBuilder: (context, index) => Icon(
                                                                                  Icons.star,
                                                                                  color: Colors.amber,
                                                                                ),
                                                                                itemCount: 5,
                                                                                itemSize: 15,
                                                                                direction: Axis.horizontal,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          SizedBox(width: 20,),
                                                                          Column(
                                                                            crossAxisAlignment: CrossAxisAlignment.start,
                                                                            children: [
                                                                              Text(
                                                                                "${snapshot.data!.data.data.selectedListCandidates[i].name}",
                                                                                style: TextStyle(
                                                                                  fontWeight: FontWeight.bold,
                                                                                  fontFamily: 'Candara',
                                                                                  fontSize: 18,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height:5),
                                                                              Text(
                                                                                  '${snapshot.data!.data.data.selectedListCandidates[i].designation}',
                                                                                  style: TextStyle(
                                                                                    fontWeight: FontWeight.bold,
                                                                                    fontFamily: 'Candara',
                                                                                    color: Colors.blue,
                                                                                    fontSize: 16,
                                                                                  ),
                                                                                  maxLines: 5,
                                                                                  overflow: TextOverflow.ellipsis),

                                                                              SizedBox(
                                                                                height: 10,
                                                                              ),
                                                                              if(snapshot.data!.data.data.selectedListCandidates[i].notice.toString()!="0")
                                                                                Text("Notice : ${snapshot.data!.data.data.selectedListCandidates[i].notice} days",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                              if(snapshot.data!.data.data.selectedListCandidates[i].notice.toString()=="0")
                                                                                Text("Notice : Immediate",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),

                                                                              SizedBox(height: 5,),
                                                                              Row(
                                                                                children: [
                                                                                  Text("CTC : ${snapshot.data!.data.data.selectedListCandidates[i].ctc} LPA",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                  Text("     Exp : ${snapshot.data!.data.data.selectedListCandidates[i].exp} yrs",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                ],
                                                                              ),
                                                                              SizedBox(
                                                                                height: 5,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ],
                                                                      ),
                                                                      Icon(Icons.arrow_forward_ios_outlined,color: Colors.orangeAccent,size: 20,),
                                                                    ],
                                                                  ),
                                                                  Container(
                                                                    //height: 100,
                                                                    padding: EdgeInsets.only(left: 10, right: 10, top: 10,bottom: 10),
                                                                    child: Column(
                                                                      crossAxisAlignment: CrossAxisAlignment.start,
                                                                      children: <Widget>[
                                                                        GridView.count(
                                                                          shrinkWrap: true,
                                                                          childAspectRatio: 2.5,
                                                                          crossAxisSpacing:3,
                                                                          mainAxisSpacing: 3,
                                                                          crossAxisCount: 3,
                                                                          children: <Widget>[
                                                                            for(var i=0;i<3;i++)
                                                                              GestureDetector(
                                                                                  onTap: () {
                                                                                  },
                                                                                  child: Card(
                                                                                    color: Colors.blue.shade200,
                                                                                    child: Padding(
                                                                                      padding: const EdgeInsets.all(5.0),
                                                                                      child: Row(
                                                                                        children: [
                                                                                          Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                          SizedBox(width: 5,),
                                                                                          Text("Google",style: TextStyle(color: Colors.white,fontSize: 15),),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                  )
                                                                              )


                                                                          ],
                                                                        ),

                                                                      ],
                                                                    ),
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                          ),
                                                        ),
                                                        SizedBox(height: 10,)
                                                      ],
                                                    ),


                                              //ctcfilter
                                              if(_dropDownValueNot1==""&&_dropDownValuectc!=""&&_dropDownValueexp=="")
                                                for(var i=0;i<snapshot.data!.data.data.selectedListCandidates.length;i++)
                                                  if("${snapshot.data!.data.data.selectedListCandidates[i].ctc} LPA" == _dropDownValuectc)
                                                    Column(
                                                      children: [
                                                        GestureDetector(
                                                          onTap:(){
                                                            Navigator.push(
                                                                context, MaterialPageRoute(
                                                                builder: (context) => Candidate(snapshot.data!.data.data.selectedListCandidates[i].userId.toString())));


                                                          },
                                                          child: Card(
                                                            elevation: 5,
                                                            shape: RoundedRectangleBorder(
                                                                borderRadius: BorderRadius.all(Radius.circular(10))),
                                                            child: Container(
                                                              padding: EdgeInsets.all(8),
                                                              child: Column(
                                                                children: [
                                                                  Row(
                                                                    mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                    crossAxisAlignment: CrossAxisAlignment.center,
                                                                    children: [
                                                                      Row(
                                                                        children: [
                                                                          Column(
                                                                            children: [
                                                                              Center(
                                                                                child: CircleAvatar(
                                                                                  backgroundColor: Colors.transparent,
                                                                                  backgroundImage: snapshot.data!.data.data.selectedListCandidates[i].profileImage==null?
                                                                                  NetworkImage("http://kobl.ai/img/profile.png")
                                                                                      :             NetworkImage("${snapshot.data!.data.data.selectedListCandidates[i].profileImage}"),
                                                                                  radius: 28,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height: 5,),
                                                                              RatingBarIndicator(
                                                                                rating: 2.75,
                                                                                itemBuilder: (context, index) => Icon(
                                                                                  Icons.star,
                                                                                  color: Colors.amber,
                                                                                ),
                                                                                itemCount: 5,
                                                                                itemSize: 15,
                                                                                direction: Axis.horizontal,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          SizedBox(width: 20,),
                                                                          Column(
                                                                            crossAxisAlignment: CrossAxisAlignment.start,
                                                                            children: [
                                                                              Text(
                                                                                "${snapshot.data!.data.data.selectedListCandidates[i].name}",
                                                                                style: TextStyle(
                                                                                  fontWeight: FontWeight.bold,
                                                                                  fontFamily: 'Candara',
                                                                                  fontSize: 18,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height:5),
                                                                              Text(
                                                                                  '${snapshot.data!.data.data.selectedListCandidates[i].designation}',
                                                                                  style: TextStyle(
                                                                                    fontWeight: FontWeight.bold,
                                                                                    fontFamily: 'Candara',
                                                                                    color: Colors.blue,
                                                                                    fontSize: 16,
                                                                                  ),
                                                                                  maxLines: 5,
                                                                                  overflow: TextOverflow.ellipsis),

                                                                              SizedBox(
                                                                                height: 10,
                                                                              ),
                                                                              if(snapshot.data!.data.data.selectedListCandidates[i].notice.toString()!="0")
                                                                                Text("Notice : ${snapshot.data!.data.data.selectedListCandidates[i].notice} days",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                              if(snapshot.data!.data.data.selectedListCandidates[i].notice.toString()=="0")
                                                                                Text("Notice : Immediate",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),

                                                                              SizedBox(height: 5,),
                                                                              Row(
                                                                                children: [
                                                                                  Text("CTC : ${snapshot.data!.data.data.selectedListCandidates[i].ctc} LPA",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                  Text("     Exp : ${snapshot.data!.data.data.selectedListCandidates[i].exp} yrs",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                ],
                                                                              ),
                                                                              SizedBox(
                                                                                height: 5,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ],
                                                                      ),
                                                                      Icon(Icons.arrow_forward_ios_outlined,color: Colors.orangeAccent,size: 20,),
                                                                    ],
                                                                  ),
                                                                  Container(
                                                                    //height: 100,
                                                                    padding: EdgeInsets.only(left: 10, right: 10, top: 10,bottom: 10),
                                                                    child: Column(
                                                                      crossAxisAlignment: CrossAxisAlignment.start,
                                                                      children: <Widget>[
                                                                        GridView.count(
                                                                          shrinkWrap: true,
                                                                          childAspectRatio: 2.5,
                                                                          crossAxisSpacing:3,
                                                                          mainAxisSpacing: 3,
                                                                          crossAxisCount: 3,
                                                                          children: <Widget>[
                                                                            for(var i=0;i<3;i++)
                                                                              GestureDetector(
                                                                                  onTap: () {
                                                                                  },
                                                                                  child: Card(
                                                                                    color: Colors.blue.shade200,
                                                                                    child: Padding(
                                                                                      padding: const EdgeInsets.all(5.0),
                                                                                      child: Row(
                                                                                        children: [
                                                                                          Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                          SizedBox(width: 5,),
                                                                                          Text("Google",style: TextStyle(color: Colors.white,fontSize: 15),),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                  )
                                                                              )


                                                                          ],
                                                                        ),

                                                                      ],
                                                                    ),
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                          ),
                                                        ),
                                                        SizedBox(height: 10,)
                                                      ],
                                                    ),


                                              //expfilter
                                              if(_dropDownValueNot1==""&&_dropDownValuectc==""&&_dropDownValueexp!="")
                                                for(var i=0;i<snapshot.data!.data.data.selectedListCandidates.length;i++)
                                                  if("${snapshot.data!.data.data.selectedListCandidates[i].exp} yrs" == _dropDownValueexp)
                                                    Column(
                                                      children: [
                                                        GestureDetector(
                                                          onTap:(){
                                                            Navigator.push(
                                                                context, MaterialPageRoute(
                                                                builder: (context) => Candidate(snapshot.data!.data.data.selectedListCandidates[i].userId.toString())));


                                                          },
                                                          child: Card(
                                                            elevation: 5,
                                                            shape: RoundedRectangleBorder(
                                                                borderRadius: BorderRadius.all(Radius.circular(10))),
                                                            child: Container(
                                                              padding: EdgeInsets.all(8),
                                                              child: Column(
                                                                children: [
                                                                  Row(
                                                                    mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                    crossAxisAlignment: CrossAxisAlignment.center,
                                                                    children: [
                                                                      Row(
                                                                        children: [
                                                                          Column(
                                                                            children: [
                                                                              Center(
                                                                                child: CircleAvatar(
                                                                                  backgroundColor: Colors.transparent,
                                                                                  backgroundImage: snapshot.data!.data.data.selectedListCandidates[i].profileImage==null?
                                                                                  NetworkImage("http://kobl.ai/img/profile.png")
                                                                                      :             NetworkImage("${snapshot.data!.data.data.selectedListCandidates[i].profileImage}"),
                                                                                  radius: 28,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height: 5,),
                                                                              RatingBarIndicator(
                                                                                rating: 2.75,
                                                                                itemBuilder: (context, index) => Icon(
                                                                                  Icons.star,
                                                                                  color: Colors.amber,
                                                                                ),
                                                                                itemCount: 5,
                                                                                itemSize: 15,
                                                                                direction: Axis.horizontal,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          SizedBox(width: 20,),
                                                                          Column(
                                                                            crossAxisAlignment: CrossAxisAlignment.start,
                                                                            children: [
                                                                              Text(
                                                                                "${snapshot.data!.data.data.selectedListCandidates[i].name}",
                                                                                style: TextStyle(
                                                                                  fontWeight: FontWeight.bold,
                                                                                  fontFamily: 'Candara',
                                                                                  fontSize: 18,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height:5),
                                                                              Text(
                                                                                  '${snapshot.data!.data.data.selectedListCandidates[i].designation}',
                                                                                  style: TextStyle(
                                                                                    fontWeight: FontWeight.bold,
                                                                                    fontFamily: 'Candara',
                                                                                    color: Colors.blue,
                                                                                    fontSize: 16,
                                                                                  ),
                                                                                  maxLines: 5,
                                                                                  overflow: TextOverflow.ellipsis),

                                                                              SizedBox(
                                                                                height: 10,
                                                                              ),
                                                                              if(snapshot.data!.data.data.selectedListCandidates[i].notice.toString()!="0")
                                                                                Text("Notice : ${snapshot.data!.data.data.selectedListCandidates[i].notice} days",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                              if(snapshot.data!.data.data.selectedListCandidates[i].notice.toString()=="0")
                                                                                Text("Notice : Immediate",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),

                                                                              SizedBox(height: 5,),
                                                                              Row(
                                                                                children: [
                                                                                  Text("CTC : ${snapshot.data!.data.data.selectedListCandidates[i].ctc} LPA",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                  Text("     Exp : ${snapshot.data!.data.data.selectedListCandidates[i].exp} yrs",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                ],
                                                                              ),
                                                                              SizedBox(
                                                                                height: 5,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ],
                                                                      ),
                                                                      Icon(Icons.arrow_forward_ios_outlined,color: Colors.orangeAccent,size: 20,),
                                                                    ],
                                                                  ),
                                                                  Container(
                                                                    //height: 100,
                                                                    padding: EdgeInsets.only(left: 10, right: 10, top: 10,bottom: 10),
                                                                    child: Column(
                                                                      crossAxisAlignment: CrossAxisAlignment.start,
                                                                      children: <Widget>[
                                                                        GridView.count(
                                                                          shrinkWrap: true,
                                                                          childAspectRatio: 2.5,
                                                                          crossAxisSpacing:3,
                                                                          mainAxisSpacing: 3,
                                                                          crossAxisCount: 3,
                                                                          children: <Widget>[
                                                                            for(var i=0;i<3;i++)
                                                                              GestureDetector(
                                                                                  onTap: () {
                                                                                  },
                                                                                  child: Card(
                                                                                    color: Colors.blue.shade200,
                                                                                    child: Padding(
                                                                                      padding: const EdgeInsets.all(5.0),
                                                                                      child: Row(
                                                                                        children: [
                                                                                          Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                          SizedBox(width: 5,),
                                                                                          Text("Google",style: TextStyle(color: Colors.white,fontSize: 15),),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                  )
                                                                              )


                                                                          ],
                                                                        ),

                                                                      ],
                                                                    ),
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                          ),
                                                        ),
                                                        SizedBox(height: 10,)
                                                      ],
                                                    ),


                                              //not&exp
                                              if(_dropDownValueNot1!=""&&_dropDownValuectc==""&&_dropDownValueexp!="")
                                                for(var i=0;i<snapshot.data!.data.data.selectedListCandidates.length;i++)
                                                  if("${snapshot.data!.data.data.selectedListCandidates[i].notice} days" == _dropDownValueNot1 &&
                                                      "${snapshot.data!.data.data.selectedListCandidates[i].exp} yrs" == _dropDownValueexp )
                                                    Column(
                                                      children: [
                                                        GestureDetector(
                                                          onTap:(){
                                                            Navigator.push(
                                                                context, MaterialPageRoute(
                                                                builder: (context) => Candidate(snapshot.data!.data.data.selectedListCandidates[i].userId.toString())));


                                                          },
                                                          child: Card(
                                                            elevation: 5,
                                                            shape: RoundedRectangleBorder(
                                                                borderRadius: BorderRadius.all(Radius.circular(10))),
                                                            child: Container(
                                                              padding: EdgeInsets.all(8),
                                                              child: Column(
                                                                children: [
                                                                  Row(
                                                                    mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                    crossAxisAlignment: CrossAxisAlignment.center,
                                                                    children: [
                                                                      Row(
                                                                        children: [
                                                                          Column(
                                                                            children: [
                                                                              Center(
                                                                                child: CircleAvatar(
                                                                                  backgroundColor: Colors.transparent,
                                                                                  backgroundImage: snapshot.data!.data.data.selectedListCandidates[i].profileImage==null?
                                                                                  NetworkImage("http://kobl.ai/img/profile.png")
                                                                                      :             NetworkImage("${snapshot.data!.data.data.selectedListCandidates[i].profileImage}"),
                                                                                  radius: 28,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height: 5,),
                                                                              RatingBarIndicator(
                                                                                rating: 2.75,
                                                                                itemBuilder: (context, index) => Icon(
                                                                                  Icons.star,
                                                                                  color: Colors.amber,
                                                                                ),
                                                                                itemCount: 5,
                                                                                itemSize: 15,
                                                                                direction: Axis.horizontal,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          SizedBox(width: 20,),
                                                                          Column(
                                                                            crossAxisAlignment: CrossAxisAlignment.start,
                                                                            children: [
                                                                              Text(
                                                                                "${snapshot.data!.data.data.selectedListCandidates[i].name}",
                                                                                style: TextStyle(
                                                                                  fontWeight: FontWeight.bold,
                                                                                  fontFamily: 'Candara',
                                                                                  fontSize: 18,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height:5),
                                                                              Text(
                                                                                  '${snapshot.data!.data.data.selectedListCandidates[i].designation}',
                                                                                  style: TextStyle(
                                                                                    fontWeight: FontWeight.bold,
                                                                                    fontFamily: 'Candara',
                                                                                    color: Colors.blue,
                                                                                    fontSize: 16,
                                                                                  ),
                                                                                  maxLines: 5,
                                                                                  overflow: TextOverflow.ellipsis),

                                                                              SizedBox(
                                                                                height: 10,
                                                                              ),
                                                                              if(snapshot.data!.data.data.selectedListCandidates[i].notice.toString()!="0")
                                                                                Text("Notice : ${snapshot.data!.data.data.selectedListCandidates[i].notice} days",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                              if(snapshot.data!.data.data.selectedListCandidates[i].notice.toString()=="0")
                                                                                Text("Notice : Immediate",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),

                                                                              SizedBox(height: 5,),
                                                                              Row(
                                                                                children: [
                                                                                  Text("CTC : ${snapshot.data!.data.data.selectedListCandidates[i].ctc} LPA",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                  Text("     Exp : ${snapshot.data!.data.data.selectedListCandidates[i].exp} yrs",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                ],
                                                                              ),
                                                                              SizedBox(
                                                                                height: 5,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ],
                                                                      ),
                                                                      Icon(Icons.arrow_forward_ios_outlined,color: Colors.orangeAccent,size: 20,),
                                                                    ],
                                                                  ),
                                                                  Container(
                                                                    //height: 100,
                                                                    padding: EdgeInsets.only(left: 10, right: 10, top: 10,bottom: 10),
                                                                    child: Column(
                                                                      crossAxisAlignment: CrossAxisAlignment.start,
                                                                      children: <Widget>[
                                                                        GridView.count(
                                                                          shrinkWrap: true,
                                                                          childAspectRatio: 2.5,
                                                                          crossAxisSpacing:3,
                                                                          mainAxisSpacing: 3,
                                                                          crossAxisCount: 3,
                                                                          children: <Widget>[
                                                                            for(var i=0;i<3;i++)
                                                                              GestureDetector(
                                                                                  onTap: () {
                                                                                  },
                                                                                  child: Card(
                                                                                    color: Colors.blue.shade200,
                                                                                    child: Padding(
                                                                                      padding: const EdgeInsets.all(5.0),
                                                                                      child: Row(
                                                                                        children: [
                                                                                          Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                          SizedBox(width: 5,),
                                                                                          Text("Google",style: TextStyle(color: Colors.white,fontSize: 15),),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                  )
                                                                              )


                                                                          ],
                                                                        ),

                                                                      ],
                                                                    ),
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                          ),
                                                        ),
                                                        SizedBox(height: 10,)
                                                      ],
                                                    ),


                                              //not&ctc
                                              if(_dropDownValueNot1!=""&&_dropDownValuectc!=""&&_dropDownValueexp=="")
                                                for(var i=0;i<snapshot.data!.data.data.selectedListCandidates.length;i++)
                                                  if("${snapshot.data!.data.data.selectedListCandidates[i].notice} days" == _dropDownValueNot1 &&
                                                      "${snapshot.data!.data.data.selectedListCandidates[i].ctc} LPA" == _dropDownValuectc )
                                                    Column(
                                                      children: [
                                                        GestureDetector(
                                                          onTap:(){
                                                            Navigator.push(
                                                                context, MaterialPageRoute(
                                                                builder: (context) => Candidate(snapshot.data!.data.data.selectedListCandidates[i].userId.toString())));


                                                          },
                                                          child: Card(
                                                            elevation: 5,
                                                            shape: RoundedRectangleBorder(
                                                                borderRadius: BorderRadius.all(Radius.circular(10))),
                                                            child: Container(
                                                              padding: EdgeInsets.all(8),
                                                              child: Column(
                                                                children: [
                                                                  Row(
                                                                    mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                    crossAxisAlignment: CrossAxisAlignment.center,
                                                                    children: [
                                                                      Row(
                                                                        children: [
                                                                          Column(
                                                                            children: [
                                                                              Center(
                                                                                child: CircleAvatar(
                                                                                  backgroundColor: Colors.transparent,
                                                                                  backgroundImage: snapshot.data!.data.data.selectedListCandidates[i].profileImage==null?
                                                                                  NetworkImage("http://kobl.ai/img/profile.png")
                                                                                      :             NetworkImage("${snapshot.data!.data.data.selectedListCandidates[i].profileImage}"),
                                                                                  radius: 28,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height: 5,),
                                                                              RatingBarIndicator(
                                                                                rating: 2.75,
                                                                                itemBuilder: (context, index) => Icon(
                                                                                  Icons.star,
                                                                                  color: Colors.amber,
                                                                                ),
                                                                                itemCount: 5,
                                                                                itemSize: 15,
                                                                                direction: Axis.horizontal,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          SizedBox(width: 20,),
                                                                          Column(
                                                                            crossAxisAlignment: CrossAxisAlignment.start,
                                                                            children: [
                                                                              Text(
                                                                                "${snapshot.data!.data.data.selectedListCandidates[i].name}",
                                                                                style: TextStyle(
                                                                                  fontWeight: FontWeight.bold,
                                                                                  fontFamily: 'Candara',
                                                                                  fontSize: 18,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height:5),
                                                                              Text(
                                                                                  '${snapshot.data!.data.data.selectedListCandidates[i].designation}',
                                                                                  style: TextStyle(
                                                                                    fontWeight: FontWeight.bold,
                                                                                    fontFamily: 'Candara',
                                                                                    color: Colors.blue,
                                                                                    fontSize: 16,
                                                                                  ),
                                                                                  maxLines: 5,
                                                                                  overflow: TextOverflow.ellipsis),

                                                                              SizedBox(
                                                                                height: 10,
                                                                              ),
                                                                              if(snapshot.data!.data.data.selectedListCandidates[i].notice.toString()!="0")
                                                                                Text("Notice : ${snapshot.data!.data.data.selectedListCandidates[i].notice} days",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                              if(snapshot.data!.data.data.selectedListCandidates[i].notice.toString()=="0")
                                                                                Text("Notice : Immediate",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),

                                                                              SizedBox(height: 5,),
                                                                              Row(
                                                                                children: [
                                                                                  Text("CTC : ${snapshot.data!.data.data.selectedListCandidates[i].ctc} LPA",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                  Text("     Exp : ${snapshot.data!.data.data.selectedListCandidates[i].exp} yrs",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                ],
                                                                              ),
                                                                              SizedBox(
                                                                                height: 5,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ],
                                                                      ),
                                                                      Icon(Icons.arrow_forward_ios_outlined,color: Colors.orangeAccent,size: 20,),
                                                                    ],
                                                                  ),
                                                                  Container(
                                                                    //height: 100,
                                                                    padding: EdgeInsets.only(left: 10, right: 10, top: 10,bottom: 10),
                                                                    child: Column(
                                                                      crossAxisAlignment: CrossAxisAlignment.start,
                                                                      children: <Widget>[
                                                                        GridView.count(
                                                                          shrinkWrap: true,
                                                                          childAspectRatio: 2.5,
                                                                          crossAxisSpacing:3,
                                                                          mainAxisSpacing: 3,
                                                                          crossAxisCount: 3,
                                                                          children: <Widget>[
                                                                            for(var i=0;i<3;i++)
                                                                              GestureDetector(
                                                                                  onTap: () {
                                                                                  },
                                                                                  child: Card(
                                                                                    color: Colors.blue.shade200,
                                                                                    child: Padding(
                                                                                      padding: const EdgeInsets.all(5.0),
                                                                                      child: Row(
                                                                                        children: [
                                                                                          Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                          SizedBox(width: 5,),
                                                                                          Text("Google",style: TextStyle(color: Colors.white,fontSize: 15),),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                  )
                                                                              )


                                                                          ],
                                                                        ),

                                                                      ],
                                                                    ),
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                          ),
                                                        ),
                                                        SizedBox(height: 10,)
                                                      ],
                                                    ),


                                              //CTC&EXP
                                              if(_dropDownValueNot1==""&&_dropDownValuectc!=""&&_dropDownValueexp!="")
                                                for(var i=0;i<snapshot.data!.data.data.selectedListCandidates.length;i++)
                                                  if("${snapshot.data!.data.data.selectedListCandidates[i].exp} yrs" == _dropDownValueexp &&
                                                      "${snapshot.data!.data.data.selectedListCandidates[i].ctc} LPA" == _dropDownValuectc )
                                                    Column(
                                                      children: [
                                                        GestureDetector(
                                                          onTap:(){
                                                            Navigator.push(
                                                                context, MaterialPageRoute(
                                                                builder: (context) => Candidate(snapshot.data!.data.data.selectedListCandidates[i].userId.toString())));


                                                          },
                                                          child: Card(
                                                            elevation: 5,
                                                            shape: RoundedRectangleBorder(
                                                                borderRadius: BorderRadius.all(Radius.circular(10))),
                                                            child: Container(
                                                              padding: EdgeInsets.all(8),
                                                              child: Column(
                                                                children: [
                                                                  Row(
                                                                    mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                    crossAxisAlignment: CrossAxisAlignment.center,
                                                                    children: [
                                                                      Row(
                                                                        children: [
                                                                          Column(
                                                                            children: [
                                                                              Center(
                                                                                child: CircleAvatar(
                                                                                  backgroundColor: Colors.transparent,
                                                                                  backgroundImage: snapshot.data!.data.data.selectedListCandidates[i].profileImage==null?
                                                                                  NetworkImage("http://kobl.ai/img/profile.png")
                                                                                      :             NetworkImage("${snapshot.data!.data.data.selectedListCandidates[i].profileImage}"),
                                                                                  radius: 28,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height: 5,),
                                                                              RatingBarIndicator(
                                                                                rating: 2.75,
                                                                                itemBuilder: (context, index) => Icon(
                                                                                  Icons.star,
                                                                                  color: Colors.amber,
                                                                                ),
                                                                                itemCount: 5,
                                                                                itemSize: 15,
                                                                                direction: Axis.horizontal,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          SizedBox(width: 20,),
                                                                          Column(
                                                                            crossAxisAlignment: CrossAxisAlignment.start,
                                                                            children: [
                                                                              Text(
                                                                                "${snapshot.data!.data.data.selectedListCandidates[i].name}",
                                                                                style: TextStyle(
                                                                                  fontWeight: FontWeight.bold,
                                                                                  fontFamily: 'Candara',
                                                                                  fontSize: 18,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height:5),
                                                                              Text(
                                                                                  '${snapshot.data!.data.data.selectedListCandidates[i].designation}',
                                                                                  style: TextStyle(
                                                                                    fontWeight: FontWeight.bold,
                                                                                    fontFamily: 'Candara',
                                                                                    color: Colors.blue,
                                                                                    fontSize: 16,
                                                                                  ),
                                                                                  maxLines: 5,
                                                                                  overflow: TextOverflow.ellipsis),

                                                                              SizedBox(
                                                                                height: 10,
                                                                              ),
                                                                              if(snapshot.data!.data.data.selectedListCandidates[i].notice.toString()!="0")
                                                                                Text("Notice : ${snapshot.data!.data.data.selectedListCandidates[i].notice} days",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                              if(snapshot.data!.data.data.selectedListCandidates[i].notice.toString()=="0")
                                                                                Text("Notice : Immediate",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),

                                                                              SizedBox(height: 5,),
                                                                              Row(
                                                                                children: [
                                                                                  Text("CTC : ${snapshot.data!.data.data.selectedListCandidates[i].ctc} LPA",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                  Text("     Exp : ${snapshot.data!.data.data.selectedListCandidates[i].exp} yrs",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                ],
                                                                              ),
                                                                              SizedBox(
                                                                                height: 5,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ],
                                                                      ),
                                                                      Icon(Icons.arrow_forward_ios_outlined,color: Colors.orangeAccent,size: 20,),
                                                                    ],
                                                                  ),
                                                                  Container(
                                                                    //height: 100,
                                                                    padding: EdgeInsets.only(left: 10, right: 10, top: 10,bottom: 10),
                                                                    child: Column(
                                                                      crossAxisAlignment: CrossAxisAlignment.start,
                                                                      children: <Widget>[
                                                                        GridView.count(
                                                                          shrinkWrap: true,
                                                                          childAspectRatio: 2.5,
                                                                          crossAxisSpacing:3,
                                                                          mainAxisSpacing: 3,
                                                                          crossAxisCount: 3,
                                                                          children: <Widget>[
                                                                            for(var i=0;i<3;i++)
                                                                              GestureDetector(
                                                                                  onTap: () {
                                                                                  },
                                                                                  child: Card(
                                                                                    color: Colors.blue.shade200,
                                                                                    child: Padding(
                                                                                      padding: const EdgeInsets.all(5.0),
                                                                                      child: Row(
                                                                                        children: [
                                                                                          Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                          SizedBox(width: 5,),
                                                                                          Text("Google",style: TextStyle(color: Colors.white,fontSize: 15),),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                  )
                                                                              )


                                                                          ],
                                                                        ),

                                                                      ],
                                                                    ),
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                          ),
                                                        ),
                                                        SizedBox(height: 10,)
                                                      ],
                                                    ),

                                              //all filter
                                              if(_dropDownValueNot1!=""&&_dropDownValuectc!=""&&_dropDownValueexp!="")
                                                for(var i=0;i<snapshot.data!.data.data.selectedListCandidates.length;i++)
                                                  if("${snapshot.data!.data.data.selectedListCandidates[i].notice} days" == _dropDownValueNot1 &&
                                                      "${snapshot.data!.data.data.selectedListCandidates[i].ctc} LPA" == _dropDownValuectc &&
                                                      "${snapshot.data!.data.data.selectedListCandidates[i].exp} yrs" == _dropDownValueexp)
                                                    Column(
                                                      children: [
                                                        GestureDetector(
                                                          onTap:(){
                                                            Navigator.push(
                                                                context, MaterialPageRoute(
                                                                builder: (context) => Candidate(snapshot.data!.data.data.selectedListCandidates[i].userId.toString())));


                                                          },
                                                          child: Card(
                                                            elevation: 5,
                                                            shape: RoundedRectangleBorder(
                                                                borderRadius: BorderRadius.all(Radius.circular(10))),
                                                            child: Container(
                                                              padding: EdgeInsets.all(8),
                                                              child: Column(
                                                                children: [
                                                                  Row(
                                                                    mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                    crossAxisAlignment: CrossAxisAlignment.center,
                                                                    children: [
                                                                      Row(
                                                                        children: [
                                                                          Column(
                                                                            children: [
                                                                              Center(
                                                                                child: CircleAvatar(
                                                                                  backgroundColor: Colors.transparent,
                                                                                  backgroundImage: snapshot.data!.data.data.selectedListCandidates[i].profileImage==null?
                                                                                  NetworkImage("http://kobl.ai/img/profile.png")
                                                                                      :             NetworkImage("${snapshot.data!.data.data.selectedListCandidates[i].profileImage}"),
                                                                                  radius: 28,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height: 5,),
                                                                              RatingBarIndicator(
                                                                                rating: 2.75,
                                                                                itemBuilder: (context, index) => Icon(
                                                                                  Icons.star,
                                                                                  color: Colors.amber,
                                                                                ),
                                                                                itemCount: 5,
                                                                                itemSize: 15,
                                                                                direction: Axis.horizontal,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          SizedBox(width: 20,),
                                                                          Column(
                                                                            crossAxisAlignment: CrossAxisAlignment.start,
                                                                            children: [
                                                                              Text(
                                                                                "${snapshot.data!.data.data.selectedListCandidates[i].name}",
                                                                                style: TextStyle(
                                                                                  fontWeight: FontWeight.bold,
                                                                                  fontFamily: 'Candara',
                                                                                  fontSize: 18,
                                                                                ),
                                                                              ),
                                                                              SizedBox(height:5),
                                                                              Text(
                                                                                  '${snapshot.data!.data.data.selectedListCandidates[i].designation}',
                                                                                  style: TextStyle(
                                                                                    fontWeight: FontWeight.bold,
                                                                                    fontFamily: 'Candara',
                                                                                    color: Colors.blue,
                                                                                    fontSize: 16,
                                                                                  ),
                                                                                  maxLines: 5,
                                                                                  overflow: TextOverflow.ellipsis),

                                                                              SizedBox(
                                                                                height: 10,
                                                                              ),
                                                                              if(snapshot.data!.data.data.selectedListCandidates[i].notice.toString()!="0")
                                                                                Text("Notice : ${snapshot.data!.data.data.selectedListCandidates[i].notice} days",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                              if(snapshot.data!.data.data.selectedListCandidates[i].notice.toString()=="0")
                                                                                Text("Notice : Immediate",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),

                                                                              SizedBox(height: 5,),
                                                                              Row(
                                                                                children: [
                                                                                  Text("CTC : ${snapshot.data!.data.data.selectedListCandidates[i].ctc} LPA",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                  Text("     Exp : ${snapshot.data!.data.data.selectedListCandidates[i].exp} yrs",style: TextStyle(fontFamily: "Candara",fontSize: 14,fontWeight: FontWeight.bold),overflow: TextOverflow.ellipsis,maxLines: 2),
                                                                                ],
                                                                              ),
                                                                              SizedBox(
                                                                                height: 5,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ],
                                                                      ),
                                                                      Icon(Icons.arrow_forward_ios_outlined,color: Colors.orangeAccent,size: 20,),
                                                                    ],
                                                                  ),
                                                                  Container(
                                                                    //height: 100,
                                                                    padding: EdgeInsets.only(left: 10, right: 10, top: 10,bottom: 10),
                                                                    child: Column(
                                                                      crossAxisAlignment: CrossAxisAlignment.start,
                                                                      children: <Widget>[
                                                                        GridView.count(
                                                                          shrinkWrap: true,
                                                                          childAspectRatio: 2.5,
                                                                          crossAxisSpacing:3,
                                                                          mainAxisSpacing: 3,
                                                                          crossAxisCount: 3,
                                                                          children: <Widget>[
                                                                            for(var i=0;i<3;i++)
                                                                              GestureDetector(
                                                                                  onTap: () {
                                                                                  },
                                                                                  child: Card(
                                                                                    color: Colors.blue.shade200,
                                                                                    child: Padding(
                                                                                      padding: const EdgeInsets.all(5.0),
                                                                                      child: Row(
                                                                                        children: [
                                                                                          Image(image: AssetImage("images/google.png"),height: 15,width: 15,),
                                                                                          SizedBox(width: 5,),
                                                                                          Text("Google",style: TextStyle(color: Colors.white,fontSize: 15),),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                  )
                                                                              )


                                                                          ],
                                                                        ),

                                                                      ],
                                                                    ),
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                          ),
                                                        ),
                                                        SizedBox(height: 10,)
                                                      ],
                                                    ),


                                            ]
                                        ),

                                      SizedBox(height: 10,),

                                      SizedBox(
                                        height: 30,
                                      )




                                    ],
                                  ),
                                ),
                              ),
                            )),
                      );
                    }
                    else
                      return Center(child: Container(child: CircularProgressIndicator(color: Colors.deepOrange,)));
                  }
              )


    );
  }
}


late DateTime _selectedDate;
_selectDate(BuildContext context) async {
  DateTime? newSelectedDate = await showDatePicker(
    context: context,
    initialDate: DateTime.now(),
    firstDate: DateTime(2010, 1),
    lastDate: DateTime(2025, 12),
  ).then((pickedDate) {
    //do whatever you want
    if(pickedDate!=null){
      dateController.text = pickedDate.toString().split(" ")[0];
    }});

  if (newSelectedDate != null) {
    _selectedDate = newSelectedDate;
    dateController
      ..text = DateFormat.yMMMd().format(_selectedDate)
      ..selection = TextSelection.fromPosition(TextPosition(
          offset: dateController.text.length,
          affinity: TextAffinity.upstream));
  }
}

class AlwaysDisabledFocusNode extends FocusNode {
  @override
  bool get hasFocus => false;
}

_selectTime(BuildContext context) async {
  DateTime? newSelectedTime = await showTimePicker(
      context: context,
      initialTime: TimeOfDay.now()

  ).then((pickedTime) {
    //do whatever you want
    if(pickedTime!=null){
      timeController.text = pickedTime.toString().split("(")[1].split(")")[0];
    }});

  if (newSelectedTime != null) {
    _selectedDate = newSelectedTime;
    timeController
      ..text = DateFormat.yMMMd().format(_selectedDate)
      ..selection = TextSelection.fromPosition(TextPosition(
          offset: dateController.text.length,
          affinity: TextAffinity.upstream));
  }
}


//moved to interview popup
enum ConfirmAction7 { Reject, Invite }
Future<Future<ConfirmAction7?>> _asyncConfirmDialog7(
    BuildContext context, String id) async {
  return showDialog<ConfirmAction7>(
    context: context,
    barrierDismissible: false, // user must tap button for close dialog!
    builder: (BuildContext context) {
      return AlertDialog(
        //title: Text('Delete This Contact?'),
        shape: RoundedRectangleBorder(
            borderRadius: BorderRadius.all(Radius.circular(15))),

        content: Container(
          width: double.infinity,
          //height: Wrap(),
          child: Column(
            mainAxisSize: MainAxisSize.min,
            children: [
              Column(
                children: [
                  Image.asset(
                    "images/interview.png",
                    height: 150,
                    width: 150,
                  ),
                  SizedBox(
                    height: 10,
                  ),
                  Text(
                    "${id}\nis moved \nto the next stage",
                    style: TextStyle(fontSize: 25),
                    textAlign: TextAlign.center,
                  ),
                ],
              ),
            ],
          ),
        ),
        actions: <Widget>[
          Center(
            child: Row(
              mainAxisAlignment: MainAxisAlignment.center,
              children: [
                ElevatedButton(
                  style: ButtonStyle(
                      backgroundColor: MaterialStateProperty.all<Color>(
                          Color.fromARGB(255, 59, 48, 214))),
                  child: Text(
                    'OKAY',
                    style: TextStyle(
                      fontFamily: 'Candara',
                    ),
                  ),
                  onPressed: () {
                    Navigator.pop(context);

                  },
                ),
              ],
            ),
          ),
        ],
      );
    },
  );
}